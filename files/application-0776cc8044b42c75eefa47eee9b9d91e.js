/*! jQuery v1.8.3 jquery.com | jquery.org/license */
/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
if(function(t,e){function i(t){var e=fe[t]={};return J.each(t.split(ee),function(t,i){e[i]=!0}),e}function n(t,i,n){if(n===e&&1===t.nodeType){var o="data-"+i.replace(ge,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:me.test(n)?J.parseJSON(n):n}catch(s){}J.data(t,i,n)}else n=e}return n}function o(t){var e;for(e in t)if(("data"!==e||!J.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function s(){return!1}function r(){return!0}function a(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(e=e||0,J.isFunction(e))return J.grep(t,function(t,n){var o=!!e.call(t,n,t);return o===i});if(e.nodeType)return J.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=J.grep(t,function(t){return 1===t.nodeType});if(Pe.test(e))return J.filter(e,n,!i);e=J.filter(e,n)}return J.grep(t,function(t){return J.inArray(t,e)>=0===i})}function h(t){var e=Fe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function c(t,e){if(1===e.nodeType&&J.hasData(t)){var i,n,o,s=J._data(t),r=J._data(e,s),a=s.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)J.event.add(e,i,a[i][n])}r.data&&(r.data=J.extend({},r.data))}}function u(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),J.support.html5Clone&&t.innerHTML&&!J.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Qe.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(J.expando))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){Qe.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=vi.length;o--;)if(e=vi[o]+i,e in t)return e;return n}function v(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)}function y(t,e){for(var i,n,o=[],s=0,r=t.length;r>s;s++)i=t[s],i.style&&(o[s]=J._data(i,"olddisplay"),e?(!o[s]&&"none"===i.style.display&&(i.style.display=""),""===i.style.display&&v(i)&&(o[s]=J._data(i,"olddisplay",k(i.nodeName)))):(n=ii(i,"display"),!o[s]&&"none"!==n&&J._data(i,"olddisplay",n)));for(s=0;r>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function b(t,e,i){var n=hi.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function w(t,e,i,n){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=J.css(t,i+gi[o],!0)),n?("content"===i&&(s-=parseFloat(ii(t,"padding"+gi[o]))||0),"margin"!==i&&(s-=parseFloat(ii(t,"border"+gi[o]+"Width"))||0)):(s+=parseFloat(ii(t,"padding"+gi[o]))||0,"padding"!==i&&(s+=parseFloat(ii(t,"border"+gi[o]+"Width"))||0));return s}function x(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,o=!0,s=J.support.boxSizing&&"border-box"===J.css(t,"boxSizing");if(0>=n||null==n){if(n=ii(t,e),(0>n||null==n)&&(n=t.style[e]),pi.test(n))return n;o=s&&(J.support.boxSizingReliable||n===t.style[e]),n=parseFloat(n)||0}return n+w(t,e,i||(s?"border":"content"),o)+"px"}function k(t){if(ui[t])return ui[t];var e=J("<"+t+">").appendTo(H.body),i=e.css("display");return e.remove(),("none"===i||""===i)&&(ni=H.body.appendChild(ni||J.extend(H.createElement("iframe"),{frameBorder:0,width:0,height:0})),oi&&ni.createElement||(oi=(ni.contentWindow||ni.contentDocument).document,oi.write("<!doctype html><html><body>"),oi.close()),e=oi.body.appendChild(oi.createElement(t)),i=ii(e,"display"),H.body.removeChild(ni)),ui[t]=i,i}function E(t,e,i,n){var o;if(J.isArray(e))J.each(e,function(e,o){i||wi.test(t)?n(t,o):E(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==J.type(e))n(t,e);else for(o in e)E(t+"["+o+"]",e[o],i,n)}function C(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o,s,r=e.toLowerCase().split(ee),a=0,l=r.length;if(J.isFunction(i))for(;l>a;a++)n=r[a],s=/^\+/.test(n),s&&(n=n.substr(1)||"*"),o=t[n]=t[n]||[],o[s?"unshift":"push"](i)}}function $(t,i,n,o,s,r){s=s||i.dataTypes[0],r=r||{},r[s]=!0;for(var a,l=t[s],d=0,h=l?l.length:0,p=t===Pi;h>d&&(p||!a);d++)a=l[d](i,n,o),"string"==typeof a&&(!p||r[a]?a=e:(i.dataTypes.unshift(a),a=$(t,i,n,o,a,r)));return(p||!a)&&!r["*"]&&(a=$(t,i,n,o,"*",r)),a}function T(t,i){var n,o,s=J.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((s[n]?t:o||(o={}))[n]=i[n]);o&&J.extend(!0,t,o)}function S(t,i,n){var o,s,r,a,l=t.contents,d=t.dataTypes,h=t.responseFields;for(s in h)s in n&&(i[h[s]]=n[s]);for(;"*"===d[0];)d.shift(),o===e&&(o=t.mimeType||i.getResponseHeader("content-type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){d.unshift(s);break}if(d[0]in n)r=d[0];else{for(s in n){if(!d[0]||t.converters[s+" "+d[0]]){r=s;break}a||(a=s)}r=r||a}return r?(r!==d[0]&&d.unshift(r),n[r]):void 0}function _(t,e){var i,n,o,s,r=t.dataTypes.slice(),a=r[0],l={},d=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),r[1])for(i in t.converters)l[i.toLowerCase()]=t.converters[i];for(;o=r[++d];)if("*"!==o){if("*"!==a&&a!==o){if(i=l[a+" "+o]||l["* "+o],!i)for(n in l)if(s=n.split(" "),s[1]===o&&(i=l[a+" "+s[0]]||l["* "+s[0]])){i===!0?i=l[n]:l[n]!==!0&&(o=s[0],r.splice(d--,0,o));break}if(i!==!0)if(i&&t["throws"])e=i(e);else try{e=i(e)}catch(h){return{state:"parsererror",error:i?h:"No conversion from "+a+" to "+o}}}a=o}return{state:"success",data:e}}function I(){try{return new t.XMLHttpRequest}catch(e){}}function L(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function N(){return setTimeout(function(){Vi=e},0),Vi=J.now()}function D(t,e){J.each(e,function(e,i){for(var n=(Zi[e]||[]).concat(Zi["*"]),o=0,s=n.length;s>o;o++)if(n[o].call(t,e,i))return})}function A(t,e,i){var n,o=0,s=Ji.length,r=J.Deferred().always(function(){delete a.elem}),a=function(){for(var e=Vi||N(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,o=1-n,s=0,a=l.tweens.length;a>s;s++)l.tweens[s].run(o);return r.notifyWith(t,[l,o,i]),1>o&&a?i:(r.resolveWith(t,[l]),!1)},l=r.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Vi||N(),duration:i.duration,tweens:[],createTween:function(e,i){var n=J.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){for(var i=0,n=e?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return e?r.resolveWith(t,[l,e]):r.rejectWith(t,[l,e]),this}}),d=l.props;for(M(d,l.opts.specialEasing);s>o;o++)if(n=Ji[o].call(l,t,d,l.opts))return n;return D(l,d),J.isFunction(l.opts.start)&&l.opts.start.call(t,l),J.fx.timer(J.extend(a,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(t,e){var i,n,o,s,r;for(i in t)if(n=J.camelCase(i),o=e[n],s=t[i],J.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),r=J.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=o)}else e[n]=o}function j(t,e,i){var n,o,s,r,a,l,d,h,p,c=this,u=t.style,f={},m=[],g=t.nodeType&&v(t);i.queue||(h=J._queueHooks(t,"fx"),null==h.unqueued&&(h.unqueued=0,p=h.empty.fire,h.empty.fire=function(){h.unqueued||p()}),h.unqueued++,c.always(function(){c.always(function(){h.unqueued--,J.queue(t,"fx").length||h.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===J.css(t,"display")&&"none"===J.css(t,"float")&&(J.support.inlineBlockNeedsLayout&&"inline"!==k(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",J.support.shrinkWrapBlocks||c.done(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],Qi.exec(s)){if(delete e[n],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(n)}if(r=m.length){a=J._data(t,"fxshow")||J._data(t,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?J(t).show():c.done(function(){J(t).hide()}),c.done(function(){var e;J.removeData(t,"fxshow",!0);for(e in f)J.style(t,e,f[e])});for(n=0;r>n;n++)o=m[n],d=c.createTween(o,g?a[o]:0),f[o]=a[o]||J.style(t,o),o in a||(a[o]=d.start,g&&(d.end=d.start,d.start="width"===o||"height"===o?1:0))}}function P(t,e,i,n,o){return new P.prototype.init(t,e,i,n,o)}function R(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=gi[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function B(t){return J.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var F,O,H=t.document,z=t.location,U=t.navigator,W=t.jQuery,q=t.$,X=Array.prototype.push,V=Array.prototype.slice,G=Array.prototype.indexOf,Q=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,K=String.prototype.trim,J=function(t,e){return new J.fn.init(t,e,F)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,te=/\S/,ee=/\s+/,ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,oe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^[\],:{}\s]*$/,re=/(?:^|:|,)(?:\s*\[)+/g,ae=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,de=/^-ms-/,he=/-([\da-z])/gi,pe=function(t,e){return(e+"").toUpperCase()},ce=function(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",ce,!1),J.ready()):"complete"===H.readyState&&(H.detachEvent("onreadystatechange",ce),J.ready())},ue={};J.fn=J.prototype={constructor:J,init:function(t,i,n){var o,s,r;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ne.exec(t),o&&(o[1]||!i)){if(o[1])return i=i instanceof J?i[0]:i,r=i&&i.nodeType?i.ownerDocument||i:H,t=J.parseHTML(o[1],r,!0),oe.test(o[1])&&J.isPlainObject(i)&&this.attr.call(t,i,!0),J.merge(this,t);if(s=H.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return n.find(t);this.length=1,this[0]=s}return this.context=H,this.selector=t,this}return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t)}return J.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=J.merge(this.constructor(),t);return n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return J.each(this,t,e)},ready:function(t){return J.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(t){return this.pushStack(J.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:[].sort,splice:[].splice},J.fn.init.prototype=J.fn,J.extend=J.fn.extend=function(){var t,i,n,o,s,r,a=arguments[0]||{},l=1,d=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[1]||{},l=2),"object"!=typeof a&&!J.isFunction(a)&&(a={}),d===l&&(a=this,--l);d>l;l++)if(null!=(t=arguments[l]))for(i in t)n=a[i],o=t[i],a!==o&&(h&&o&&(J.isPlainObject(o)||(s=J.isArray(o)))?(s?(s=!1,r=n&&J.isArray(n)?n:[]):r=n&&J.isPlainObject(n)?n:{},a[i]=J.extend(h,r,o)):o!==e&&(a[i]=o));return a},J.extend({noConflict:function(e){return t.$===J&&(t.$=q),e&&t.jQuery===J&&(t.jQuery=W),J},isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){if(t===!0?!--J.readyWait:!J.isReady){if(!H.body)return setTimeout(J.ready,1);J.isReady=!0,t!==!0&&--J.readyWait>0||(O.resolveWith(H,[J]),J.fn.trigger&&J(H).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray||function(t){return"array"===J.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):ue[Q.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==J.type(t)||t.nodeType||J.isWindow(t))return!1;try{if(t.constructor&&!Y.call(t,"constructor")&&!Y.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||Y.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){var n;return t&&"string"==typeof t?("boolean"==typeof e&&(i=e,e=0),e=e||H,(n=oe.exec(t))?[e.createElement(n[1])]:(n=J.buildFragment([t],e,i?null:[]),J.merge([],(n.cacheable?J.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=J.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):se.test(e.replace(ae,"@").replace(le,"]").replace(re,""))?new Function("return "+e)():void J.error("Invalid JSON: "+e)):null},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=e}return(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&te.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(de,"ms-").replace(he,pe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,i,n){var o,s=0,r=t.length,a=r===e||J.isFunction(t);if(n)if(a){for(o in t)if(i.apply(t[o],n)===!1)break}else for(;r>s&&i.apply(t[s++],n)!==!1;);else if(a){for(o in t)if(i.call(t[o],o,t[o])===!1)break}else for(;r>s&&i.call(t[s],s,t[s++])!==!1;);return t},trim:K&&!K.call("\ufeff\xa0")?function(t){return null==t?"":K.call(t)}:function(t){return null==t?"":(t+"").replace(ie,"")},makeArray:function(t,e){var i,n=e||[];return null!=t&&(i=J.type(t),null==t.length||"string"===i||"function"===i||"regexp"===i||J.isWindow(t)?X.call(n,t):J.merge(n,t)),n},inArray:function(t,e,i){var n;if(e){if(G)return G.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,o=t.length,s=0;if("number"==typeof n)for(;n>s;s++)t[o++]=i[s];else for(;i[s]!==e;)t[o++]=i[s++];return t.length=o,t},grep:function(t,e,i){var n,o=[],s=0,r=t.length;for(i=!!i;r>s;s++)n=!!e(t[s],s),i!==n&&o.push(t[s]);return o},map:function(t,i,n){var o,s,r=[],a=0,l=t.length,d=t instanceof J||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||J.isArray(t));if(d)for(;l>a;a++)o=i(t[a],a,n),null!=o&&(r[r.length]=o);else for(s in t)o=i(t[s],s,n),null!=o&&(r[r.length]=o);return r.concat.apply([],r)},guid:1,proxy:function(t,i){var n,o,s;return"string"==typeof i&&(n=t[i],i=t,t=n),J.isFunction(t)?(o=V.call(arguments,2),s=function(){return t.apply(i,o.concat(V.call(arguments)))},s.guid=t.guid=t.guid||J.guid++,s):e},access:function(t,i,n,o,s,r,a){var l,d=null==n,h=0,p=t.length;if(n&&"object"==typeof n){for(h in n)J.access(t,i,h,n[h],1,r,o);s=1}else if(o!==e){if(l=a===e&&J.isFunction(o),d&&(l?(l=i,i=function(t,e,i){return l.call(J(t),i)}):(i.call(t,o),i=null)),i)for(;p>h;h++)i(t[h],n,l?o.call(t[h],h,i(t[h],n)):o,a);s=1}return s?t:d?i.call(t):p?i(t[0],n):r},now:function(){return(new Date).getTime()}}),J.ready.promise=function(e){if(!O)if(O=J.Deferred(),"complete"===H.readyState)setTimeout(J.ready,1);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",ce,!1),t.addEventListener("load",J.ready,!1);else{H.attachEvent("onreadystatechange",ce),t.attachEvent("onload",J.ready);var i=!1;try{i=null==t.frameElement&&H.documentElement}catch(n){}i&&i.doScroll&&function o(){if(!J.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}J.ready()}}()}return O.promise(e)},J.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){ue["[object "+e+"]"]=e.toLowerCase()}),F=J(H);var fe={};J.Callbacks=function(t){t="string"==typeof t?fe[t]||i(t):J.extend({},t);var n,o,s,r,a,l,d=[],h=!t.once&&[],p=function(e){for(n=t.memory&&e,o=!0,l=r||0,r=0,a=d.length,s=!0;d&&a>l;l++)if(d[l].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}s=!1,d&&(h?h.length&&p(h.shift()):n?d=[]:c.disable())},c={add:function(){if(d){var e=d.length;!function i(e){J.each(e,function(e,n){var o=J.type(n);"function"===o?(!t.unique||!c.has(n))&&d.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),s?a=d.length:n&&(r=e,p(n))}return this},remove:function(){return d&&J.each(arguments,function(t,e){for(var i;(i=J.inArray(e,d,i))>-1;)d.splice(i,1),s&&(a>=i&&a--,l>=i&&l--)}),this},has:function(t){return J.inArray(t,d)>-1},empty:function(){return d=[],this},disable:function(){return d=h=n=e,this},disabled:function(){return!d},lock:function(){return h=e,n||c.disable(),this},locked:function(){return!h},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],d&&(!o||h)&&(s?h.push(e):p(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(i){J.each(e,function(e,n){var s=n[0],r=t[e];o[n[1]](J.isFunction(r)?function(){var t=r.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===o?i:this,[t])}:i[s])}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,n):n}},o={};return n.pipe=n.then,J.each(e,function(t,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[s[0]]=r.fire,o[s[0]+"With"]=r.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,s=V.call(arguments),r=s.length,a=1!==r||t&&J.isFunction(t.promise)?r:0,l=1===a?t:J.Deferred(),d=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?V.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>o;o++)s[o]&&J.isFunction(s[o].promise)?s[o].promise().done(d(o,n,s)).fail(l.reject).progress(d(o,i,e)):--a;return a||l.resolveWith(n,s),l.promise()}}),J.support=function(){var e,i,n,o,s,r,a,l,d,h,p,c=H.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=c.getElementsByTagName("*"),n=c.getElementsByTagName("a")[0],!i||!n||!i.length)return{};o=H.createElement("select"),s=o.appendChild(H.createElement("option")),r=c.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===r.value,optSelected:s.selected,getSetAttribute:"t"!==c.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===H.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete c.test}catch(u){e.deleteExpando=!1}if(!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",p=function(){e.noCloneEvent=!1}),c.cloneNode(!0).fireEvent("onclick"),c.detachEvent("onclick",p)),r=H.createElement("input"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","checked"),r.setAttribute("name","t"),c.appendChild(r),a=H.createDocumentFragment(),a.appendChild(c.lastChild),e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=r.checked,a.removeChild(r),a.appendChild(c),c.attachEvent)for(d in{submit:!0,change:!0,focusin:!0})l="on"+d,h=l in c,h||(c.setAttribute(l,"return;"),h="function"==typeof c[l]),e[d+"Bubbles"]=h;return J(function(){var i,n,o,s,r="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=H.getElementsByTagName("body")[0];a&&(i=H.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(i,a.firstChild),n=H.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=n.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=h&&0===o[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===n.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(n,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(n,null)||{width:"4px"}).width,s=H.createElement("div"),s.style.cssText=n.style.cssText=r,s.style.marginRight=s.style.width="0",n.style.width="1px",n.appendChild(s),e.reliableMarginRight=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),a.removeChild(i),i=n=o=s=null)}),a.removeChild(c),i=n=o=s=r=a=c=null,e}();var me=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;J.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?J.cache[t[J.expando]]:t[J.expando],!!t&&!o(t)},data:function(t,i,n,o){if(J.acceptData(t)){var s,r,a=J.expando,l="string"==typeof i,d=t.nodeType,h=d?J.cache:t,p=d?t[a]:t[a]&&a;if(p&&h[p]&&(o||h[p].data)||!l||n!==e)return p||(d?t[a]=p=J.deletedIds.pop()||J.guid++:p=a),h[p]||(h[p]={},d||(h[p].toJSON=J.noop)),("object"==typeof i||"function"==typeof i)&&(o?h[p]=J.extend(h[p],i):h[p].data=J.extend(h[p].data,i)),s=h[p],o||(s.data||(s.data={}),s=s.data),n!==e&&(s[J.camelCase(i)]=n),l?(r=s[i],null==r&&(r=s[J.camelCase(i)])):r=s,r}},removeData:function(t,e,i){if(J.acceptData(t)){var n,s,r,a=t.nodeType,l=a?J.cache:t,d=a?t[J.expando]:J.expando;if(l[d]){if(e&&(n=i?l[d]:l[d].data)){J.isArray(e)||(e in n?e=[e]:(e=J.camelCase(e),e=e in n?[e]:e.split(" ")));for(s=0,r=e.length;r>s;s++)delete n[e[s]];if(!(i?o:J.isEmptyObject)(n))return}(i||(delete l[d].data,o(l[d])))&&(a?J.cleanData([t],!0):J.support.deleteExpando||l!=l.window?delete l[d]:l[d]=null)}}},_data:function(t,e,i){return J.data(t,e,i,!0)},acceptData:function(t){var e=t.nodeName&&J.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),J.fn.extend({data:function(t,i){var o,s,r,a,l,d=this[0],h=0,p=null;if(t===e){if(this.length&&(p=J.data(d),1===d.nodeType&&!J._data(d,"parsedAttrs"))){for(r=d.attributes,l=r.length;l>h;h++)a=r[h].name,a.indexOf("data-")||(a=J.camelCase(a.substring(5)),n(d,a,p[a]));J._data(d,"parsedAttrs",!0)}return p}return"object"==typeof t?this.each(function(){J.data(this,t)}):(o=t.split(".",2),o[1]=o[1]?"."+o[1]:"",s=o[1]+"!",J.access(this,function(i){return i===e?(p=this.triggerHandler("getData"+s,[o[0]]),p===e&&d&&(p=J.data(d,t),p=n(d,t,p)),p===e&&o[1]?this.data(o[0]):p):(o[1]=i,void this.each(function(){var e=J(this);e.triggerHandler("setData"+s,o),J.data(this,t,i),e.triggerHandler("changeData"+s,o)}))},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){J.removeData(this,t)})}}),J.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=J._data(t,e),i&&(!n||J.isArray(i)?n=J._data(t,e,J.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=J.queue(t,e),n=i.length,o=i.shift(),s=J._queueHooks(t,e),r=function(){J.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return J._data(t,i)||J._data(t,i,{empty:J.Callbacks("once memory").add(function(){J.removeData(t,e+"queue",!0),J.removeData(t,i,!0)})})}}),J.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?J.queue(this[0],t):i===e?this:this.each(function(){var e=J.queue(this,t,i);J._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},delay:function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,s=J.Deferred(),r=this,a=this.length,l=function(){--o||s.resolveWith(r,[r])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)n=J._data(r[a],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),s.promise(i)}});var ve,ye,be,we=/[\t\r\n]/g,xe=/\r/g,ke=/^(?:button|input)$/i,Ee=/^(?:button|input|object|select|textarea)$/i,Ce=/^a(?:rea|)$/i,$e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Te=J.support.getSetAttribute;J.fn.extend({attr:function(t,e){return J.access(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})},prop:function(t,e){return J.access(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return t=J.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,o,s,r,a;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(ee),i=0,n=this.length;n>i;i++)if(o=this[i],1===o.nodeType)if(o.className||1!==e.length){for(s=" "+o.className+" ",r=0,a=e.length;a>r;r++)s.indexOf(" "+e[r]+" ")<0&&(s+=e[r]+" ");o.className=J.trim(s)}else o.className=t;return this},removeClass:function(t){var i,n,o,s,r,a,l;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(ee),a=0,l=this.length;l>a;a++)if(o=this[a],1===o.nodeType&&o.className){for(n=(" "+o.className+" ").replace(we," "),s=0,r=i.length;r>s;s++)for(;n.indexOf(" "+i[s]+" ")>=0;)n=n.replace(" "+i[s]+" "," ");o.className=t?J.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return this.each(J.isFunction(t)?function(i){J(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var o,s=0,r=J(this),a=e,l=t.split(ee);o=l[s++];)a=n?a:!r.hasClass(o),r[a?"addClass":"removeClass"](o);else("undefined"===i||"boolean"===i)&&(this.className&&J._data(this,"__className__",this.className),this.className=this.className||t===!1?"":J._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(we," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,o,s=this[0];{if(arguments.length)return o=J.isFunction(t),this.each(function(n){var s,r=J(this);1===this.nodeType&&(s=o?t.call(this,n,r.val()):t,null==s?s="":"number"==typeof s?s+="":J.isArray(s)&&(s=J.map(s,function(t){return null==t?"":t+""})),i=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))});if(s)return i=J.valHooks[s.type]||J.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(xe,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(J.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&J.nodeName(i.parentNode,"optgroup"))){if(e=J(i).val(),s)return e;r.push(e)}return r},set:function(t,e){var i=J.makeArray(e);return J(t).find("option").each(function(){this.selected=J.inArray(J(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{},attr:function(t,i,n,o){var s,r,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return o&&J.isFunction(J.fn[i])?J(t)[i](n):"undefined"==typeof t.getAttribute?J.prop(t,i,n):(a=1!==l||!J.isXMLDoc(t),a&&(i=i.toLowerCase(),r=J.attrHooks[i]||($e.test(i)?ye:ve)),n!==e?null===n?void J.removeAttr(t,i):r&&"set"in r&&a&&(s=r.set(t,n,i))!==e?s:(t.setAttribute(i,n+""),n):r&&"get"in r&&a&&null!==(s=r.get(t,i))?s:(s=t.getAttribute(i),null===s?e:s))},removeAttr:function(t,e){var i,n,o,s,r=0;if(e&&1===t.nodeType)for(n=e.split(ee);r<n.length;r++)o=n[r],o&&(i=J.propFix[o]||o,s=$e.test(o),s||J.attr(t,o,""),t.removeAttribute(Te?o:i),s&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(ke.test(t.nodeName)&&t.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&"radio"===e&&J.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return ve&&J.nodeName(t,"button")?ve.get(t,e):e in t?t.value:null},set:function(t,e,i){return ve&&J.nodeName(t,"button")?ve.set(t,e,i):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var o,s,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!J.isXMLDoc(t),r&&(i=J.propFix[i]||i,s=J.propHooks[i]),n!==e?s&&"set"in s&&(o=s.set(t,n,i))!==e?o:t[i]=n:s&&"get"in s&&null!==(o=s.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Ee.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:e}}}}),ye={get:function(t,i){var n,o=J.prop(t,i);return o===!0||"boolean"!=typeof o&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?J.removeAttr(t,i):(n=J.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},Te||(be={name:!0,id:!0,coords:!0},ve=J.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(be[i]?""!==n.value:n.specified)?n.value:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=H.createAttribute(i),t.setAttributeNode(n)),n.value=e+""}},J.each(["width","height"],function(t,e){J.attrHooks[e]=J.extend(J.attrHooks[e],{set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}})}),J.attrHooks.contenteditable={get:ve.get,set:function(t,e,i){""===e&&(e="false"),ve.set(t,e,i)}}),J.support.hrefNormalized||J.each(["href","src","width","height"],function(t,i){J.attrHooks[i]=J.extend(J.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),J.support.style||(J.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=e+""}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),J.support.enctype||(J.propFix.enctype="encoding"),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value
}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}})});var Se=/^(?:textarea|input|select)$/i,_e=/^([^\.]*|)(?:\.(.+)|)$/,Ie=/(?:^|\s)hover(\.\S+|)\b/,Le=/^key/,Ne=/^(?:mouse|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ae=function(t){return J.event.special.hover?t:t.replace(Ie,"mouseenter$1 mouseleave$1")};J.event={add:function(t,i,n,o,s){var r,a,l,d,h,p,c,u,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(r=J._data(t))){for(n.handler&&(f=n,n=f.handler,s=f.selector),n.guid||(n.guid=J.guid++),l=r.events,l||(r.events=l={}),a=r.handle,a||(r.handle=a=function(t){return"undefined"==typeof J||t&&J.event.triggered===t.type?e:J.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=J.trim(Ae(i)).split(" "),d=0;d<i.length;d++)h=_e.exec(i[d])||[],p=h[1],c=(h[2]||"").split(".").sort(),g=J.event.special[p]||{},p=(s?g.delegateType:g.bindType)||p,g=J.event.special[p]||{},u=J.extend({type:p,origType:h[1],data:o,handler:n,guid:n.guid,selector:s,needsContext:s&&J.expr.match.needsContext.test(s),namespace:c.join(".")},f),m=l[p],m||(m=l[p]=[],m.delegateCount=0,g.setup&&g.setup.call(t,o,c,a)!==!1||(t.addEventListener?t.addEventListener(p,a,!1):t.attachEvent&&t.attachEvent("on"+p,a))),g.add&&(g.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),s?m.splice(m.delegateCount++,0,u):m.push(u),J.event.global[p]=!0;t=null}},global:{},remove:function(t,e,i,n,o){var s,r,a,l,d,h,p,c,u,f,m,g=J.hasData(t)&&J._data(t);if(g&&(c=g.events)){for(e=J.trim(Ae(e||"")).split(" "),s=0;s<e.length;s++)if(r=_e.exec(e[s])||[],a=l=r[1],d=r[2],a){for(u=J.event.special[a]||{},a=(n?u.delegateType:u.bindType)||a,f=c[a]||[],h=f.length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=0;p<f.length;p++)m=f[p],!(!o&&l!==m.origType||i&&i.guid!==m.guid||d&&!d.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(f.splice(p--,1),m.selector&&f.delegateCount--,!u.remove||!u.remove.call(t,m)));0===f.length&&h!==f.length&&((!u.teardown||u.teardown.call(t,d,g.handle)===!1)&&J.removeEvent(t,a,g.handle),delete c[a])}else for(a in c)J.event.remove(t,a+e[s],i,n,!0);J.isEmptyObject(c)&&(delete g.handle,J.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,o,s){if(!o||3!==o.nodeType&&8!==o.nodeType){var r,a,l,d,h,p,c,u,f,m,g=i.type||i,v=[];if(De.test(g+J.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),(!o||J.event.customEvent[g])&&!J.event.global[g])return;if(i="object"==typeof i?i[J.expando]?i:new J.Event(g,i):new J.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=g.indexOf(":")<0?"on"+g:"",!o){r=J.cache;for(l in r)r[l].events&&r[l].events[g]&&J.event.trigger(i,n,r[l].handle.elem,!0);return}if(i.result=e,i.target||(i.target=o),n=null!=n?J.makeArray(n):[],n.unshift(i),c=J.event.special[g]||{},c.trigger&&c.trigger.apply(o,n)===!1)return;if(f=[[o,c.bindType||g]],!s&&!c.noBubble&&!J.isWindow(o)){for(m=c.delegateType||g,d=De.test(m+g)?o:o.parentNode,h=o;d;d=d.parentNode)f.push([d,m]),h=d;h===(o.ownerDocument||H)&&f.push([h.defaultView||h.parentWindow||t,m])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)d=f[l][0],i.type=f[l][1],u=(J._data(d,"events")||{})[i.type]&&J._data(d,"handle"),u&&u.apply(d,n),u=p&&d[p],u&&J.acceptData(d)&&u.apply&&u.apply(d,n)===!1&&i.preventDefault();return i.type=g,!(s||i.isDefaultPrevented()||c._default&&c._default.apply(o.ownerDocument,n)!==!1||"click"===g&&J.nodeName(o,"a")||!J.acceptData(o)||!p||!o[g]||("focus"===g||"blur"===g)&&0===i.target.offsetWidth||J.isWindow(o)||(h=o[p],h&&(o[p]=null),J.event.triggered=g,o[g](),J.event.triggered=e,!h||!(o[p]=h))),i.result}},dispatch:function(i){i=J.event.fix(i||t.event);var n,o,s,r,a,l,d,h,p,c=(J._data(this,"events")||{})[i.type]||[],u=c.delegateCount,f=V.call(arguments),m=!i.exclusive&&!i.namespace,g=J.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,i)!==!1){if(u&&(!i.button||"click"!==i.type))for(s=i.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||"click"!==i.type){for(a={},d=[],n=0;u>n;n++)h=c[n],p=h.selector,a[p]===e&&(a[p]=h.needsContext?J(p,this).index(s)>=0:J.find(p,this,null,[s]).length),a[p]&&d.push(h);d.length&&v.push({elem:s,matches:d})}for(c.length>u&&v.push({elem:this,matches:c.slice(u)}),n=0;n<v.length&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,o=0;o<l.matches.length&&!i.isImmediatePropagationStopped();o++)h=l.matches[o],(m||!i.namespace&&!h.namespace||i.namespace_re&&i.namespace_re.test(h.namespace))&&(i.data=h.data,i.handleObj=h,r=((J.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,f),r!==e&&(i.result=r,r===!1&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,s,r=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||H,o=n.documentElement,s=n.body,t.pageX=i.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=i.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),!t.which&&r!==e&&(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,i,n=t,o=J.event.fixHooks[t.type]||{},s=o.props?this.props.concat(o.props):this.props;for(t=J.Event(n),e=s.length;e;)i=s[--e],t[i]=n[i];return t.target||(t.target=n.srcElement||H),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,n):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){J.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var o=J.extend(new J.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?J.event.trigger(o,null,e):J.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},J.event.handle=J.event.dispatch,J.removeEvent=H.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?r:s):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),this[J.expando]=!0,void 0):new J.Event(t,e)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=r;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){{var i,n=this,o=t.relatedTarget,s=t.handleObj;s.selector}return(!o||o!==n&&!J.contains(n,o))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){return J.nodeName(this,"form")?!1:void J.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=J.nodeName(i,"input")||J.nodeName(i,"button")?i.form:e;n&&!J._data(n,"_submit_attached")&&(J.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),J._data(n,"_submit_attached",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&J.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return J.nodeName(this,"form")?!1:void J.event.remove(this,"._submit")}}),J.support.changeBubbles||(J.event.special.change={setup:function(){return Se.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(J.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),J.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),J.event.simulate("change",this,t,!0)})),!1):void J.event.add(this,"beforeactivate._change",function(t){var e=t.target;Se.test(e.nodeName)&&!J._data(e,"_change_attached")&&(J.event.add(e,"change._change",function(t){this.parentNode&&!t.isSimulated&&!t.isTrigger&&J.event.simulate("change",this.parentNode,t,!0)}),J._data(e,"_change_attached",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return J.event.remove(this,"._change"),!Se.test(this.nodeName)}}),J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){0===i++&&H.addEventListener(t,n,!0)},teardown:function(){0===--i&&H.removeEventListener(t,n,!0)}}}),J.fn.extend({on:function(t,i,n,o,r){var a,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],r);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),o===!1)o=s;else if(!o)return this;return 1===r&&(a=o,o=function(t){return J().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=J.guid++)),this.each(function(){J.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,J(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,i,t[r]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=s),this.each(function(){J.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return J(this.context).on(t,this.selector,e,i),this},die:function(t,e){return J(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?J.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,i=t.guid||J.guid++,n=0,o=function(i){var o=(J._data(this,"lastToggle"+t.guid)||0)%n;return J._data(this,"lastToggle"+t.guid,o+1),i.preventDefault(),e[o].apply(this,arguments)||!1};for(o.guid=i;n<e.length;)e[n++].guid=i;return this.click(o)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},Le.test(e)&&(J.event.fixHooks[e]=J.event.keyHooks),Ne.test(e)&&(J.event.fixHooks[e]=J.event.mouseHooks)}),function(t,e){function i(t,e,i,n){i=i||[],e=e||N;var o,s,r,a,l=e.nodeType;if(!t||"string"!=typeof t)return i;if(1!==l&&9!==l)return[];if(r=x(e),!r&&!n&&(o=ie.exec(t)))if(a=o[1]){if(9===l){if(s=e.getElementById(a),!s||!s.parentNode)return i;if(s.id===a)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(a))&&k(e,s)&&s.id===a)return i.push(s),i}else{if(o[2])return P.apply(i,R.call(e.getElementsByTagName(t),0)),i;if((a=o[3])&&ce&&e.getElementsByClassName)return P.apply(i,R.call(e.getElementsByClassName(a),0)),i}return m(t.replace(K,"$1"),e,i,n,r)}function n(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function o(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function s(t){return F(function(e){return e=+e,F(function(i,n){for(var o,s=t([],i.length,e),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function r(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}function a(t,e){var n,o,s,r,a,l,d,h=z[I][t+" "];if(h)return e?0:h.slice(0);for(a=t,l=[],d=b.preFilter;a;){(!n||(o=Z.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=te.exec(a))&&(s.push(n=new L(o.shift())),a=a.slice(n.length),n.type=o[0].replace(K," "));for(r in b.filter)(o=ae[r].exec(a))&&(!d[r]||(o=d[r](o)))&&(s.push(n=new L(o.shift())),a=a.slice(n.length),n.type=r,n.matches=o);if(!n)break}return e?a.length:a?i.error(t):z(t,l).slice(0)}function l(t,e,i){var n=e.dir,o=i&&"parentNode"===e.dir,s=M++;return e.first?function(e,i,s){for(;e=e[n];)if(o||1===e.nodeType)return t(e,i,s)}:function(e,i,r){if(r){for(;e=e[n];)if((o||1===e.nodeType)&&t(e,i,r))return e}else for(var a,l=A+" "+s+" ",d=l+v;e=e[n];)if(o||1===e.nodeType){if((a=e[I])===d)return e.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(e.sizset)return e}else{if(e[I]=d,t(e,i,r))return e.sizset=!0,e;e.sizset=!1}}}}function d(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function h(t,e,i,n,o){for(var s,r=[],a=0,l=t.length,d=null!=e;l>a;a++)(s=t[a])&&(!i||i(s,n,o))&&(r.push(s),d&&e.push(a));return r}function p(t,e,i,n,o,s){return n&&!n[I]&&(n=p(n)),o&&!o[I]&&(o=p(o,s)),F(function(s,r,a,l){var d,p,c,u=[],m=[],g=r.length,v=s||f(e||"*",a.nodeType?[a]:a,[]),y=!t||!s&&e?v:h(v,u,t,a,l),b=i?o||(s?t:g||n)?[]:r:y;if(i&&i(y,b,a,l),n)for(d=h(b,m),n(d,[],a,l),p=d.length;p--;)(c=d[p])&&(b[m[p]]=!(y[m[p]]=c));if(s){if(o||t){if(o){for(d=[],p=b.length;p--;)(c=b[p])&&d.push(y[p]=c);o(null,b=[],d,l)}for(p=b.length;p--;)(c=b[p])&&(d=o?B.call(s,c):u[p])>-1&&(s[d]=!(r[d]=c))}}else b=h(b===r?b.splice(g,b.length):b),o?o(null,r,b,l):P.apply(r,b)})}function c(t){for(var e,i,n,o=t.length,s=b.relative[t[0].type],r=s||b.relative[" "],a=s?1:0,h=l(function(t){return t===e},r,!0),u=l(function(t){return B.call(e,t)>-1},r,!0),f=[function(t,i,n){return!s&&(n||i!==T)||((e=i).nodeType?h(t,i,n):u(t,i,n))}];o>a;a++)if(i=b.relative[t[a].type])f=[l(d(f),i)];else{if(i=b.filter[t[a].type].apply(null,t[a].matches),i[I]){for(n=++a;o>n&&!b.relative[t[n].type];n++);return p(a>1&&d(f),a>1&&t.slice(0,a-1).join("").replace(K,"$1"),i,n>a&&c(t.slice(a,n)),o>n&&c(t=t.slice(n)),o>n&&t.join(""))}f.push(i)}return d(f)}function u(t,e){var n=e.length>0,o=t.length>0,s=function(r,a,l,d,p){var c,u,f,m=[],g=0,y="0",w=r&&[],x=null!=p,k=T,E=r||o&&b.find.TAG("*",p&&a.parentNode||a),C=A+=null==k?1:Math.E;for(x&&(T=a!==N&&a,v=s.el);null!=(c=E[y]);y++){if(o&&c){for(u=0;f=t[u];u++)if(f(c,a,l)){d.push(c);break}x&&(A=C,v=++s.el)}n&&((c=!f&&c)&&g--,r&&w.push(c))}if(g+=y,n&&y!==g){for(u=0;f=e[u];u++)f(w,m,a,l);if(r){if(g>0)for(;y--;)!w[y]&&!m[y]&&(m[y]=j.call(d));m=h(m)}P.apply(d,m),x&&!r&&m.length>0&&g+e.length>1&&i.uniqueSort(d)}return x&&(A=C,T=k),w};return s.el=0,n?F(s):s}function f(t,e,n){for(var o=0,s=e.length;s>o;o++)i(t,e[o],n);return n}function m(t,e,i,n,o){{var s,r,l,d,h,p=a(t);p.length}if(!n&&1===p.length){if(r=p[0]=p[0].slice(0),r.length>2&&"ID"===(l=r[0]).type&&9===e.nodeType&&!o&&b.relative[r[1].type]){if(e=b.find.ID(l.matches[0].replace(re,""),e,o)[0],!e)return i;t=t.slice(r.shift().length)}for(s=ae.POS.test(t)?-1:r.length-1;s>=0&&(l=r[s],!b.relative[d=l.type]);s--)if((h=b.find[d])&&(n=h(l.matches[0].replace(re,""),ne.test(r[0].type)&&e.parentNode||e,o))){if(r.splice(s,1),t=n.length&&r.join(""),!t)return P.apply(i,R.call(n,0)),i;break}}return E(t,p)(n,e,o,i,ne.test(t)),i}function g(){}var v,y,b,w,x,k,E,C,$,T,S=!0,_="undefined",I=("sizcache"+Math.random()).replace(".",""),L=String,N=t.document,D=N.documentElement,A=0,M=0,j=[].pop,P=[].push,R=[].slice,B=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},F=function(t,e){return t[I]=null==e||e,t},O=function(){var t={},e=[];return F(function(i,n){return e.push(i)>b.cacheLength&&delete t[e.shift()],t[i+" "]=n},t)},H=O(),z=O(),U=O(),W="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",X=q.replace("w","w#"),V="([*^$|!~]?=)",G="\\["+W+"*("+q+")"+W+"*(?:"+V+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+X+")|)|)"+W+"*\\]",Q=":("+q+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)",K=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),Z=new RegExp("^"+W+"*,"+W+"*"),te=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),ee=new RegExp(Q),ie=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ne=/[\x20\t\r\n\f]*[+~]/,oe=/h\d/i,se=/input|select|textarea|button/i,re=/\\(?!\\)/g,ae={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),NAME:new RegExp("^\\[name=['\"]?("+q+")['\"]?\\]"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+Q),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|"+Y,"i")},le=function(t){var e=N.createElement("div");try{return t(e)}catch(i){return!1}finally{e=null}},de=le(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),he=le(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==_&&"#"===t.firstChild.getAttribute("href")}),pe=le(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),ce=le(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),ue=le(function(t){t.id=I+0,t.innerHTML="<a name='"+I+"'></a><div name='"+I+"'></div>",D.insertBefore(t,D.firstChild);var e=N.getElementsByName&&N.getElementsByName(I).length===2+N.getElementsByName(I+0).length;return y=!N.getElementById(I),D.removeChild(t),e});try{R.call(D.childNodes,0)[0].nodeType}catch(fe){R=function(t){for(var e,i=[];e=this[t];t++)i.push(e);return i}}i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){return i(e,null,null,[t]).length>0},w=i.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n];n++)i+=w(e);return i},x=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=i.contains=D.contains?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:D.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},i.attr=function(t,e){var i,n=x(t);return n||(e=e.toLowerCase()),(i=b.attrHandle[e])?i(t):n||pe?t.getAttribute(e):(i=t.getAttributeNode(e),i?"boolean"==typeof t[e]?t[e]?e:null:i.specified?i.value:null:null)},b=i.selectors={cacheLength:50,createPseudo:F,match:ae,attrHandle:he?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:y?function(t,e,i){if(typeof e.getElementById!==_&&!i){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}}:function(t,i,n){if(typeof i.getElementById!==_&&!n){var o=i.getElementById(t);return o?o.id===t||typeof o.getAttributeNode!==_&&o.getAttributeNode("id").value===t?[o]:e:[]}},TAG:de?function(t,e){return typeof e.getElementsByTagName!==_?e.getElementsByTagName(t):void 0}:function(t,e){var i=e.getElementsByTagName(t);if("*"===t){for(var n,o=[],s=0;n=i[s];s++)1===n.nodeType&&o.push(n);return o}return i},NAME:ue&&function(t,e){return typeof e.getElementsByName!==_?e.getElementsByName(name):void 0},CLASS:ce&&function(t,e,i){return typeof e.getElementsByClassName===_||i?void 0:e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(re,""),t[3]=(t[4]||t[5]||"").replace(re,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||i.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&i.error(t[0]),t},PSEUDO:function(t){var e,i;return ae.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(e=t[4])&&(ee.test(e)&&(i=a(e,!0))&&(i=e.indexOf(")",e.length-i)-e.length)&&(e=e.slice(0,i),t[0]=t[0].slice(0,i)),t[2]=e),t.slice(0,3))}},filter:{ID:y?function(t){return t=t.replace(re,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(re,""),function(e){var i=typeof e.getAttributeNode!==_&&e.getAttributeNode("id");return i&&i.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(re,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=H[I][t+" "];return e||(e=new RegExp("(^|"+W+")"+t+"("+W+"|$)"))&&H(t,function(t){return e.test(t.className||typeof t.getAttribute!==_&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var s=i.attr(o,t);return null==s?"!="===e:e?(s+="","="===e?s===n:"!="===e?s!==n:"^="===e?n&&0===s.indexOf(n):"*="===e?n&&s.indexOf(n)>-1:"$="===e?n&&s.substr(s.length-n.length)===n:"~="===e?(" "+s+" ").indexOf(n)>-1:"|="===e?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n){return"nth"===t?function(t){var e,o,s=t.parentNode;if(1===i&&0===n)return!0;if(s)for(o=0,e=s.firstChild;e&&(1!==e.nodeType||(o++,t!==e));e=e.nextSibling);return o-=n,o===i||o%i===0&&o/i>=0}:function(e){var i=e;switch(t){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===t)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(t,e){var n,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return o[I]?o(e):o.length>1?(n=[t,t,"",e],b.setFilters.hasOwnProperty(t.toLowerCase())?F(function(t,i){for(var n,s=o(t,e),r=s.length;r--;)n=B.call(t,s[r]),t[n]=!(i[n]=s[r])}):function(t){return o(t,0,n)}):o}},pseudos:{not:F(function(t){var e=[],i=[],n=E(t.replace(K,"$1"));return n[I]?F(function(t,e,i,o){for(var s,r=n(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,o,s){return e[0]=t,n(e,null,s,i),!i.pop()}}),has:F(function(t){return function(e){return i(t,e).length>0}}),contains:F(function(t){return function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!b.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},header:function(t){return oe.test(t.nodeName)},text:function(t){var e,i;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(i=t.getAttribute("type"))||i.toLowerCase()===e)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:o("submit"),reset:o("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return se.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},active:function(t){return t===t.ownerDocument.activeElement},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,i){return[0>i?i+e:i]}),even:s(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:s(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:s(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:s(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},C=D.compareDocumentPosition?function(t,e){return t===e?($=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return $=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,o=[],s=[],a=t.parentNode,l=e.parentNode,d=a;if(a===l)return r(t,e);if(!a)return-1;if(!l)return 1;for(;d;)o.unshift(d),d=d.parentNode;for(d=l;d;)s.unshift(d),d=d.parentNode;i=o.length,n=s.length;for(var h=0;i>h&&n>h;h++)if(o[h]!==s[h])return r(o[h],s[h]);return h===i?r(t,s[h],-1):r(o[h],e,1)},[0,0].sort(C),S=!$,i.uniqueSort=function(t){var e,i=[],n=1,o=0;if($=S,t.sort(C),$){for(;e=t[n];n++)e===t[n-1]&&(o=i.push(n));for(;o--;)t.splice(i[o],1)}return t},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},E=i.compile=function(t,e){var i,n=[],o=[],s=U[I][t+" "];if(!s){for(e||(e=a(t)),i=e.length;i--;)s=c(e[i]),s[I]?n.push(s):o.push(s);s=U(t,u(o,n))}return s},N.querySelectorAll&&function(){var t,e=m,n=/'|\\/g,o=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],r=[":active"],l=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||D.msMatchesSelector;le(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||s.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||s.push(":checked")}),le(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&s.push("[*^$]="+W+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=new RegExp(s.join("|")),m=function(t,i,o,r,l){if(!r&&!l&&!s.test(t)){var d,h,p=!0,c=I,u=i,f=9===i.nodeType&&t;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(d=a(t),(p=i.getAttribute("id"))?c=p.replace(n,"\\$&"):i.setAttribute("id",c),c="[id='"+c+"'] ",h=d.length;h--;)d[h]=c+d[h].join("");u=ne.test(t)&&i.parentNode||i,f=d.join(",")}if(f)try{return P.apply(o,R.call(u.querySelectorAll(f),0)),o}catch(m){}finally{p||i.removeAttribute("id")}}return e(t,i,o,r,l)},l&&(le(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),r.push("!=",Q)}catch(i){}}),r=new RegExp(r.join("|")),i.matchesSelector=function(e,n){if(n=n.replace(o,"='$1']"),!x(e)&&!r.test(n)&&!s.test(n))try{var a=l.call(e,n);if(a||t||e.document&&11!==e.document.nodeType)return a}catch(d){}return i(n,null,null,[e]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,i.attr=J.attr,J.find=i,J.expr=i.selectors,J.expr[":"]=J.expr.pseudos,J.unique=i.uniqueSort,J.text=i.getText,J.isXMLDoc=i.isXML,J.contains=i.contains}(t);var Me=/Until$/,je=/^(?:parents|prev(?:Until|All))/,Pe=/^.[^:#\[\.,]*$/,Re=J.expr.match.needsContext,Be={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(t){var e,i,n,o,s,r,a=this;if("string"!=typeof t)return J(t).filter(function(){for(e=0,i=a.length;i>e;e++)if(J.contains(a[e],this))return!0});for(r=this.pushStack("","find",t),e=0,i=this.length;i>e;e++)if(n=r.length,J.find(t,this[e],r),e>0)for(o=n;o<r.length;o++)for(s=0;n>s;s++)if(r[s]===r[o]){r.splice(o--,1);break}return r},has:function(t){var e,i=J(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(J.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t,!1),"not",t)},filter:function(t){return this.pushStack(d(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?Re.test(t)?J(t,this.context).index(this[0])>=0:J.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var i,n=0,o=this.length,s=[],r=Re.test(t)||"string"!=typeof t?J(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==e&&11!==i.nodeType;){if(r?r.index(i)>-1:J.find.matchesSelector(i,t)){s.push(i);break}i=i.parentNode}return s=s.length>1?J.unique(s):s,this.pushStack(s,"closest",t)},index:function(t){return t?"string"==typeof t?J.inArray(this[0],J(t)):J.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?J(t,e):J.makeArray(t&&t.nodeType?[t]:t),n=J.merge(this.get(),i);return this.pushStack(a(i[0])||a(n[0])?n:J.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.fn.andSelf=J.fn.addBack,J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,i){return J.dir(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,i){return J.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return J.dir(t,"previousSibling",i)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return J.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(i,n){var o=J.map(this,e,i);return Me.test(t)||(n=i),n&&"string"==typeof n&&(o=J.filter(n,o)),o=this.length>1&&!Be[t]?J.unique(o):o,this.length>1&&je.test(t)&&(o=o.reverse()),this.pushStack(o,t,V.call(arguments).join(","))}}),J.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?J.find.matchesSelector(e[0],t)?[e[0]]:[]:J.find.matches(t,e)},dir:function(t,i,n){for(var o=[],s=t[i];s&&9!==s.nodeType&&(n===e||1!==s.nodeType||!J(s).is(n));)1===s.nodeType&&o.push(s),s=s[i];return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,He=/^\s+/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ue=/<([\w:]+)/,We=/<tbody/i,qe=/<|&#?\w+;/,Xe=/<(?:script|style|link)/i,Ve=/<(?:script|object|embed|option|style)/i,Ge=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Qe=/^(?:checkbox|radio)$/,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/\/(java|ecma)script/i,Je=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ze={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ti=h(H),ei=ti.appendChild(H.createElement("div"));Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,J.support.htmlSerialize||(Ze._default=[1,"X<div>","</div>"]),J.fn.extend({text:function(t){return J.access(this,function(t){return t===e?J.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(J.isFunction(t))return this.each(function(e){J(this).wrapAll(t.call(this,e))});if(this[0]){var e=J(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(J.isFunction(t)?function(e){J(this).wrapInner(t.call(this,e))
}:function(){var e=J(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(i){J(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=J.clean(arguments);return this.pushStack(J.merge(t,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=J.clean(arguments);return this.pushStack(J.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||J.filter(t,[i]).length)&&(!e&&1===i.nodeType&&(J.cleanData(i.getElementsByTagName("*")),J.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&J.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return J.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Oe,""):e;if(!("string"!=typeof t||Xe.test(t)||!J.support.htmlSerialize&&Ge.test(t)||!J.support.leadingWhitespace&&He.test(t)||Ze[(Ue.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(ze,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(J.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(s){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return a(this[0])?this.length?this.pushStack(J(J.isFunction(t)?t():t),"replaceWith",t):this:J.isFunction(t)?this.each(function(e){var i=J(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=J(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;J(this).remove(),e?J(e).before(t):J(i).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){t=[].concat.apply([],t);var o,s,r,a,l=0,d=t[0],h=[],c=this.length;if(!J.support.checkClone&&c>1&&"string"==typeof d&&Ye.test(d))return this.each(function(){J(this).domManip(t,i,n)});if(J.isFunction(d))return this.each(function(o){var s=J(this);t[0]=d.call(this,o,i?s.html():e),s.domManip(t,i,n)});if(this[0]){if(o=J.buildFragment(t,this,h),r=o.fragment,s=r.firstChild,1===r.childNodes.length&&(r=s),s)for(i=i&&J.nodeName(s,"tr"),a=o.cacheable||c-1;c>l;l++)n.call(i&&J.nodeName(this[l],"table")?p(this[l],"tbody"):this[l],l===a?r:J.clone(r,!0,!0));r=s=null,h.length&&J.each(h,function(t,e){e.src?J.ajax?J.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):J.error("no ajax"):J.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Je,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),J.buildFragment=function(t,i,n){var o,s,r,a=t[0];return i=i||H,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,1===t.length&&"string"==typeof a&&a.length<512&&i===H&&"<"===a.charAt(0)&&!Ve.test(a)&&(J.support.checkClone||!Ye.test(a))&&(J.support.html5Clone||!Ge.test(a))&&(s=!0,o=J.fragments[a],r=o!==e),o||(o=i.createDocumentFragment(),J.clean(t,i,o,n),s&&(J.fragments[a]=r&&o)),{fragment:o,cacheable:s}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(i){var n,o=0,s=[],r=J(i),a=r.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return r[e](this[0]),this;for(;a>o;o++)n=(o>0?this.clone(!0):this).get(),J(r[o])[e](n),s=s.concat(n);return this.pushStack(s,t,r.selector)}}),J.extend({clone:function(t,e,i){var n,o,s,r;if(J.support.html5Clone||J.isXMLDoc(t)||!Ge.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ei.innerHTML=t.outerHTML,ei.removeChild(r=ei.firstChild)),!(J.support.noCloneEvent&&J.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(u(t,r),n=f(t),o=f(r),s=0;n[s];++s)o[s]&&u(n[s],o[s]);if(e&&(c(t,r),i))for(n=f(t),o=f(r),s=0;n[s];++s)c(n[s],o[s]);return n=o=null,r},clean:function(t,e,i,n){var o,s,r,a,l,d,p,c,u,f,g,v=e===H&&ti,y=[];for(e&&"undefined"!=typeof e.createDocumentFragment||(e=H),o=0;null!=(r=t[o]);o++)if("number"==typeof r&&(r+=""),r){if("string"==typeof r)if(qe.test(r)){for(v=v||h(e),p=e.createElement("div"),v.appendChild(p),r=r.replace(ze,"<$1></$2>"),a=(Ue.exec(r)||["",""])[1].toLowerCase(),l=Ze[a]||Ze._default,d=l[0],p.innerHTML=l[1]+r+l[2];d--;)p=p.lastChild;if(!J.support.tbody)for(c=We.test(r),u="table"!==a||c?"<table>"!==l[1]||c?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,s=u.length-1;s>=0;--s)J.nodeName(u[s],"tbody")&&!u[s].childNodes.length&&u[s].parentNode.removeChild(u[s]);!J.support.leadingWhitespace&&He.test(r)&&p.insertBefore(e.createTextNode(He.exec(r)[0]),p.firstChild),r=p.childNodes,p.parentNode.removeChild(p)}else r=e.createTextNode(r);r.nodeType?y.push(r):J.merge(y,r)}if(p&&(r=p=v=null),!J.support.appendChecked)for(o=0;null!=(r=y[o]);o++)J.nodeName(r,"input")?m(r):"undefined"!=typeof r.getElementsByTagName&&J.grep(r.getElementsByTagName("input"),m);if(i)for(f=function(t){return!t.type||Ke.test(t.type)?n?n.push(t.parentNode?t.parentNode.removeChild(t):t):i.appendChild(t):void 0},o=0;null!=(r=y[o]);o++)J.nodeName(r,"script")&&f(r)||(i.appendChild(r),"undefined"!=typeof r.getElementsByTagName&&(g=J.grep(J.merge([],r.getElementsByTagName("script")),f),y.splice.apply(y,[o+1,0].concat(g)),o+=g.length));return y},cleanData:function(t,e){for(var i,n,o,s,r=0,a=J.expando,l=J.cache,d=J.support.deleteExpando,h=J.event.special;null!=(o=t[r]);r++)if((e||J.acceptData(o))&&(n=o[a],i=n&&l[n])){if(i.events)for(s in i.events)h[s]?J.event.remove(o,s):J.removeEvent(o,s,i.handle);l[n]&&(delete l[n],d?delete o[a]:o.removeAttribute?o.removeAttribute(a):o[a]=null,J.deletedIds.push(n))}}}),function(){var t,e;J.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=J.uaMatch(U.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),J.browser=e,J.sub=function(){function t(e,i){return new t.fn.init(e,i)}J.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof J&&!(n instanceof t)&&(n=t(n)),J.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(H);return t}}();var ii,ni,oi,si=/alpha\([^)]*\)/i,ri=/opacity=([^)]*)/,ai=/^(top|right|bottom|left)$/,li=/^(none|table(?!-c[ea]).+)/,di=/^margin/,hi=new RegExp("^("+Z+")(.*)$","i"),pi=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),ci=new RegExp("^([-+])=("+Z+")","i"),ui={BODY:"block"},fi={position:"absolute",visibility:"hidden",display:"block"},mi={letterSpacing:0,fontWeight:400},gi=["Top","Right","Bottom","Left"],vi=["Webkit","O","Moz","ms"],yi=J.fn.toggle;J.fn.extend({css:function(t,i){return J.access(this,function(t,i,n){return n!==e?J.style(t,i,n):J.css(t,i)},t,i,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var i="boolean"==typeof t;return J.isFunction(t)&&J.isFunction(e)?yi.apply(this,arguments):this.each(function(){(i?t:v(this))?J(this).show():J(this).hide()})}}),J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ii(t,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,a,l=J.camelCase(i),d=t.style;if(i=J.cssProps[l]||(J.cssProps[l]=g(d,l)),a=J.cssHooks[i]||J.cssHooks[l],n===e)return a&&"get"in a&&(s=a.get(t,!1,o))!==e?s:d[i];if(r=typeof n,"string"===r&&(s=ci.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(J.css(t,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"===r&&!J.cssNumber[l]&&(n+="px"),a&&"set"in a&&(n=a.set(t,n,o))===e)))try{d[i]=n}catch(h){}}},css:function(t,i,n,o){var s,r,a,l=J.camelCase(i);return i=J.cssProps[l]||(J.cssProps[l]=g(t.style,l)),a=J.cssHooks[i]||J.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,o)),s===e&&(s=ii(t,i)),"normal"===s&&i in mi&&(s=mi[i]),n||o!==e?(r=parseFloat(s),n||J.isNumeric(r)?r||0:s):s},swap:function(t,e,i){var n,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];n=i.call(t);for(o in e)t.style[o]=s[o];return n}}),t.getComputedStyle?ii=function(e,i){var n,o,s,r,a=t.getComputedStyle(e,null),l=e.style;return a&&(n=a.getPropertyValue(i)||a[i],""===n&&!J.contains(e.ownerDocument,e)&&(n=J.style(e,i)),pi.test(n)&&di.test(i)&&(o=l.width,s=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=a.width,l.width=o,l.minWidth=s,l.maxWidth=r)),n}:H.documentElement.currentStyle&&(ii=function(t,e){var i,n,o=t.currentStyle&&t.currentStyle[e],s=t.style;return null==o&&s&&s[e]&&(o=s[e]),pi.test(o)&&!ai.test(e)&&(i=s.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),s.left="fontSize"===e?"1em":o,o=s.pixelLeft+"px",s.left=i,n&&(t.runtimeStyle.left=n)),""===o?"auto":o}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&li.test(ii(t,"display"))?J.swap(t,fi,function(){return x(t,e,n)}):x(t,e,n):void 0},set:function(t,i,n){return b(t,i,n?w(t,e,n,J.support.boxSizing&&"border-box"===J.css(t,"boxSizing")):0)}}}),J.support.opacity||(J.cssHooks.opacity={get:function(t,e){return ri.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=J.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===J.trim(s.replace(si,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=si.test(s)?s.replace(si,o):s+" "+o)}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(t,e){return J.swap(t,{display:"inline-block"},function(){return e?ii(t,"marginRight"):void 0})}}),!J.support.pixelPosition&&J.fn.position&&J.each(["top","left"],function(t,e){J.cssHooks[e]={get:function(t,i){if(i){var n=ii(t,e);return pi.test(n)?J(t).position()[e]+"px":n}}}})}),J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!J.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ii(t,"display"))},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(i){var n,o="string"==typeof i?i.split(" "):[i],s={};for(n=0;4>n;n++)s[t+gi[n]+e]=o[n]||o[n-2]||o[0];return s}},di.test(t)||(J.cssHooks[t+e].set=b)});var bi=/%20/g,wi=/\[\]$/,xi=/\r?\n/g,ki=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ei=/^(?:select|textarea)/i;J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ei.test(this.nodeName)||ki.test(this.type))}).map(function(t,e){var i=J(this).val();return null==i?null:J.isArray(i)?J.map(i,function(t){return{name:e.name,value:t.replace(xi,"\r\n")}}):{name:e.name,value:i.replace(xi,"\r\n")}}).get()}}),J.param=function(t,i){var n,o=[],s=function(t,e){e=J.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){s(this.name,this.value)});else for(n in t)E(n,t[n],i,s);return o.join("&").replace(bi,"+")};var Ci,$i,Ti=/#.*$/,Si=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_i=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ii=/^(?:GET|HEAD)$/,Li=/^\/\//,Ni=/\?/,Di=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ai=/([?&])_=[^&]*/,Mi=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ji=J.fn.load,Pi={},Ri={},Bi=["*/"]+["*"];try{$i=z.href}catch(Fi){$i=H.createElement("a"),$i.href="",$i=$i.href}Ci=Mi.exec($i.toLowerCase())||[],J.fn.load=function(t,i,n){if("string"!=typeof t&&ji)return ji.apply(this,arguments);if(!this.length)return this;var o,s,r,a=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),J.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(s="POST"),J.ajax({url:t,type:s,dataType:"html",data:i,complete:function(t,e){n&&a.each(n,r||[t.responseText,e,t])}}).done(function(t){r=arguments,a.html(o?J("<div>").append(t.replace(Di,"")).find(o):t)}),this},J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.each(["get","post"],function(t,i){J[i]=function(t,n,o,s){return J.isFunction(n)&&(s=s||o,o=n,n=e),J.ajax({type:i,url:t,data:n,success:o,dataType:s})}}),J.extend({getScript:function(t,i){return J.get(t,e,i,"script")},getJSON:function(t,e,i){return J.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?T(t,J.ajaxSettings):(e=t,t=J.ajaxSettings),T(t,e),t},ajaxSettings:{url:$i,isLocal:_i.test(Ci[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Bi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(Pi),ajaxTransport:C(Ri),ajax:function(t,i){function n(t,i,n,r){var d,p,y,b,x,E=i;2!==w&&(w=2,l&&clearTimeout(l),a=e,s=r||"",k.readyState=t>0?4:0,n&&(b=S(c,k,n)),t>=200&&300>t||304===t?(c.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(J.lastModified[o]=x),x=k.getResponseHeader("Etag"),x&&(J.etag[o]=x)),304===t?(E="notmodified",d=!0):(d=_(c,b),E=d.state,p=d.data,y=d.error,d=!y)):(y=E,(!E||t)&&(E="error",0>t&&(t=0))),k.status=t,k.statusText=(i||E)+"",d?m.resolveWith(u,[p,E,k]):m.rejectWith(u,[k,E,y]),k.statusCode(v),v=e,h&&f.trigger("ajax"+(d?"Success":"Error"),[k,c,d?p:y]),g.fireWith(u,[k,E]),h&&(f.trigger("ajaxComplete",[k,c]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,s,r,a,l,d,h,p,c=J.ajaxSetup({},i),u=c.context||c,f=u!==c&&(u.nodeType||u instanceof J)?J(u):J.event,m=J.Deferred(),g=J.Callbacks("once memory"),v=c.statusCode||{},y={},b={},w=0,x="canceled",k={readyState:0,setRequestHeader:function(t,e){if(!w){var i=t.toLowerCase();t=b[i]=b[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===w?s:null},getResponseHeader:function(t){var i;if(2===w){if(!r)for(r={};i=Si.exec(s);)r[i[1].toLowerCase()]=i[2];i=r[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return w||(c.mimeType=t),this},abort:function(t){return t=t||x,a&&a.abort(t),n(0,t),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(t){if(t){var e;if(2>w)for(e in t)v[e]=[v[e],t[e]];else e=t[k.status],k.always(e)}return this},c.url=((t||c.url)+"").replace(Ti,"").replace(Li,Ci[1]+"//"),c.dataTypes=J.trim(c.dataType||"*").toLowerCase().split(ee),null==c.crossDomain&&(d=Mi.exec(c.url.toLowerCase()),c.crossDomain=!(!d||d[1]===Ci[1]&&d[2]===Ci[2]&&(d[3]||("http:"===d[1]?80:443))==(Ci[3]||("http:"===Ci[1]?80:443)))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=J.param(c.data,c.traditional)),$(Pi,c,i,k),2===w)return k;if(h=c.global,c.type=c.type.toUpperCase(),c.hasContent=!Ii.test(c.type),h&&0===J.active++&&J.event.trigger("ajaxStart"),!c.hasContent&&(c.data&&(c.url+=(Ni.test(c.url)?"&":"?")+c.data,delete c.data),o=c.url,c.cache===!1)){var E=J.now(),C=c.url.replace(Ai,"$1_="+E);c.url=C+(C===c.url?(Ni.test(c.url)?"&":"?")+"_="+E:"")}(c.data&&c.hasContent&&c.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(o=o||c.url,J.lastModified[o]&&k.setRequestHeader("If-Modified-Since",J.lastModified[o]),J.etag[o]&&k.setRequestHeader("If-None-Match",J.etag[o])),k.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Bi+"; q=0.01":""):c.accepts["*"]);for(p in c.headers)k.setRequestHeader(p,c.headers[p]);if(!c.beforeSend||c.beforeSend.call(u,k,c)!==!1&&2!==w){x="abort";for(p in{success:1,error:1,complete:1})k[p](c[p]);if(a=$(Ri,c,i,k)){k.readyState=1,h&&f.trigger("ajaxSend",[k,c]),c.async&&c.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},c.timeout));try{w=1,a.send(y,n)}catch(T){if(!(2>w))throw T;n(-1,T)}}else n(-1,"No Transport");return k}return k.abort()},active:0,lastModified:{},etag:{}});var Oi=[],Hi=/\?/,zi=/(=)\?(?=&|$)|\?\?/,Ui=J.now();J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oi.pop()||J.expando+"_"+Ui++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(i,n,o){var s,r,a,l=i.data,d=i.url,h=i.jsonp!==!1,p=h&&zi.test(d),c=h&&!p&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&zi.test(l);return"jsonp"===i.dataTypes[0]||p||c?(s=i.jsonpCallback=J.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,r=t[s],p?i.url=d.replace(zi,"$1"+s):c?i.data=l.replace(zi,"$1"+s):h&&(i.url+=(Hi.test(d)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||J.error(s+" was not called"),a[0]},i.dataTypes[0]="json",t[s]=function(){a=arguments},o.always(function(){t[s]=r,i[s]&&(i.jsonpCallback=n.jsonpCallback,Oi.push(s)),a&&J.isFunction(r)&&r(a[0]),a=r=e}),"script"):void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),J.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(o,s){i=H.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,o){(o||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,o||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var Wi,qi=t.ActiveXObject?function(){for(var t in Wi)Wi[t](0,1)}:!1,Xi=0;J.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&I()||L()}:I,function(t){J.extend(J.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(i){if(!i.crossDomain||J.support.cors){var n;return{send:function(o,s){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),!i.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(d){}l.send(i.hasContent&&i.data||null),n=function(t,o){var a,d,h,p,c;try{if(n&&(o||4===l.readyState))if(n=e,r&&(l.onreadystatechange=J.noop,qi&&delete Wi[r]),o)4!==l.readyState&&l.abort();else{a=l.status,h=l.getAllResponseHeaders(),p={},c=l.responseXML,c&&c.documentElement&&(p.xml=c);try{p.text=l.responseText}catch(u){}try{d=l.statusText}catch(u){d=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=p.text?200:404}}catch(f){o||s(-1,f)}p&&s(a,d,p,h)},i.async?4===l.readyState?setTimeout(n,0):(r=++Xi,qi&&(Wi||(Wi={},J(t).unload(qi)),Wi[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var Vi,Gi,Qi=/^(?:toggle|show|hide)$/,Yi=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Ki=/queueHooks$/,Ji=[j],Zi={"*":[function(t,e){var i,n,o=this.createTween(t,e),s=Yi.exec(e),r=o.cur(),a=+r||0,l=1,d=20;if(s){if(i=+s[2],n=s[3]||(J.cssNumber[t]?"":"px"),"px"!==n&&a){a=J.css(o.elem,t,!0)||i||1;do l=l||".5",a/=l,J.style(o.elem,t,a+n);while(l!==(l=o.cur()/r)&&1!==l&&--d)}o.unit=n,o.start=a,o.end=s[1]?a+(s[1]+1)*i:i}return o}]};J.Animation=J.extend(A,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],Zi[i]=Zi[i]||[],Zi[i].unshift(e)},prefilter:function(t,e){e?Ji.unshift(t):Ji.push(t)}}),J.Tween=P,P.prototype={constructor:P,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(J.cssNumber[i]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,i=P.propHooks[this.prop];return this.pos=e=this.options.duration?J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.each(["toggle","show","hide"],function(t,e){var i=J.fn[e];J.fn[e]=function(n,o,s){return null==n||"boolean"==typeof n||!t&&J.isFunction(n)&&J.isFunction(o)?i.apply(this,arguments):this.animate(R(e,!0),n,o,s)}}),J.fn.extend({fadeTo:function(t,e,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=J.isEmptyObject(t),s=J.speed(e,i,n),r=function(){var e=A(this,J.extend({},t),s);o&&e.stop(!0)};return o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,i,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=J.timers,r=J._data(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&Ki.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem===this&&(null==t||s[i].queue===t)&&(s[i].anim.stop(n),e=!1,s.splice(i,1));(e||!n)&&J.dequeue(this,t)})}}),J.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),J.speed=function(t,e,i){var n=t&&"object"==typeof t?J.extend({},t):{complete:i||!i&&e||J.isFunction(t)&&t,duration:t,easing:i&&e||e&&!J.isFunction(e)&&e};return n.duration=J.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in J.fx.speeds?J.fx.speeds[n.duration]:J.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){J.isFunction(n.old)&&n.old.call(this),n.queue&&J.dequeue(this,n.queue)},n},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.timers=[],J.fx=P.prototype.init,J.fx.tick=function(){var t,i=J.timers,n=0;for(Vi=J.now();n<i.length;n++)t=i[n],!t()&&i[n]===t&&i.splice(n--,1);i.length||J.fx.stop(),Vi=e},J.fx.timer=function(t){t()&&J.timers.push(t)&&!Gi&&(Gi=setInterval(J.fx.tick,J.fx.interval))},J.fx.interval=13,J.fx.stop=function(){clearInterval(Gi),Gi=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fx.step={},J.expr&&J.expr.filters&&(J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length});var tn=/^(?:body|html)$/i;J.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){J.offset.setOffset(this,t,e)});var i,n,o,s,r,a,l,d={top:0,left:0},h=this[0],p=h&&h.ownerDocument;if(p)return(n=p.body)===h?J.offset.bodyOffset(h):(i=p.documentElement,J.contains(i,h)?("undefined"!=typeof h.getBoundingClientRect&&(d=h.getBoundingClientRect()),o=B(p),s=i.clientTop||n.clientTop||0,r=i.clientLeft||n.clientLeft||0,a=o.pageYOffset||i.scrollTop,l=o.pageXOffset||i.scrollLeft,{top:d.top+a-s,left:d.left+l-r}):d)},J.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return J.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(J.css(t,"marginTop"))||0,i+=parseFloat(J.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=J.css(t,"position");"static"===n&&(t.style.position="relative");var o,s,r=J(t),a=r.offset(),l=J.css(t,"top"),d=J.css(t,"left"),h=("absolute"===n||"fixed"===n)&&J.inArray("auto",[l,d])>-1,p={},c={};h?(c=r.position(),o=c.top,s=c.left):(o=parseFloat(l)||0,s=parseFloat(d)||0),J.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(p.top=e.top-a.top+o),null!=e.left&&(p.left=e.left-a.left+s),"using"in e?e.using.call(t,p):r.css(p)}},J.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),i=this.offset(),n=tn.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(J.css(t,"marginTop"))||0,i.left-=parseFloat(J.css(t,"marginLeft"))||0,n.top+=parseFloat(J.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(J.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||H.body;t&&!tn.test(t.nodeName)&&"static"===J.css(t,"position");)t=t.offsetParent;return t||H.body})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);J.fn[t]=function(o){return J.access(this,function(t,o,s){var r=B(t);return s===e?r?i in r?r[i]:r.document.documentElement[o]:t[o]:void(r?r.scrollTo(n?J(r).scrollLeft():s,n?s:J(r).scrollTop()):t[o]=s)},t,o,arguments.length,null)}}),J.each({Height:"height",Width:"width"},function(t,i){J.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){J.fn[o]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return J.access(this,function(i,n,o){var s;return J.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+t],s["scroll"+t],i.body["offset"+t],s["offset"+t],s["client"+t])):o===e?J.css(i,n,o,a):J.style(i,n,o,a)},i,r?o:e,r,null)}})}),t.jQuery=t.$=J,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return J})}(window),/*
jQuery.Turbolinks ~ https://github.com/kossnocorp/jquery.turbolinks
jQuery plugin for drop-in fix binded events problem caused by Turbolinks

The MIT License
Copyright (c) 2012-2013 Sasha Koss & Rico Sta. Cruz
 */
function(){var t,e;t=window.jQuery||("function"==typeof require?require("jquery"):void 0),e=t(document),t.turbo={version:"2.1.0",isReady:!1,use:function(t,i){return e.off(".turbo").on(""+t+".turbo",this.onLoad).on(""+i+".turbo",this.onFetch)},addCallback:function(i){return t.turbo.isReady&&i(t),e.on("turbo:ready",function(){return i(t)})},onLoad:function(){return t.turbo.isReady=!0,e.trigger("turbo:ready")},onFetch:function(){return t.turbo.isReady=!1},register:function(){return t(this.onLoad),t.fn.ready=this.addCallback}},t.turbo.register(),t.turbo.use("page:load","page:fetch")}.call(this),function(t,e){var i=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};i()&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var o,s,r,a,l,d,h,p;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===e?null:a,d=i.data("with-credentials")||null,h=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),s=i.attr("action"),r=i.serializeArray();var c=i.data("ujs:submit-button");c&&(r.push(c),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),s=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(o=i.data("method"),s=n.href(i),r=i.data("params")||null);p={type:o||"GET",data:r,dataType:h,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[t,o])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},d&&(p.xhrFields={withCredentials:d}),s&&(p.url=s);var u=n.ajax(p);return i.trigger("ajax:send",u),u}return!1},handleMethod:function(i){var o=n.href(i),s=i.data("method"),r=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),d=t('<form method="post" action="'+o+'"></form>'),h='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&a!==e&&(h+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&d.attr("target",r),d.hide().append(h).appendTo("body"),d.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),o=!1;return i?(n.fire(t,"confirm")&&(o=n.confirm(i),e=n.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,i,n){var o,s,r=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),s=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!s==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;r=r.add(o)}}),r.length?r:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var o=i.data("events"),s=!0;return o!==e&&o.submit!==e&&t.each(o.submit,function(t,e){return"function"==typeof e.handler?s=e.handler(n):void 0}),s},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(i){var o=t(this),s=o.data("method"),r=o.data("params");if(!n.allowAction(o))return n.stopEverything(i);if(o.is(n.linkDisableSelector)&&n.disableElement(o),o.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||s&&"GET"!==s||r))return!0;var a=n.handleRemote(o);return a===!1?n.enableElement(o):a.error(function(){n.enableElement(o)}),!1}return o.data("method")?(n.handleMethod(o),!1):void 0}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var o=t(this),s=o.data("remote")!==e,r=n.blankInputs(o,n.requiredInputSelector),a=n.nonBlankInputs(o,n.fileInputSelector);if(!n.allowAction(o))return n.stopEverything(i);if(r&&o.attr("novalidate")==e&&n.fire(o,"ajax:aborted:required",[r]))return n.stopEverything(i);if(s){if(a){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return!t.support.submitBubbles&&t().jquery<"1.7"&&n.callFormSubmitBindings(o,i)===!1?n.stopEverything(i):(n.handleRemote(o),!1)}setTimeout(function(){n.disableFormElements(o)},13)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),s=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.1.1
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.1.1
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var n=t(this),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=n.hasClass("alert")?n:n.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.1.1
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){t(n).remove(),t(o).each(function(){var n=i(t(this)),o={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",o))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",o="[data-toggle=dropdown]",s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var s=i(o),r=s.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(s.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown",a),o.focus()}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(o).focus(),n.click();var a=" li:not(.divider):visible a",l=s.find("[role=menu]"+a+", [role=listbox]"+a);if(l.length){var d=l.index(l.filter(":focus"));38==e.keyCode&&d>0&&d--,40==e.keyCode&&d<l.length-1&&d++,~d||(d=0),l.eq(d).focus()}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu], [role=listbox]",s.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.1.1
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(o)}).emulateTransitionEnd(300):i.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var o=t(this),s=o.data("bs.modal"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i);s||o.data("bs.modal",s=new e(this,r)),"string"==typeof i?s[i](n):r.show&&s.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),o=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},o.data(),i.data());i.is("a")&&e.preventDefault(),o.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.1.1
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,r=s.test(o);r&&(o=o.replace(s,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),l=n[0].offsetWidth,d=n[0].offsetHeight;if(r){var h=this.$element.parent(),p=o,c=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:h.outerWidth(),f="body"==this.options.container?window.innerHeight:h.outerHeight(),m="body"==this.options.container?0:h.offset().left;o="bottom"==o&&a.top+a.height+d-c>f?"top":"top"==o&&a.top-c-d<0?"bottom":"right"==o&&a.right+l>u?"left":"left"==o&&a.left-l<m?"right":o,n.removeClass(p).addClass(o)}var g=this.getCalculatedOffset(o,a,l,d);this.applyPlacement(g,o),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var n,o=this.tip(),s=o[0].offsetWidth,r=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),l=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(l)&&(l=0),e.top=e.top+a,e.left=e.left+l,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var d=o[0].offsetWidth,h=o[0].offsetHeight;if("top"==i&&h!=r&&(n=!0,e.top=e.top+r-h),/bottom|top/.test(i)){var p=0;e.left<0&&(p=-2*e.left,e.left=0,o.offset(e),d=o[0].offsetWidth,h=o[0].offsetHeight),this.replaceArrow(p-s+d,d,"left")}else this.replaceArrow(h-r,h,"top");n&&o.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),s="object"==typeof i&&i;(o||"destroy"!=i)&&(o||n.data("bs.tooltip",o=new e(this,s)),"string"==typeof i&&o[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.1.1
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),o=n.data("bs.popover"),s="object"==typeof i&&i;(o||"destroy"!=i)&&(o||n.data("bs.popover",o=new e(this,s)),"string"==typeof i&&o[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.1.1
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(s),!s.isDefaultPrevented()){var r=t(n);this.activate(e.parent("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,i,n){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),r=n&&t.support.transition&&s.hasClass("fade");r?s.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new e(this)),"string"==typeof i&&o[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.1.1
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var r=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][r])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);!o&&s.toggle&&"show"==i&&(i=!i),o||n.data("bs.collapse",o=new e(this,s)),"string"==typeof i&&o[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),o=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(o),r=s.data("bs.collapse"),a=r?"toggle":n.data(),l=n.attr("data-parent"),d=l&&t(l);r&&r.transitioning||(d&&d.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(a)})}(jQuery),jQuery(document).ready(function(t){t(document).ajaxError(function(t,e,i,n){window.Raven&&Raven.captureMessage(n||e.statusText,{extra:{type:i.type,url:i.url,data:i.data,status:e.status,error:n||e.statusText,response:e.responseText.substring(0,100)}})})}),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){this.$elem=t(i),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){function e(t){var e,i="";if("function"==typeof n.options.jsonSuccess)n.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(i+=t.owl[e].item);n.$elem.html(i)}n.logIn()}var i,n=this;"function"==typeof n.options.beforeInit&&n.options.beforeInit.apply(this,[n.$elem]),"string"==typeof n.options.jsonPath?(i=n.options.jsonPath,t.getJSON(i,e)):n.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){return 0===this.$elem.children().length?!1:(this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),void this.onStartup())},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return!1!==t.$elem.is(":visible")?!1:(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if(e=t(this.options.responsiveBaseWidth).width(),e>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=e&&(this.options.items=this.options.itemsCustom[i][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,o=this;return!0!==o.options.responsive?!1:(n=t(e).width(),o.resizer=function(){t(e).width()!==n&&(!1!==o.options.autoPlay&&e.clearInterval(o.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout(function(){n=t(e).width(),o.updateVars()},o.options.responsiveRefreshRate))},void t(e).resize(o.resizer))},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(o){var s=t(this);s.css({width:e.itemWidth}).data("owl-item",Number(o)),(0===o%e.options.items||o===n)&&(o>n||(i+=1)),s.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,i,n=0,o=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)o+=this.itemWidth,this.positionsInArray.push(-o),!0===this.options.scrollPerPage&&(i=t(this.$owlItems[e]),i=i.data("owl-roundPages"),i!==n&&(this.pagesInArray[n]=this.positionsInArray[e],n=i))},buildControls:function(){(!0===this.options.navigation||!0===this.options.pagination)&&(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,i,n,o,s,r;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,i=this.itemsAmount-this.itemsAmount%this.options.items,o=0;o<this.itemsAmount;o+=1)0===o%this.options.items&&(e+=1,i===o&&(n=this.itemsAmount-this.options.items),s=t("<div/>",{"class":"owl-page"}),r=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),s.append(r),s.data("owl-page",i===o?n:o),s.data("owl-roundPages",e),this.paginationWrapper.append(s));this.checkPagination()},checkPagination:function(){var e=this;return!1===e.options.pagination?!1:void e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){return!1===this.options.navigation?!1:void(!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled"))))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,i,n){var o=this;return o.isTransition?!1:("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),t>=o.maximumItem?t=o.maximumItem:0>=t&&(t=0),o.currentItem=o.owl.currentItem=t,!1!==o.options.transitionStyle&&"drag"!==n&&1===o.options.items&&!0===o.browser.support3d?(o.swapSpeed(0),!0===o.browser.support3d?o.transition3d(o.positionsInArray[t]):o.css2slide(o.positionsInArray[t],1),o.afterGo(),o.singleItemTransition(),!1):(t=o.positionsInArray[t],!0===o.browser.support3d?(o.isCss3Finish=!1,!0===i?(o.swapSpeed("paginationSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===i?(o.swapSpeed(o.options.rewindSpeed),e.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(t)):!0===i?o.css2slide(t,o.options.paginationSpeed):"rewind"===i?o.css2slide(t,o.options.rewindSpeed):o.css2slide(t,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;return t.apStatus="play",!1===t.options.autoPlay?!1:(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t=i.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)&&(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(t){t.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function o(e){"on"===e?(t(i).on(a.ev_types.move,s),t(i).on(a.ev_types.end,r)):"off"===e&&(t(i).off(a.ev_types.move),t(i).off(a.ev_types.end))}function s(o){o=o.originalEvent||o||e.event,a.newPosX=n(o).x-l.offsetX,a.newPosY=n(o).y-l.offsetY,a.newRelativeX=a.newPosX-l.relativePos,"function"==typeof a.options.startDragging&&!0!==l.dragging&&0!==a.newRelativeX&&(l.dragging=!0,a.options.startDragging.apply(a,[a.$elem])),(8<a.newRelativeX||-8>a.newRelativeX)&&!0===a.browser.isTouch&&(void 0!==o.preventDefault?o.preventDefault():o.returnValue=!1,l.sliding=!0),(10<a.newPosY||-10>a.newPosY)&&!1===l.sliding&&t(i).off("touchmove.owl"),a.newPosX=Math.max(Math.min(a.newPosX,a.newRelativeX/5),a.maximumPixels+a.newRelativeX/5),!0===a.browser.support3d?a.transition3d(a.newPosX):a.css2move(a.newPosX)}function r(i){i=i.originalEvent||i||e.event;var n;i.target=i.target||i.srcElement,l.dragging=!1,!0!==a.browser.isTouch&&a.$owlWrapper.removeClass("grabbing"),a.dragDirection=a.owl.dragDirection=0>a.newRelativeX?"left":"right",0!==a.newRelativeX&&(n=a.getNewPosition(),a.goTo(n,!1,"drag"),l.targetElement===i.target&&!0!==a.browser.isTouch&&(t(i.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),i=t._data(i.target,"events").click,n=i.pop(),i.splice(0,0,n))),o("off")}var a=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};a.isCssFinish=!0,a.$elem.on(a.ev_types.start,".owl-wrapper",function(i){i=i.originalEvent||i||e.event;var s;if(3===i.which)return!1;if(!(a.itemsAmount<=a.options.items)){if(!1===a.isCssFinish&&!a.options.dragBeforeAnimFinish||!1===a.isCss3Finish&&!a.options.dragBeforeAnimFinish)return!1;!1!==a.options.autoPlay&&e.clearInterval(a.autoPlayInterval),!0===a.browser.isTouch||a.$owlWrapper.hasClass("grabbing")||a.$owlWrapper.addClass("grabbing"),a.newPosX=0,a.newRelativeX=0,t(this).css(a.removeTransition()),s=t(this).position(),l.relativePos=s.left,l.offsetX=n(i).x-s.left,l.offsetY=n(i).y-s.top,o("on"),l.sliding=!1,l.targetElement=i.target||i.srcElement}})},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,i=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,n=e.newPosX,o=null;return t.each(i,function(s,r){n-e.itemWidth/20>i[s+1]&&n-e.itemWidth/20<r&&"left"===e.moveDirection()?(o=r,e.currentItem=!0===e.options.scrollPerPage?t.inArray(o,e.positionsInArray):s):n+e.itemWidth/20<r&&n+e.itemWidth/20>(i[s+1]||i[s]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?(o=i[s+1]||i[i.length-1],e.currentItem=t.inArray(o,e.positionsInArray)):(o=i[s+1],e.currentItem=s+1))}),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,i){t.goTo(i)}),t.$elem.on("owl.jumpTo",function(e,i){t.jumpTo(i)})},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,i,n,o,s;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)i=t(this.$owlItems[e]),"loaded"!==i.data("owl-loaded")&&(n=i.data("owl-item"),o=i.find(".lazyOwl"),"string"!=typeof o.data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(o.hide(),i.addClass("loading").data("owl-loaded","checked")),(s=!0===this.options.lazyFollow?n>=this.currentItem:!0)&&n<this.currentItem+this.options.items&&o.length&&this.lazyPreload(i,o)))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===r.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof r.options.afterLazyLoad&&r.options.afterLazyLoad.apply(this,[r.$elem])}function o(){a+=1,r.completeImg(i.get(0))||!0===s?n():100>=a?e.setTimeout(o,100):n()}var s,r=this,a=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),s=!0):i[0].src=i.data("src"),o()},autoHeight:function(){function i(){var i=t(s.$owlItems[s.currentItem]).height();s.wrapperOuter.css("height",i+"px"),s.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){s.wrapperOuter.addClass("autoHeight")},0)}function n(){o+=1,s.completeImg(r.get(0))?i():100>=o?e.setTimeout(n,100):s.wrapperOuter.css("height","")}var o,s=this,r=t(s.$owlItems[s.currentItem]).find("img");void 0!==r.get(0)?(o=0,n()):i()},completeImg:function(t){return!t.complete||"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth?!1:!0},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,i=t.inClass,n=t.$owlItems.eq(t.currentItem),o=t.$owlItems.eq(t.prevItem),s=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],r=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":r+"px","-moz-perspective-origin":r+"px","perspective-origin":r+"px"}),o.css({position:"relative",left:s+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endPrev=!0,o.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(o,e)}),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(n,i)})},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var i;return t?0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),i=void 0===e||-1===e?-1:e,i>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(t):this.$userItems.eq(i).before(t),void this.setVars()):!1},removeItem:function(t){return 0===this.$elem.children().length?!1:(t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),void this.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),/* ===================================================
 *  jquery-sortable.js v0.9.13
 *  http://johnny.github.com/jquery-sortable/
 * ===================================================
 *  Copyright (c) 2012 Jonas von Andrian
 *  All rights reserved.
 *
 *  Redistribution and use in source and binary forms, with or without
 *  modification, are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *  * The name of the author may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 *  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 *  DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
 *  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 *  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 *  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * ========================================================== */
!function(t,e,i,n){function o(t,e){var i=Math.max(0,t[0]-e[0],e[0]-t[1]),n=Math.max(0,t[2]-e[1],e[1]-t[3]);return i+n}function s(e,i,n,o){var s=e.length,r=o?"offset":"position";for(n=n||0;s--;){var a=e[s].el?e[s].el:t(e[s]),l=a[r]();l.left+=parseInt(a.css("margin-left"),10),l.top+=parseInt(a.css("margin-top"),10),i[s]=[l.left-n,l.left+a.outerWidth()+n,l.top-n,l.top+a.outerHeight()+n]}}function r(t,e){var i=e.offset();return{left:t.left-i.left,top:t.top-i.top}}function a(t,e,i){e=[e.left,e.top],i=i&&[i.left,i.top];for(var n,s=t.length,r=[];s--;)n=t[s],r[s]=[s,o(n,e),i&&o(n,i)];return r=r.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]})}function l(e){this.options=t.extend({},p,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=n))}function d(e,i){this.el=e,this.options=t.extend({},h,i),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var n=this.rootGroup.options.itemPath;this.target=n?this.el.find(n):this.el,this.target.on(m.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var h={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},p={afterMove:function(){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(){return!0},onCancel:function(){},onDrag:function(t,e){t.css(e)},onDragStart:function(e,i){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(i.group.options.draggedClass),t("body").addClass(i.group.options.bodyClass)},onDrop:function(e,i){e.removeClass(i.group.options.draggedClass).removeAttr("style"),t("body").removeClass(i.group.options.bodyClass)},onMousedown:function(t,e,i){return i.target.nodeName.match(/^(input|select|textarea)$/i)?void 0:(i.preventDefault(),!0)},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,i,n){var o=t.extend({},e.data());return n?[i]:(i[0]&&(o.children=i),delete o.subContainers,delete o.sortable,o)},tolerance:0},c={},u=0,f={left:0,top:0,bottom:0,right:0},m={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},g="subContainers";l.get=function(t){return c[t.group]||(t.group===n&&(t.group=u++),c[t.group]=new l(t)),c[t.group]},l.prototype={dragInit:function(e,i){this.$document=t(i.el[0].ownerDocument);var n=t(e.target).closest(this.options.itemSelector);if(n.length){if(this.item=n,this.itemContainer=i,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,p.onMousedown,e))return;this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,p.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,r(this.pointer,this.item.offsetParent()),p.onDrag,t);var e=this.getPointer(t),i=this.sameResultBox,o=this.options.tolerance;(!i||i.top-o>e.top||i.bottom+o<e.top||i.left-o>e.left||i.right+o<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=n))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,p.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),p.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=n,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var i=a(this.getContainerDimensions(),t,e),o=i.length;o--;){var s=i[o][0],l=i[o][1];if(!l||this.options.pullPlaceholder){var d=this.containers[s];if(!d.disabled){if(!this.$getOffsetParent()){var h=d.getItemOffsetParent();t=r(t,h),e=r(e,h)}if(d.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(t,e,i,n){var o=this.lastAppendedItem;(n||!o||o[0]!==e[0])&&(e[i](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=n,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||s(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(i)},$getOffsetParent:function(){if(this.offsetParent===n){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var i=r(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=i}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var i=this,n=["drag","drop","scroll"];t.each(n,function(t,n){i.$document[e](m[n],i[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=n},_destroy:function(){c[this.options.group]=n}},d.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var i=a(this.getItemDimensions(),t,e),n=i.length,o=this.rootGroup,s=!o.options.isValidTarget||o.options.isValidTarget(o.item,this);if(!n&&s)return o.movePlaceholder(this,this.target,"append"),!0;for(;n--;){var r=i[n][0],l=i[n][1];if(!l&&this.hasChildGroup(r)){var d=this.getContainerGroup(r).searchValidTarget(t,e);if(d)return!0}else if(s)return this.movePlaceholder(r,t),!0}},movePlaceholder:function(e,i){var n=t(this.items[e]),o=this.itemDimensions[e],s="after",r=n.outerWidth(),a=n.outerHeight(),l=n.offset(),d={left:l.left,right:l.left+r,top:l.top,bottom:l.top+a};if(this.options.vertical){var h=(o[2]+o[3])/2,p=i.top<=h;p?(s="before",d.bottom-=a/2):d.top+=a/2}else{var c=(o[0]+o[1])/2,u=i.left<=c;u?(s="before",d.right-=r/2):d.left+=r/2}this.hasChildGroup(e)&&(d=f),this.rootGroup.movePlaceholder(this,n,s,d)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),s(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var o=t.data(this.items[e],g);if(o===n){var s=this.$getChildren(this.items[e],"container");if(o=!1,s[0]){var r=t.extend({},this.options,{rootGroup:this.rootGroup,group:u++});o=s[i](r).data(i).group}t.data(this.items[e],g,o)}return o},$getChildren:function(e,i){var n=this.rootGroup.options,o=n[i+"Path"],s=n[i+"Selector"];return e=t(e),o&&(e=e.find(o)),e.children(s)},_serialize:function(e,i){var n=this,o=i?"item":"container",s=this.$getChildren(e,o).not(this.options.exclude).map(function(){return n._serialize(t(this),!i)}).get();return this.rootGroup.options.serialize(e,s,i)},traverse:function(e){t.each(this.items||[],function(){var i=t.data(this,g);i&&i.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=n},_destroy:function(){var e=this;this.target.off(m.start,this.handle),this.el.removeData(i),this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e})),t.each(this.items||[],function(){t.removeData(this,g)})}};var v={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(d.prototype,v),t.fn[i]=function(e){var o=Array.prototype.slice.call(arguments,1);return this.map(function(){var s=t(this),r=s.data(i);return r&&v[e]?v[e].apply(r,o)||this:(r||e!==n&&"object"!=typeof e||s.data(i,new d(s,e)),this)})}}(jQuery,window,"sortable"),"undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(t){"use strict";var e=function(i,n){return this.options=t.extend({},e.DEFAULTS,t(i).data(),"object"==typeof n&&n),this.options.unsupportedAgents.test(navigator.userAgent)?!1:(this.valid_nodes=t.merge([],e.VALID_NODES),this.valid_nodes=t.merge(this.valid_nodes,t.map(Object.keys(this.options.blockTags),function(t){return t.toUpperCase()})),this.browser=e.browser(),this.disabledList=[],this._id=++e.count,this._events={},this.blurred=!0,this.$original_element=t(i),this.document=i.ownerDocument,this.window="defaultView"in this.document?this.document.defaultView:this.document.parentWindow,this.$document=t(this.document),this.$window=t(this.window),this.br=this.browser.msie&&t.Editable.getIEversion()<=10?"":"<br/>",this.init(i),void t(i).on("editable.focus",t.proxy(function(){for(var e=1;e<=t.Editable.count;e++)e!=this._id&&this.$window.trigger("blur."+e)},this)))};e.initializers=[],e.count=0,e.VALID_NODES=["P","DIV","LI","TD","TH"],e.LANGS=[],e.INVISIBLE_SPACE="&#x200b;",e.DEFAULTS={allowComments:!0,allowScript:!1,allowStyle:!1,allowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],allowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,beautifyCode:!0,blockTags:{n:"Normal",blockquote:"Quote",pre:"Code",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,convertMailAddresses:!0,customButtons:{},customDropdowns:{},customText:!1,defaultTag:"P",direction:"ltr",disableRightClick:!1,editInPopup:!1,editorClass:"",formatTags:["p","pre","blockquote","h1","h2","h3","h4","h5","h6","div","ul","ol","li","table","tbody","thead","tfoot","tr","th","td","body","head","html","title","meta","link","base","script","style"],headers:{},height:"auto",icons:{},inlineMode:!0,initOnClick:!1,fullPage:!1,language:"en_us",linkList:[],linkText:!1,linkClasses:{},linkAttributes:{},linkAutoPrefix:"",maxHeight:"auto",minHeight:"auto",multiLine:!0,noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParam:"body",saveParams:{},saveRequestType:"POST",scrollableContainer:"body",simpleAmpersand:!1,shortcuts:!0,shortcutsAvailable:["show","bold","italic","underline","createLink","insertImage","indent","outdent","html","formatBlock n","formatBlock h1","formatBlock h2","formatBlock h3","formatBlock h4","formatBlock h5","formatBlock h6","formatBlock blockquote","formatBlock pre","strikeThrough"],showNextToCursor:!1,spellcheck:!1,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,useClasses:!0,tabSpaces:!0,typingTimer:500,pastedImagesUploadRequestType:"POST",pastedImagesUploadURL:"http://i.froala.com/upload_base64",unsupportedAgents:/Opera Mini/i,useFrTag:!1,width:"auto",withCredentials:!1,zIndex:2e3},e.prototype.destroy=function(){this.sync(),this.options.useFrTag&&this.addFrTag(),this.hide(),this.isHTML&&this.html(),this.$bttn_wrapper&&this.$bttn_wrapper.html("").removeData().remove(),this.$editor&&this.$editor.html("").removeData().remove(),this.raiseEvent("destroy"),this.$popup_editor&&this.$popup_editor.html("").removeData().remove(),this.$placeholder&&this.$placeholder.html("").removeData().remove(),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop","**"),this.$window.off("mouseup."+this._id),this.$window.off("keydown."+this._id),this.$window.off("keyup."+this._id),this.$window.off("blur."+this._id),this.$window.off("hide."+this._id),this.$window.off("scroll."+this._id),this.$window.off("resize."+this._id),this.$window.off("orientationchange."+this._id),this.$document.off("selectionchange."+this._id),this.$original_element.off("editable"),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show());for(var t in this._events)delete this._events[t];this.$placeholder&&this.$placeholder.remove(),this.isLink?this.$element.removeData("fa.editable"):(this.$wrapper?this.$wrapper.replaceWith(this.getHTML(!1,!1)):this.$element.replaceWith(this.getHTML(!1,!1)),this.$box&&!this.editableDisabled&&(this.$box.removeClass("froala-box f-rtl"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),this.$lb&&this.$lb.remove()},e.prototype.triggerEvent=function(e,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),n===!0&&(this.isResizing()||this.editableDisabled||this.imageMode||!o||this.cleanify(),this.sync());var s=!0;return i||(i=[]),s=this.$original_element.triggerHandler("editable."+e,t.merge([this],i)),void 0===s?!0:s},e.prototype.syncStyle=function(){if(this.options.fullPage){var t=this.$element.html().match(/\[style[^\]]*\].*\[\/style\]/gi);if(this.$document.find("head style[data-id]").remove(),t)for(var e=0;e<t.length;e++)this.$document.find("head").append(t[e].replace(/\[/gi,"<").replace(/\]/gi,">"))}},e.prototype.sync=function(){if(!this.isHTML){this.raiseEvent("sync"),this.disableImageResize(),this.isLink||this.isImage||this.checkPlaceholder();var t=this.getHTML();this.trackHTML!==t&&null!=this.trackHTML?(this.refreshImageList(),this.refreshButtons(),this.trackHTML=t,this.$textarea&&this.$textarea.val(t),this.doingRedo||this.saveUndoStep(),this.triggerEvent("contentChanged",[],!1)):null==this.trackHTML&&(this.trackHTML=t),this.syncStyle()}},e.prototype.emptyElement=function(e){if("IMG"==e.tagName||t(e).find("img").length>0)return!1;if(t(e).find("input, iframe, object").length>0)return!1;for(var i=t(e).text(),n=0;n<i.length;n++)if("\n"!==i[n]&&"\r"!==i[n]&&"	"!==i[n]&&8203!=i[n].charCodeAt(0))return!1;return!0},e.prototype.initEvents=function(){this.mobile()?(this.mousedown="touchstart",this.mouseup="touchend",this.move="touchmove"):(this.mousedown="mousedown",this.mouseup="mouseup",this.move="")},e.prototype.initDisable=function(){this.$element.on("keypress keydown keyup",t.proxy(function(t){return this.isDisabled?(t.stopPropagation(),t.preventDefault(),!1):void 0},this))},e.prototype.continueInit=function(){this.initDisable(),this.initEvents(),this.browserFixes(),this.handleEnter(),this.editableDisabled||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initTabs(),this.initEditor();for(var e=0;e<t.Editable.initializers.length;e++)t.Editable.initializers[e].call(this);this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),this.setLanguage(),this.setCustomText(),this.editableDisabled||this.registerPaste(),this.refreshDisabledState(),this.refreshUndo(),this.refreshRedo(),this.initPopupSubmit(),this.initialized=!0,this.triggerEvent("initialized",[],!1,!1)},e.prototype.initPopupSubmit=function(){this.$popup_editor.find(".froala-popup input").keydown(function(e){var i=e.which;13==i&&(e.preventDefault(),e.stopPropagation(),t(this).blur(),t(this).parents(".froala-popup").find("button.f-submit").click())})},e.prototype.lateInit=function(){this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers(),this.$element.focus(),this.hideOtherEditors()},e.prototype.init=function(e){this.options.paragraphy||(this.options.defaultTag="DIV"),this.options.allowStyle&&this.setAllowStyle(),this.options.allowScript&&this.setAllowScript(),this.initElement(e),this.initElementStyle(),(!this.isLink||this.isImage)&&(this.initImageEvents(),this.buildImageMove()),this.options.initOnClick?(this.editableDisabled||(this.$element.attr("contenteditable",!0),this.$element.attr("spellcheck",!1)),this.$element.bind("mousedown.element focus.element",t.proxy(function(t){return this.isLink||t.stopPropagation(),this.isDisabled?!1:(this.$element.unbind("mousedown.element focus.element"),this.browser.webkit&&(this.initMouseUp=!1),void this.lateInit())},this))):this.continueInit()},e.prototype.phone=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},e.prototype.mobile=function(){return this.phone()||this.android()||this.iOS()||this.blackberry()},e.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},e.prototype.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)];if(e&&e[0])return e[0]}return 0},e.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},e.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},e.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},e.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},e.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},e.prototype.initOnTextarea=function(e){this.$textarea=t(e),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=t("<div>").html(this.clean(this.$textarea.val(),!0,!1)),this.$element.find("pre br").replaceWith("\n"),this.$textarea.before(this.$element).hide(),this.$textarea.parents("form").bind("submit",t.proxy(function(){this.isHTML?this.html():this.sync()},this)),this.addListener("destroy",t.proxy(function(){this.$textarea.parents("form").unbind("submit")},this))},e.prototype.initOnLink=function(e){this.isLink=!0,this.options.linkText=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=t(e),this.options.paragraphy=!1,this.options.countCharacters=!1,this.$box=this.$element},e.prototype.initOnImage=function(e){var i=t(e).css("float");"A"==t(e).parent().get(0).tagName&&(e=t(e).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=[],this.options.paragraphy=!1,this.options.imageMargin="auto",t(e).wrap("<div>"),this.$element=t(e).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image"),this.$box=t(e)},e.prototype.initForPopup=function(e){this.$element=t(e),this.$box=this.$element,this.editableDisabled=!0,this.options.countCharacters=!1,this.options.buttons=[],this.$element.on("click",t.proxy(function(t){t.preventDefault()},this))},e.prototype.initOnDefault=function(e){"DIV"!=e.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=t(e)},e.prototype.initElement=function(e){if("TEXTAREA"==e.tagName?this.initOnTextarea(e):"A"==e.tagName?this.initOnLink(e):"IMG"==e.tagName?this.initOnImage(e):this.options.editInPopup?this.initForPopup(e):this.initOnDefault(e),!this.editableDisabled){this.$box=this.$element.addClass("froala-box"),this.$wrapper=t('<div class="froala-wrapper">'),this.$element=t("<div>");var i=this.$box.html();this.$box.html(this.$wrapper.html(this.$element)),this.$element.on("keyup",t.proxy(function(){this.$element.find("ul, ol").length>1&&this.cleanupLists()},this)),this.setHTML(i,!0)}this.$element.on("drop",t.proxy(function(){setTimeout(t.proxy(function(){t("html").click(),this.$element.find(".f-img-wrap").each(function(e,i){0===t(i).find("img").length&&t(i).remove()}),this.$element.find(this.options.defaultTag+":empty").remove()},this),1)},this))},e.prototype.trim=function(t){return t=String(t).replace(/^\s+|\s+$/g,""),t=t.replace(/\u200B/gi,"")},e.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find(this.options.defaultTag).each(t.proxy(function(e,i){if(0===i.attributes.length){var n=t(i).find("br:last");t(i).replaceWith(n.length&&this.isLastSibling(n.get(0))?t(i).html():t(i).html()+"<br/>")}},this))},e.prototype.wrapTextInElement=function(e,i){void 0===i&&(i=!1);var n=[],o=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT","IMG","SUB","SUP","BUTTON","INPUT"],s=this;this.no_verify=!0;var r=function(){if(0===n.length)return!1;var e=t("<"+s.options.defaultTag+">"),i=t(n[0]);if(1==n.length&&"f-marker"==i.attr("class"))return void(n=[]);for(var o=0;o<n.length;o++){var r=t(n[o]);e.append(r.clone()),o==n.length-1?r.replaceWith(e):r.remove()}n=[]},a=!1,l=!1,d=!1;e.contents().filter(function(){var e=t(this);if(e.hasClass("f-marker")||e.find(".f-marker").length){var h=e;if(1==e.find(".f-marker").length||e.hasClass("f-marker")){h=e.find(".f-marker").length?t(e.find(".f-marker")[0]):e;var p=h.prev();"true"===h.attr("data-type")?p.length&&t(p[0]).hasClass("f-marker")?d=!0:(a=!0,l=!1):l=!0}else d=!0}this.nodeType==Node.TEXT_NODE&&e.text().length>0||o.indexOf(this.tagName)>=0?n.push(this):this.nodeType==Node.TEXT_NODE&&0===e.text().length&&s.options.beautifyCode?e.remove():a||i||d?("BR"===this.tagName&&(n.length>0?e.remove():n.push(this)),r(),l&&(a=!1),d=!1):n=[]}),(a||i||d)&&r(),e.find("> "+this.options.defaultTag).each(function(e,i){0===t(i).text().trim().length&&0===t(i).find("img").length&&0===t(i).find("br").length&&t(i).append(this.br)}),e.find("div:empty:not([class])").remove(),e.is(":empty")&&e.append(s.options.paragraphy===!0?"<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">":this.br),this.no_verify=!1},e.prototype.wrapText=function(e){if(this.isImage||this.isLink)return!1;this.allow_div=!0,this.removeBlankSpans();for(var i=this.getSelectionElements(),n=0;n<i.length;n++){var o=t(i[n]);["LI","TH","TD"].indexOf(o.get(0).tagName)>=0?this.wrapTextInElement(o,!0):this.parents(o,"li").length?this.wrapTextInElement(t(this.parents(o,"li")[0]),e):this.wrapTextInElement(this.$element,e)}this.allow_div=!1},e.prototype.convertNewLines=function(){this.$element.find("pre").each(function(e,i){var n=t(i),o=t(i).html();o.indexOf("\n")>=0&&n.html(o.replace(/\n/g,"<br>"))})},e.prototype.setHTML=function(e,i){this.no_verify=!0,this.allow_div=!0,void 0===i&&(i=!0),e=this.clean(e,!0,!1),e=e.replace(/>\s+</g,"><"),this.$element.html(e),this.cleanAttrs(this.$element.get(0)),this.convertNewLines(),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(!0),this.$element.find("li:empty").append(t.Editable.INVISIBLE_SPACE),this.cleanupLists(),this.cleanify(!1,!0,!1),i&&(this.restoreSelectionByMarkers(),this.sync()),this.$element.find("span").attr("data-fr-verified",!0),this.initialized&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.no_verify=!1,this.allow_div=!1},e.prototype.beforePaste=function(){this.saveSelectionByMarkers(),this.clipboardHTML=null,this.scrollPosition=this.$window.scrollTop(),this.$pasteDiv?this.$pasteDiv.html(""):(this.$pasteDiv=t('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; z-index: 4000; line-height: 140%;" tabindex="-1"></div>'),this.$box.after(this.$pasteDiv)),this.$pasteDiv.focus(),this.window.setTimeout(t.proxy(this.processPaste,this),1)},e.prototype.processPaste=function(){var i=this.clipboardHTML;null===this.clipboardHTML&&(i=this.$pasteDiv.html(),this.restoreSelectionByMarkers(),this.$window.scrollTop(this.scrollPosition));var n,o=this.triggerEvent("onPaste",[i],!1);"string"==typeof o&&(i=o),i=i.replace(/<img /gi,'<img data-fr-image-pasted="true" '),i.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(n=this.wordClean(i),n=this.clean(t("<div>").append(n).html(),!1,!0),n=this.removeEmptyTags(n)):(n=this.clean(i,!1,!0),n=this.removeEmptyTags(n),e.copiedText&&t("<div>").html(n).text().replace(/\u00A0/gi," ")==e.copiedText.replace(/(\u00A0|\r|\n)/gi," ")&&(n=e.copiedHTML)),this.options.plainPaste&&(n=this.plainPasteClean(n)),o=this.triggerEvent("afterPasteCleanup",[n],!1),"string"==typeof o&&(n=o),""!==n&&(this.insertHTML(n,!0,!0),this.saveSelectionByMarkers(),this.removeBlankSpans(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove(),this.restoreSelectionByMarkers(),this.$element.find("li[data-indent]").each(t.proxy(function(e,i){this.indentLi?(t(i).removeAttr("data-indent"),this.indentLi(t(i))):t(i).removeAttr("data-indent")},this)),this.$element.find("li").each(t.proxy(function(e,i){this.wrapTextInElement(t(i),!0)},this)),this.options.paragraphy&&this.wrapText(!0),this.cleanupLists()),this.afterPaste()},e.prototype.afterPaste=function(){this.uploadPastedImages(),this.checkPlaceholder(),this.pasting=!1,this.triggerEvent("afterPaste",[],!0,!1)},e.prototype.getSelectedHTML=function(){function e(e,n){for(;3==n.nodeType||i.valid_nodes.indexOf(n.tagName)<0;)3!=n.nodeType&&t(e).wrapInner("<"+n.tagName+i.attrs(n)+"></"+n.tagName+">"),n=n.parentNode}var i=this,n="";if("undefined"!=typeof window.getSelection)for(var o=this.getRanges(),s=0;s<o.length;s++){var r=document.createElement("div");r.appendChild(o[s].cloneContents()),e(r,this.getSelectionParent()),n+=r.innerHTML}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(n=document.selection.createRange().htmlText);return n},e.prototype.registerPaste=function(){this.$element.on("copy cut",t.proxy(function(){this.isHTML||(e.copiedHTML=this.getSelectedHTML(),e.copiedText=t("<div>").html(e.copiedHTML).text())},this)),this.$element.on("paste",t.proxy(function(e){if(!this.isHTML){if(e.originalEvent&&(e=e.originalEvent),!this.triggerEvent("beforePaste",[],!1))return!1;if(this.clipboardPaste(e))return!1;this.clipboardHTML="",this.pasting=!0,this.scrollPosition=this.$window.scrollTop();var i=!1;if(e&&e.clipboardData&&e.clipboardData.getData){var n="",o=e.clipboardData.types;if(t.Editable.isArray(o))for(var s=0;s<o.length;s++)n+=o[s]+";";else n=o;if(/text\/html/.test(n)?this.clipboardHTML=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&this.browser.safari?this.clipboardHTML=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(this.clipboardHTML=this.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br/>")),""!==this.clipboardHTML?i=!0:this.clipboardHTML=null,i)return this.processPaste(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1}this.beforePaste()}},this))},e.prototype.clipboardPaste=function(e){if(e&&e.clipboardData&&e.clipboardData.items&&e.clipboardData.items[0]){var i=e.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=t.proxy(function(t){var e=t.target.result;this.insertHTML('<img data-fr-image-pasted="true" src="'+e+'" />'),this.afterPaste()},this),n.readAsDataURL(i),!0}}return!1},e.prototype.uploadPastedImages=function(){this.options.pasteImage?this.options.imageUpload&&this.$element.find("img[data-fr-image-pasted]").each(t.proxy(function(e,i){if(0===i.src.indexOf("data:")){if(this.options.defaultImageWidth&&t(i).attr("width",this.options.defaultImageWidth),this.options.pastedImagesUploadURL){if(!this.triggerEvent("beforeUploadPastedImage",[i],!1))return!1;setTimeout(t.proxy(function(){this.showImageLoader(),this.$progress_bar.find("span").css("width","100%").text("Please wait!"),this.showByCoordinates(t(i).offset().left+t(i).width()/2,t(i).offset().top+t(i).height()+10),this.isDisabled=!0
},this),10),t.ajax({type:this.options.pastedImagesUploadRequestType,url:this.options.pastedImagesUploadURL,data:t.extend({image:decodeURIComponent(i.src)},this.options.imageUploadParams),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers,dataType:"json"}).done(t.proxy(function(e){try{if(e.link){var n=new Image;n.onerror=t.proxy(function(){t(i).remove(),this.hide(),this.throwImageError(1)},this),n.onload=t.proxy(function(){i.src=e.link,this.hideImageLoader(),this.hide(),this.enable(),setTimeout(function(){t(i).trigger("touchend")},50),this.triggerEvent("afterUploadPastedImage",[t(i)])},this),n.src=e.link}else e.error?(t(i).remove(),this.hide(),this.throwImageErrorWithMessage(e.error)):(t(i).remove(),this.hide(),this.throwImageError(2))}catch(o){t(i).remove(),this.hide(),this.throwImageError(4)}},this)).fail(t.proxy(function(){t(i).remove(),this.hide(),this.throwImageError(3)},this))}}else 0!==i.src.indexOf("http")&&t(i).remove();t(i).removeAttr("data-fr-image-pasted")},this)):this.$element.find("img[data-fr-image-pasted]").remove()},e.prototype.disable=function(){this.isDisabled=!0,this.$element.blur(),this.$box.addClass("fr-disabled"),this.$element.attr("contenteditable",!1)},e.prototype.enable=function(){this.isDisabled=!1,this.$box.removeClass("fr-disabled"),this.$element.attr("contenteditable",!0)},e.prototype.wordClean=function(t){t.indexOf("<body")>=0&&(t=t.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),t=t.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),t=t.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),t=t.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),t=t.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),t=t.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),t=t.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),t=t.replace(/<!--[\s\S]*?-->/gi,""),t=t.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var e=["style","script","applet","embed","noframes","noscript"],i=0;i<e.length;i++){var n=new RegExp("<"+e[i]+".*?"+e[i]+"(.*?)>","gi");t=t.replace(n,"")}t=t.replace(/&nbsp;/gi," ");var o;do o=t,t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(t!=o);return t=t.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),t=t.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),t=this.clean(t),t=t.replace(/<a>(.[^<]+)<\/a>/gi,"$1")},e.prototype.tabs=function(t){for(var e="",i=0;t>i;i++)e+="  ";return e},e.prototype.cleanTags=function(t,e){void 0===e&&(e=!1);var i,n,o,s,r=[],a=[],l=!1,d=!1,h=this.options.formatTags;for(n=0;n<t.length;n++)if(i=t.charAt(n),"<"==i){var p=t.indexOf(">",n+1);if(-1!==p){var c=t.substring(n,p+1),u=this.tagName(c);if(0===u.indexOf("!--")&&(p=t.indexOf("-->",n+1),-1!==p)){c=t.substring(n,p+3),a.push(c),n=p+2;continue}if(0===u.indexOf("!")&&a.length&&a[a.length-1]!=c){a.push(c),n=p;continue}if("head"==u&&this.options.fullPage&&(d=!0),d){a.push(c),n=p,"head"==u&&this.isClosingTag(c)&&(d=!1);continue}if(this.options.allowedTags.indexOf(u)<0&&(!this.options.fullPage||["html","head","body","!doctype"].indexOf(u)<0)){n=p;continue}var f=this.isClosingTag(c);if("pre"===u&&(l=f?!1:!0),this.isSelfClosingTag(c))a.push("br"===u&&l?"\n":c);else if(f)for(o=!1,s=!0;o===!1&&void 0!==s;)s=r.pop(),void 0!==s&&s.tag_name!==u?a.splice(s.i,1):(o=!0,void 0!==s&&a.push(c));else a.push(c),r.push({tag_name:u,i:a.length-1});n=p}}else"\n"===i&&this.options.beautifyCode?e&&l?a.push("<br/>"):l?a.push(i):r.length>0&&a.push(" "):9!=i.charCodeAt(0)&&a.push(i);for(;r.length>0;)s=r.pop(),a.splice(s.i,1);var m="\n";this.options.beautifyCode||(m=""),t="",r=0;var g=!0;for(n=0;n<a.length;n++)1==a[n].length?g&&" "===a[n]||(t+=a[n],g=!1):h.indexOf(this.tagName(a[n]).toLowerCase())<0?(t+=a[n],"br"==this.tagName(a[n])&&(t+=m)):this.isSelfClosingTag(a[n])?h.indexOf(this.tagName(a[n]).toLowerCase())>=0?(t+=this.tabs(r)+a[n]+m,g=!1):t+=a[n]:this.isClosingTag(a[n])?(r-=1,0===r&&(g=!0),t.length>0&&t[t.length-1]==m&&(t+=this.tabs(r)),t+=a[n]+m):(t+=m+this.tabs(r)+a[n],r+=1,g=!1);return t[0]==m&&(t=t.substring(1,t.length)),t[t.length-1]==m&&(t=t.substring(0,t.length-1)),t},e.prototype.cleanupLists=function(){this.$element.find("ul, ol").each(t.proxy(function(e,i){var n=t(i);if(this.parents(t(i),"ul, ol").length>0)return!0;if(n.find(".close-ul, .open-ul, .close-ol, .open-ol, .open-li, .close-li").length>0){var o="<"+i.tagName.toLowerCase()+">"+n.html()+"</"+i.tagName.toLowerCase()+">";o=o.replace(new RegExp('<span class="close-ul" data-fr-verified="true"></span>',"g"),"</ul>"),o=o.replace(new RegExp('<span class="open-ul" data-fr-verified="true"></span>',"g"),"<ul>"),o=o.replace(new RegExp('<span class="close-ol" data-fr-verified="true"></span>',"g"),"</ol>"),o=o.replace(new RegExp('<span class="open-ol" data-fr-verified="true"></span>',"g"),"<ol>"),o=o.replace(new RegExp('<span class="close-li" data-fr-verified="true"></span>',"g"),"</li>"),o=o.replace(new RegExp('<span class="open-li" data-fr-verified="true"></span>',"g"),"<li>"),o=o.replace(new RegExp("<li></li>","g"),""),n.replaceWith(o)}},this)),this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find(" > li").wrap("<ul>"),this.$element.find("ul, ol").each(t.proxy(function(e,i){var n=t(i);0===n.find(this.valid_nodes.join(",")).length&&n.remove()},this)),this.$element.find("li > ul, li > ol").each(t.proxy(function(e,i){var n=t(i).parent().get(0).previousSibling;this.isFirstSibling(i)&&(n&&"LI"==n.tagName?t(n).append(t(i)):t(i).before("<br/>"))},this)),this.$element.find("li:empty").remove();for(var e=this.$element.find("ol + ol, ul + ul"),i=0;i<e.length;i++){var n=t(e[i]);this.attrs(e[i])==this.attrs(n.prev().get(0))&&(n.prev().append(n.html()),n.remove())}this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find("li > "+this.options.defaultTag).each(function(e,i){0===i.attributes.length&&t(i).replaceWith(t(i).html())})},e.prototype.escapeEntities=function(t){return t.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")},e.prototype.cleanNodeAttrs=function(t,e){var i=t.attributes;if(i)for(var n=new RegExp("^"+e.join("$|^")+"$","i"),o=0;o<i.length;o++){var s=i[o];n.test(s.nodeName)?t.setAttribute(s.nodeName,s.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")):t.removeAttribute(s.nodeName)}},e.prototype.cleanAttrs=function(t){1==t.nodeType&&t.className.indexOf("f-marker")<0&&t!==this.$element.get(0)&&"IFRAME"!=t.tagName&&this.cleanNodeAttrs(t,this.options.allowedAttrs,!0);for(var e=t.childNodes,i=0;i<e.length;i++)this.cleanAttrs(e[i])},e.prototype.clean=function(i,n,o,s,r){this.pasting&&e.copiedText===t("<div>").html(i).text()&&(o=!1,n=!0),r||(r=t.merge([],this.options.allowedAttrs)),s||(s=t.merge([],this.options.allowedTags)),n||r.indexOf("id")>-1&&r.splice(r.indexOf("id"),1),this.options.fullPage&&(i=i.replace(/<!DOCTYPE([^>]*?)>/i,"<!-- DOCTYPE$1 -->"),i=i.replace(/<html([^>]*?)>/i,"<!-- html$1 -->"),i=i.replace(/<\/html([^>]*?)>/i,"<!-- /html$1 -->"),i=i.replace(/<body([^>]*?)>/i,"<!-- body$1 -->"),i=i.replace(/<\/body([^>]*?)>/i,"<!-- /body$1 -->"),i=i.replace(/<head>([\w\W]*)<\/head>/i,function(t,e){var i=1;return e=e.replace(/(<style)/gi,function(t,e){return e+" data-id="+i++}),"<!-- head "+e.replace(/(>)([\s|\t]*)(<)/gi,"$1$3").replace(/</gi,"[").replace(/>/gi,"]")+" -->"})),this.options.allowComments?(this.options.allowedTags.push("!--"),this.options.allowedTags.push("!")):i=i.replace(/(<!--[.\s\w\W]*?-->)/gi,""),this.options.allowScript||(i=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),this.options.allowStyle||(i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(t,e){return"<!--"+e.replace(/</g,"[[").replace(/>/g,"]]")+"-->"});var a=new RegExp("<\\/?((?!(?:"+s.join(" |")+" |"+s.join(">|")+">|"+s.join("/>|")+"/>))\\w+)[^>]*?>","gi");if(i=i.replace(a,""),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(t,e){return"<!--"+e.replace(/\[\[/g,"<").replace(/\]\]/g,">")+"-->"}),o){var l=new RegExp("style=(\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/'%]*\"|'[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/\"%]*')","gi");i=i.replace(l,""),i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")}i=this.cleanTags(i,!0),i=i.replace(/(\r|\n)/gi,"");var d=new RegExp("<([^>]*)( src| href)=('[^']*'|\"[^\"]*\"|[^\\s>]+)([^>]*)>","gi");if(i=i.replace(d,t.proxy(function(t,e,i,n,o){return"<"+e+i+'="'+this.sanitizeURL(n.replace(/^["'](.*)["']\/?$/gi,"$1"))+'"'+o+">"},this)),!n){var h=t("<div>").append(i);h.find('[class]:not([class^="fr-"])').each(function(e,i){t(i).removeAttr("class")}),i=h.html()}return i},e.prototype.removeBlankSpans=function(){this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),this.$element.find("span").each(t.proxy(function(e,i){0===this.attrs(i).length&&t(i).replaceWith(t(i).html())},this)),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1},e.prototype.plainPasteClean=function(e){var i=t("<div>").html(e);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(t.proxy(function(e,i){t(i).replaceWith("<"+this.options.defaultTag+">"+t(i).html()+"</"+this.options.defaultTag+">")},this)),t(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br").get().reverse()).each(function(){t(this).replaceWith(t(this).html())});var n=function(e){for(var i=e.contents(),o=0;o<i.length;o++)3!=i[o].nodeType&&1!=i[o].nodeType?t(i[o]).remove():n(t(i[o]))};return n(i),i.html()},e.prototype.removeEmptyTags=function(e){for(var i,n=t("<div>").html(e),o=n.find("*:empty:not(br, img, td, th)");o.length;){for(i=0;i<o.length;i++)t(o[i]).remove();o=n.find("*:empty:not(br, img, td, th)")}for(var s=n.find("> div, td > div, th > div, li > div");s.length;){var r=t(s[s.length-1]);r.replaceWith(r.html()+"<br/>"),s=n.find("> div, td > div, th > div, li > div")}for(s=n.find("div");s.length;){for(i=0;i<s.length;i++){var a=t(s[i]),l=a.html().replace(/\u0009/gi,"").trim();a.replaceWith(l)}s=n.find("div")}return n.html()},e.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var t="froala-view froala-element "+this.options.editorClass;this.browser.msie&&e.getIEversion()<9&&(t+=" ie8"),this.$element.css("outline",0),this.browser.msie||(t+=" not-msie"),this.$element.addClass(t)},e.prototype.CJKclean=function(t){var e=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return t.replace(e,"")},e.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown","textarea, input",function(t){t.stopPropagation()}),this.$element.on("keydown cut",t.proxy(function(e){if(!this.isHTML){if(!this.options.multiLine&&13==e.which)return e.preventDefault(),e.stopPropagation(),!1;if("keydown"===e.type&&!this.triggerEvent("keydown",[e],!1))return!1;clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.getHTML(!0,!1),this.typingTimer=setTimeout(t.proxy(function(){var t=this.getHTML(!0,!1);this.ime||this.CJKclean(t)===this.CJKclean(this.oldHTML)||this.CJKclean(t)!==t||this.sync()},this),Math.max(this.options.typingTimer,500))}},this))},e.prototype.removeMarkersByRegex=function(t){return t.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>([\S\s][^\/])*<\/span>/gi,"")},e.prototype.getImageHTML=function(){return JSON.stringify({src:this.$element.find("img").attr("src"),style:this.$element.find("img").attr("style"),alt:this.$element.find("img").attr("alt"),width:this.$element.find("img").attr("width"),link:this.$element.find("a").attr("href"),link_title:this.$element.find("a").attr("title"),link_target:this.$element.find("a").attr("target")})},e.prototype.getLinkHTML=function(){return JSON.stringify({body:this.$element.html(),href:this.$element.attr("href"),title:this.$element.attr("title"),popout:this.$element.hasClass("popout"),nofollow:"nofollow"==this.$element.attr("ref"),blank:"_blank"==this.$element.attr("target"),cls:this.$element.attr("class")?this.$element.attr("class").replace(/froala-element ?|not-msie ?|froala-view ?/gi,"").trim():""})},e.prototype.addFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").addClass("fr-tag")},e.prototype.removeFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").removeClass("fr-tag")},e.prototype.getHTML=function(e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=this.options.useFrTag),void 0===n&&(n=!0),this.$element.hasClass("f-placeholder")&&!e)return"";if(this.isHTML)return this.$html_area.val();if(this.isImage)return this.getImageHTML();if(this.isLink)return this.getLinkHTML();this.$element.find("a").data("fr-link",!0),i&&this.addFrTag(),this.$element.find(".f-img-editor > img").each(t.proxy(function(e,i){t(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(t(i).parent().attr("class")))},this)),this.options.useClasses||this.$element.find("img").each(t.proxy(function(e,i){var n=t(i);n.attr("data-style",this.getImageStyle(n))},this)),this.$element.find("pre").each(t.proxy(function(e,i){var n=t(i),o=n.html(),s=o.replace(/\&nbsp;/gi," ").replace(/\n/gi,"<br>");o!=s&&(this.saveSelectionByMarkers(),n.html(s),this.restoreSelectionByMarkers())},this)),this.$element.find("pre br").addClass("fr-br"),this.$element.find('[class=""]').removeAttr("class"),this.cleanAttrs(this.$element.get(0));var o=this.$element.html();this.removeFrTag(),this.$element.find("pre br").removeAttr("class"),o=o.replace(/<a[^>]*?><\/a>/g,""),e||(o=this.removeMarkersByRegex(o)),o=o.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),o=o.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),o=o.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.options.useClasses||(o=o.replace(/data-style/gi,"style"),o=o.replace(/(<img[^>]*)( class\s*=['"]?[a-zA-Z0-9- ]+['"]?)([^>]*\/?>)/gi,"$1$3")),this.options.simpleAmpersand&&(o=o.replace(/\&amp;/gi,"&")),n&&(o=o.replace(/ data-fr-verified="true"/gi,"")),this.options.beautifyCode&&(o=o.replace(/\n/gi,"")),o=o.replace(/<br class="fr-br">/gi,"\n"),o=o.replace(/\u200B/gi,""),this.options.fullPage&&(o=o.replace(/<!-- DOCTYPE([^>]*?) -->/i,"<!DOCTYPE$1>"),o=o.replace(/<!-- html([^>]*?) -->/i,"<html$1>"),o=o.replace(/<!-- \/html([^>]*?) -->/i,"</html$1>"),o=o.replace(/<!-- body([^>]*?) -->/i,"<body$1>"),o=o.replace(/<!-- \/body([^>]*?) -->/i,"</body$1>"),o=o.replace(/<!-- head ([\w\W]*?) -->/i,function(t,e){return"<head>"+e.replace(/\[/gi,"<").replace(/\]/gi,">")+"</head>"}));var s=this.triggerEvent("getHTML",[o],!1);return"string"==typeof s?s:o},e.prototype.getText=function(){return this.$element.text()},e.prototype.setDirty=function(t){this.dirty=t,t||(clearTimeout(this.ajaxInterval),this.ajaxHTML=this.getHTML(!1,!1))},e.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(!1,!1),this.ajaxSave=!0,this.ajaxInterval=setInterval(t.proxy(function(){var t=this.getHTML(!1,!1);(this.ajaxHTML!=t||this.dirty)&&this.ajaxSave&&(this.options.autosave&&this.save(),this.dirty=!1,this.ajaxHTML=t),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},e.prototype.disableBrowserUndo=function(){this.$element.keydown(t.proxy(function(t){var e=t.which,i=(t.ctrlKey||t.metaKey)&&!t.altKey;if(!this.isHTML&&i){if(90==e&&t.shiftKey)return t.preventDefault(),!1;if(90==e)return t.preventDefault(),!1}},this))},e.prototype.shortcutEnabled=function(t){return this.options.shortcutsAvailable.indexOf(t)>=0},e.prototype.shortcuts_map={69:{cmd:"show",params:[null],id:"show"},66:{cmd:"exec",params:["bold"],id:"bold"},73:{cmd:"exec",params:["italic"],id:"italic"},85:{cmd:"exec",params:["underline"],id:"underline"},83:{cmd:"exec",params:["strikeThrough"],id:"strikeThrough"},75:{cmd:"exec",params:["createLink"],id:"createLink"},80:{cmd:"exec",params:["insertImage"],id:"insertImage"},221:{cmd:"exec",params:["indent"],id:"indent"},219:{cmd:"exec",params:["outdent"],id:"outdent"},72:{cmd:"exec",params:["html"],id:"html"},48:{cmd:"exec",params:["formatBlock","n"],id:"formatBlock n"},49:{cmd:"exec",params:["formatBlock","h1"],id:"formatBlock h1"},50:{cmd:"exec",params:["formatBlock","h2"],id:"formatBlock h2"},51:{cmd:"exec",params:["formatBlock","h3"],id:"formatBlock h3"},52:{cmd:"exec",params:["formatBlock","h4"],id:"formatBlock h4"},53:{cmd:"exec",params:["formatBlock","h5"],id:"formatBlock h5"},54:{cmd:"exec",params:["formatBlock","h6"],id:"formatBlock h6"},222:{cmd:"exec",params:["formatBlock","blockquote"],id:"formatBlock blockquote"},220:{cmd:"exec",params:["formatBlock","pre"],id:"formatBlock pre"}},e.prototype.ctrlKey=function(t){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(t.metaKey&&!t.altKey)return!0}else if(t.ctrlKey&&!t.altKey)return!0;return!1},e.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",t.proxy(function(t){var e=t.which,i=this.ctrlKey(t);if(!this.isHTML&&i){if(this.shortcuts_map[e]&&this.shortcutEnabled(this.shortcuts_map[e].id))return this.execDefaultShortcut(this.shortcuts_map[e].cmd,this.shortcuts_map[e].params);if(90==e&&t.shiftKey)return t.preventDefault(),t.stopPropagation(),this.redo(),!1;if(90==e)return t.preventDefault(),t.stopPropagation(),this.undo(),!1}},this))},e.prototype.initTabs=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;if(9!=e||t.shiftKey)9==e&&t.shiftKey&&(this.raiseEvent("shift+tab")?this.options.tabSpaces?t.preventDefault():this.blur():t.preventDefault());else if(this.raiseEvent("tab"))if(this.options.tabSpaces){t.preventDefault();var i="&nbsp;&nbsp;&nbsp;&nbsp;",n=this.getSelectionElements()[0];"PRE"===n.tagName&&(i="    "),this.insertHTML(i,!1)}else this.blur();else t.preventDefault()},this))},e.prototype.textEmpty=function(e){var i=t(e).text().replace(/(\r\n|\n|\r|\t)/gm,"");return(""===i||e===this.$element.get(0))&&0===t(e).find("br").length},e.prototype.inEditor=function(t){for(;t&&"BODY"!==t.tagName;){if(t===this.$element.get(0))return!0;t=t.parentNode}return!1},e.prototype.focus=function(e){if(this.isDisabled)return!1;if(void 0===e&&(e=!0),""!==this.text()&&!this.$element.is(":focus"))return void(this.browser.msie||(this.clearSelection(),this.$element.focus()));if(!this.isHTML){if(e&&!this.pasting&&this.$element.focus(),this.pasting&&!this.$element.is(":focus")&&this.$element.focus(),this.$element.hasClass("f-placeholder"))return void this.setSelection(this.$element.find(this.options.defaultTag).length>0?this.$element.find(this.options.defaultTag)[0]:this.$element.get(0));var i=this.getRange();if(""===this.text()&&i&&(0===i.startOffset||i.startContainer===this.$element.get(0)||!this.inEditor(i.startContainer))){var n,o,s=this.getSelectionElements();if(t.merge(["IMG","BR"],this.valid_nodes).indexOf(this.getSelectionElement().tagName)<0)return!1;if(i.startOffset>0&&this.valid_nodes.indexOf(this.getSelectionElement().tagName)>=0&&"BODY"!=i.startContainer.tagName||i.startContainer&&3===i.startContainer.nodeType)return;if(!this.options.paragraphy&&s.length>=1&&s[0]===this.$element.get(0)){var r=function(e){if(!e)return null;if(3==e.nodeType&&e.textContent.length>0)return e;if(1==e.nodeType&&"BR"==e.tagName)return e;for(var i=t(e).contents(),n=0;n<i.length;n++){var o=r(i[n]);if(null!=o)return o}return null};if(0===i.startOffset&&this.$element.contents().length>0&&3!=this.$element.contents()[0].nodeType){var a=r(this.$element.get(0));null!=a&&("BR"==a.tagName?this.$element.is(":focus")&&(t(a).before(this.markers_html),this.restoreSelectionByMarkers()):this.setSelection(a))}return!1}if(s.length>=1&&s[0]!==this.$element.get(0))for(n=0;n<s.length;n++){if(o=s[n],!this.textEmpty(o)||this.browser.msie)return void this.setSelection(o);if(this.textEmpty(o)&&["LI","TD"].indexOf(o.tagName)>=0)return}if(i.startContainer===this.$element.get(0)&&i.startOffset>0&&!this.options.paragraphy)return void this.setSelection(this.$element.get(0),i.startOffset);for(s=this.$element.find(this.valid_nodes.join(",")),n=0;n<s.length;n++)if(o=s[n],!this.textEmpty(o)&&0===t(o).find(this.valid_nodes.join(",")).length)return void this.setSelection(o);this.setSelection(this.$element.get(0))}}},e.prototype.addMarkersAtEnd=function(e){if(e.find(".fr-marker").length>0)return!1;for(var i=e.get(0),n=t(i).contents();n.length&&this.valid_nodes.indexOf(n[n.length-1].tagName)>=0;)i=n[n.length-1],n=t(n[n.length-1]).contents();t(i).append(this.markers_html)},e.prototype.setFocusAtEnd=function(t){void 0===t&&(t=this.$element),this.addMarkersAtEnd(t),this.restoreSelectionByMarkers()},e.prototype.breakHTML=function(e,i){"undefined"==typeof i&&(i=!0),this.removeMarkers(),0===this.$element.find("break").length&&this.insertSimpleHTML("<break></break>");var n=this.parents(this.$element.find("break"),t.merge(["UL","OL"],this.valid_nodes).join(","))[0];if(this.parents(t(n),"ul, ol").length&&(n=this.parents(t(n),"ul, ol")[0]),void 0===n&&(n=this.$element.get(0)),["UL","OL"].indexOf(n.tagName)>=0){var o=t("<div>").html(e);o.find("> li").wrap("<"+n.tagName+">"),e=o.html()}if(n==this.$element.get(0)){if(this.$element.find("break").next().length){this.insertSimpleHTML('<div id="inserted-div">'+e+"</div>");var s=this.$element.find("div#inserted-div");this.setFocusAtEnd(s),this.saveSelectionByMarkers(),s.replaceWith(s.contents()),this.restoreSelectionByMarkers()}else this.insertSimpleHTML(e),this.setFocusAtEnd();return this.$element.find("break").remove(),this.checkPlaceholder(),!0}if("TD"===n.tagName)return this.$element.find("break").remove(),this.insertSimpleHTML(e),!0;var r=t("<div>").html(e);if(this.addMarkersAtEnd(r),e=r.html(),this.emptyElement(t(n)))return t(n).replaceWith(e),this.restoreSelectionByMarkers(),this.checkPlaceholder(),!0;this.$element.find("li").each(t.proxy(function(e,i){this.emptyElement(i)&&t(i).addClass("empty-li")},this));for(var a,l,d=t("<div></div>").append(t(n).clone()).html(),h=[],p={},c=[],u=0,f=0;f<d.length;f++)if(l=d.charAt(f),"<"==l){var m=d.indexOf(">",f+1);if(-1!==m){a=d.substring(f,m+1);var g=this.tagName(a);if(f=m,"break"==g){if(!this.isClosingTag(a)){for(var v=!0,y=[],b=h.length-1;b>=0;b--){var w=this.tagName(h[b]);if(!i&&"LI"==w.toUpperCase()){v=!1;break}c.push("</"+w+">"),y.push(h[b])}c.push(e),v||c.push("</li><li>");for(var x=0;x<y.length;x++)c.push(y[x])}}else if(c.push(a),!this.isSelfClosingTag(a))if(this.isClosingTag(a)){var k=p[g].pop();h.splice(k,1)}else h.push(a),void 0===p[g]&&(p[g]=[]),p[g].push(h.length-1)}}else u++,c.push(l);t(n).replaceWith(c.join("")),this.$element.find("li").each(t.proxy(function(e,i){var n=t(i);n.hasClass("empty-li")?n.removeClass("empty-li"):this.emptyElement(i)&&n.remove()},this)),this.cleanupLists(),this.restoreSelectionByMarkers()},e.prototype.insertSimpleHTML=function(t){var e,i;if(this.no_verify=!0,this.window.getSelection){if(e=this.window.getSelection(),e.getRangeAt&&e.rangeCount){i=e.getRangeAt(0),this.browser.webkit?i.collapsed||this.document.execCommand("delete"):i.deleteContents(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove();var n=this.document.createElement("div");n.innerHTML=t;for(var o,s,r=this.document.createDocumentFragment();o=n.firstChild;)s=r.appendChild(o);i.insertNode(r),s&&(i=i.cloneRange(),i.setStartAfter(s),i.collapse(!0),e.removeAllRanges(),e.addRange(i))}}else if((e=this.document.selection)&&"Control"!=e.type){var a=e.createRange();a.collapse(!0),e.createRange().pasteHTML(t)}this.no_verify=!1},e.prototype.insertHTML=function(e,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!1),!this.isHTML&&i&&this.focus(),this.removeMarkers(),this.insertSimpleHTML("<break></break>"),this.checkPlaceholder(!0),this.$element.hasClass("f-placeholder"))return this.$element.html(e),this.options.paragraphy&&this.wrapText(!0),this.$element.find("p > br").each(function(){var e=this.parentNode;1==t(e).contents().length&&t(e).remove()}),this.$element.find("break").remove(),this.setFocusAtEnd(),this.checkPlaceholder(),this.convertNewLines(),!1;for(var o=t("<div>").append(e).find("*"),s=0;s<o.length;s++)if(this.valid_nodes.indexOf(o[s].tagName)>=0)return this.breakHTML(e),this.$element.find("break").remove(),this.convertNewLines(),!1;this.$element.find("break").remove(),this.insertSimpleHTML(e),this.convertNewLines()},e.prototype.execDefaultShortcut=function(t,e){return this[t].apply(this,e),!1},e.prototype.initEditor=function(){var i="froala-editor";this.mobile()&&(i+=" touch"),this.browser.msie&&e.getIEversion()<9&&(i+=" ie8"),this.$editor=t('<div class="'+i+'" style="display: none;">');var n=this.$document.find(this.options.scrollableContainer);n.append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},e.prototype.refreshToolbarPosition=function(){this.$window.scrollTop()>this.$box.offset().top&&this.$window.scrollTop()<this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.iOS()&&(this.$element.is(":focus")?this.$editor.css("top",this.$window.scrollTop()):this.$editor.css("top",""))):this.$window.scrollTop()<this.$box.offset().top?this.iOS()&&this.$element.is(":focus")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.$editor.css("top",this.$box.offset().top)):(this.$editor.removeClass("f-scroll f-scroll-abs").css("bottom","").css("top","").width(""),this.$element.css("padding-top",""),this.$placeholder.css("margin-top","")):this.$window.scrollTop()>this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()&&!this.$editor.hasClass("f-scroll-abs")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.removeClass("f-scroll").addClass("f-scroll-abs"),this.$editor.css("bottom",0).css("top","").css("left","")):this.$editor.removeClass("f-scroll").css("bottom","").css("top","").css("left","").width("")},e.prototype.toolbarTop=function(){this.options.toolbarFixed||this.options.inlineMode||(this.$element.data("padding-top",parseInt(this.$element.css("padding-top"),10)),this.$window.on("scroll resize load",t.proxy(function(){this.refreshToolbarPosition()},this)),this.iOS()&&this.$element.on("focus blur",t.proxy(function(){this.refreshToolbarPosition()},this)))},e.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$wrapper.addClass("f-basic"),this.$popup_editor=this.$editor.clone();var t=this.$document.find(this.options.scrollableContainer);this.$popup_editor.appendTo(t).addClass("f-inline"),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$wrapper),this.toolbarTop()},e.prototype.initInlineEditor=function(){this.$editor.addClass("f-inline"),this.$element.addClass("f-inline"),this.$popup_editor=this.$editor},e.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!this.window.FormData,progress:"upload"in new XMLHttpRequest}},e.prototype.initOptions=function(){this.setDimensions(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup(),this.editableDisabled||(this.setPlaceholder(),this.setPlaceholderEvents())},e.prototype.setAllowStyle=function(t){"undefined"==typeof t&&(t=this.options.allowStyle),t?this.options.allowedTags.push("style"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("style"),1)},e.prototype.setAllowScript=function(t){"undefined"==typeof t&&(t=this.options.allowScript),t?this.options.allowedTags.push("script"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("script"),1)},e.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==this.window.Touch},e.prototype.initEditorSelection=function(){this.$element.on("keyup",t.proxy(function(t){return this.triggerEvent("keyup",[t],!1)},this)),this.$element.on("focus",t.proxy(function(){this.blurred&&(this.blurred=!1,this.pasting||""!==this.text()||this.focus(!1),this.triggerEvent("focus",[],!1))},this)),this.$element.on("mousedown touchstart",t.proxy(function(){return this.isDisabled?!1:void(this.isResizing()||(this.closeImageMode(),this.hide()))},this)),this.options.disableRightClick&&this.$element.contextmenu(t.proxy(function(t){return t.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on(this.mouseup,t.proxy(function(e){if(this.isDisabled)return!1;if(!this.isResizing()){var i=this.text();e.stopPropagation(),this.imageMode=!1,!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||this.refreshButtons():setTimeout(t.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||(this.show(e),this.options.editInPopup&&this.showEditPopup())},this),0)}this.hideDropdowns(),this.hideOtherEditors()},this)),this.$editor.on(this.mouseup,t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||(t.stopPropagation(),this.options.inlineMode===!1&&this.hide()))},this)),this.$editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mouseup",t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||t.stopPropagation())},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||t.stopPropagation())},this)),this.setDocumentSelectionChangeEvent(),this.setWindowMouseUpEvent(),this.setWindowKeyDownEvent(),this.setWindowKeyUpEvent(),this.setWindowOrientationChangeEvent(),this.setWindowHideEvent(),this.setWindowBlurEvent(),this.options.trackScroll&&this.setWindowScrollEvent(),this.setWindowResize()},e.prototype.setWindowResize=function(){this.$window.on("resize."+this._id,t.proxy(function(){this.hide(),this.closeImageMode(),this.imageMode=!1},this))},e.prototype.blur=function(e){this.blurred||this.pasting||(this.selectionDisabled=!0,this.triggerEvent("blur",[]),e&&0===t("*:focus").length&&this.clearSelection(),this.isLink||this.isImage||(this.selectionDisabled=!1),this.blurred=!0)},e.prototype.setWindowBlurEvent=function(){this.$window.on("blur."+this._id,t.proxy(function(t,e){this.blur(e)},this))},e.prototype.setWindowHideEvent=function(){this.$window.on("hide."+this._id,t.proxy(function(){this.isResizing()?this.$element.find(".f-img-handle").trigger("moveend"):this.hide(!1)
},this))},e.prototype.setWindowOrientationChangeEvent=function(){this.$window.on("orientationchange."+this._id,t.proxy(function(){setTimeout(t.proxy(function(){this.hide()},this),10)},this))},e.prototype.setDocumentSelectionChangeEvent=function(){this.$document.on("selectionchange."+this._id,t.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(t.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var t=this.text();""!==t?(this.iPod()?this.options.alwaysVisible&&this.hide():this.show(null),e.stopPropagation()):this.options.alwaysVisible?this.show(null):(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this),75)))},this))},e.prototype.setWindowMouseUpEvent=function(){this.$window.on(this.mouseup+"."+this._id,t.proxy(function(){return this.browser.webkit&&!this.initMouseUp?(this.initMouseUp=!0,!1):(this.isResizing()||this.isScrolling||this.isDisabled||(this.$bttn_wrapper.find("button.fr-trigger").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.blur(!0)),void t("[data-down]").removeAttr("data-down"))},this))},e.prototype.setWindowKeyDownEvent=function(){this.$window.on("keydown."+this._id,t.proxy(function(e){var i=e.which;if(27==i&&(this.focus(),this.restoreSelection(),this.hide(),this.closeImageMode(),this.imageMode=!1),this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return e.stopPropagation(),e.preventDefault(),setTimeout(t.proxy(function(){this.removeImage(this.$element.find(".f-img-editor img"))},this),0),!1}else if(this.selectionInEditor()){if(this.isDisabled)return!0;var n=(e.ctrlKey||e.metaKey)&&!e.altKey;!n&&this.$popup_editor.is(":visible")&&this.$bttn_wrapper.is(":visible")&&this.options.inlineMode&&(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this))},e.prototype.setWindowKeyUpEvent=function(){this.$window.on("keyup."+this._id,t.proxy(function(){return this.isDisabled?!1:void(this.selectionInEditor()&&""!==this.text()&&!this.$popup_editor.is(":visible")&&this.repositionEditor())},this))},e.prototype.setWindowScrollEvent=function(){t.merge(this.$window,t(this.options.scrollableContainer)).on("scroll."+this._id,t.proxy(function(){return this.isDisabled?!1:(clearTimeout(this.scrollTimer),this.isScrolling=!0,void(this.scrollTimer=setTimeout(t.proxy(function(){this.isScrolling=!1},this),2500)))},this))},e.prototype.setPlaceholder=function(e){e&&(this.options.placeholder=e),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$placeholder||(this.$placeholder=t('<span class="fr-placeholder" unselectable="on"></span>').bind("click",t.proxy(function(){this.focus()},this)),this.$element.after(this.$placeholder)),this.$placeholder.text(this.options.placeholder)},e.prototype.isEmpty=function(){var e=this.$element.text().replace(/(\r\n|\n|\r|\t|\u200B|\u0020)/gm,"");return""===e&&0===this.$element.find("img, table, iframe, input, textarea, hr, li, object").length&&0===this.$element.find(this.options.defaultTag+" > br, br").length&&0===this.$element.find(t.map(this.valid_nodes,t.proxy(function(t){return this.options.defaultTag==t?null:t},this)).join(", ")).length},e.prototype.checkPlaceholder=function(i){if(this.isDisabled&&!i)return!1;if(this.pasting&&!i)return!1;if(this.$element.find("td:empty, th:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").append(this.br),!this.isHTML)if(this.isEmpty()&&!this.fakeEmpty()){var n,o=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(n=t("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"),this.$element.html(n),o&&this.setSelection(n.get(0)),this.$element.addClass("f-placeholder")):(0!==this.$element.find("br").length||this.browser.msie&&e.getIEversion()<=10||(this.$element.append(this.br),o&&this.browser.msie&&this.focus()),this.$element.addClass("f-placeholder"))}else!this.$element.find(this.options.defaultTag+", li, td, th").length&&this.options.paragraphy?(this.wrapText(!0),this.$element.find(this.options.defaultTag).length&&""===this.text()?this.setSelection(this.$element.find(this.options.defaultTag)[0],this.$element.find(this.options.defaultTag).text().length,null,this.$element.find(this.options.defaultTag).text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1&&(!this.options.paragraphy||this.$element.find(this.valid_nodes.join(",")).length>=1)?this.$element.removeClass("f-placeholder"):!this.options.paragraphy&&this.$element.find(this.valid_nodes.join(",")).length>=1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");return!0},e.prototype.fakeEmpty=function(t){void 0===t&&(t=this.$element);var e=!0;this.options.paragraphy&&(e=1==t.find(this.options.defaultTag).length?!0:!1);var i=t.text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return""===i&&e&&1==t.find("br, li").length&&0===t.find("img, table, iframe, input, textarea, hr, li").length},e.prototype.setPlaceholderEvents=function(){this.browser.msie&&e.getIEversion()<9||(this.$element.on("focus click",t.proxy(function(t){return this.isDisabled?!1:void(""!==this.$element.text()||this.pasting||(this.$element.data("focused")||"click"!==t.type?"focus"==t.type&&this.focus(!1):this.$element.focus(),this.$element.data("focused",!0)))},this)),this.$element.on("keyup keydown input focus placeholderCheck",t.proxy(function(){return this.checkPlaceholder()},this)),this.$element.trigger("placeholderCheck"))},e.prototype.setDimensions=function(t,e,i,n){t&&(this.options.height=t),e&&(this.options.width=e),i&&(this.options.minHeight=i),n&&(this.options.maxHeight=n),"auto"!=this.options.height&&(this.$wrapper.css("height",this.options.height),this.$element.css("minHeight",this.options.height-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10))),"auto"!=this.options.minHeight&&(this.$wrapper.css("minHeight",this.options.minHeight),this.$element.css("minHeight",this.options.minHeight)),"auto"!=this.options.maxHeight&&this.$wrapper.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},e.prototype.setDirection=function(t){t&&(this.options.direction=t),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.removeAttr("dir"),this.$box.addClass("f-rtl"),this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.attr("dir","auto"),this.$box.removeClass("f-rtl"),this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))},e.prototype.setZIndex=function(t){t&&(this.options.zIndex=t),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+1002),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+1003)},e.prototype.setTheme=function(t){t&&(this.options.theme=t),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},e.prototype.setSpellcheck=function(t){void 0!==t&&(this.options.spellcheck=t),this.$element.attr("spellcheck",this.options.spellcheck)},e.prototype.customizeText=function(e){if(e){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(t.proxy(function(i,n){for(var o in e)t(n).attr("title").toLowerCase()==o.toLowerCase()&&t(n).attr("title",e[o])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(t.proxy(function(i,n){for(var o in e)t(n).text().toLowerCase()==o.toLowerCase()&&t(n).text(e[o])},this))}},e.prototype.setLanguage=function(e){void 0!==e&&(this.options.language=e),t.Editable.LANGS[this.options.language]&&(this.customizeText(t.Editable.LANGS[this.options.language].translation),t.Editable.LANGS[this.options.language].direction&&t.Editable.LANGS[this.options.language].direction!=t.Editable.DEFAULTS.direction&&this.setDirection(t.Editable.LANGS[this.options.language].direction),t.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(t.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},e.prototype.setCustomText=function(t){t&&(this.options.customText=t),this.options.customText&&this.customizeText(this.options.customText)},e.prototype.execHTML=function(){this.html()},e.prototype.initHTMLArea=function(){this.$html_area=t('<textarea wrap="hard">').keydown(function(e){var i=e.keyCode||e.which;if(9==i){e.preventDefault();var n=t(this).get(0).selectionStart,o=t(this).get(0).selectionEnd;t(this).val(t(this).val().substring(0,n)+"	"+t(this).val().substring(o)),t(this).get(0).selectionStart=t(this).get(0).selectionEnd=n+1}}).focus(t.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this)).mouseup(t.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this))},e.prototype.command_dispatcher={align:function(t){var e=this.buildDropdownAlign(t),i=this.buildDropdownButton(t,e);return i},formatBlock:function(t){var e=this.buildDropdownFormatBlock(t),i=this.buildDropdownButton(t,e);return i},html:function(e){var i=this.buildDefaultButton(e);return this.options.inlineMode&&this.$box.append(t(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(t.proxy(this.execHTML,this))),this.initHTMLArea(),i}},e.prototype.setButtons=function(t){t&&(this.options.buttons=t),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.mobile()&&this.$bttn_wrapper.addClass("touch");for(var i,n,o="",s=0;s<this.options.buttons.length;s++){var r=this.options.buttons[s];if("sep"!=r){var a=e.commands[r];if(void 0!==a){a.cmd=r;var l=this.command_dispatcher[a.cmd];l?o+=l.apply(this,[a]):a.seed?(i=this.buildDefaultDropdown(a),n=this.buildDropdownButton(a,i),o+=n):(n=this.buildDefaultButton(a),o+=n,this.bindRefreshListener(a))}else{if(a=this.options.customButtons[r],void 0===a){if(a=this.options.customDropdowns[r],void 0===a)continue;n=this.buildCustomDropdown(a,r),o+=n,this.bindRefreshListener(a);continue}n=this.buildCustomButton(a,r),o+=n,this.bindRefreshListener(a)}}else o+=this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>'}this.$bttn_wrapper.html(o),this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.bindButtonEvents()},e.prototype.bindRefreshListener=function(e){e.refresh&&this.addListener("refresh",t.proxy(function(){e.refresh.apply(this,[e.cmd])},this))},e.prototype.buildDefaultButton=function(t){var e='<button tabIndex="-1" type="button" class="fr-bttn" title="'+t.title+'" data-cmd="'+t.cmd+'">';return e+=void 0===this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title),e+="</button>"},e.prototype.prepareIcon=function(t,e){switch(t.type){case"font":return this.addButtonIcon({icon:t.value});case"img":return this.addButtonIcon({icon_img:t.value,title:e});case"txt":return this.addButtonIcon({icon_txt:t.value})}},e.prototype.addButtonIcon=function(t){return t.icon?'<i class="'+t.icon+'"></i>':t.icon_alt?'<i class="for-text">'+t.icon_alt+"</i>":t.icon_img?'<img src="'+t.icon_img+'" alt="'+t.title+'"/>':t.icon_txt?"<i>"+t.icon_txt+"</i>":t.title},e.prototype.buildCustomButton=function(t,e){this["call_"+e]=t.callback;var i='<button tabIndex="-1" type="button" class="fr-bttn" data-callback="call_'+e+'" data-cmd="button_name" data-name="'+e+'" title="'+t.title+'">'+this.prepareIcon(t.icon,t.title)+"</button>";return i},e.prototype.callDropdown=function(e,i){this.$bttn_wrapper.on("click touch",'[data-name="'+e+'"]',t.proxy(function(t){t.preventDefault(),t.stopPropagation(),i.apply(this)},this))},e.prototype.buildCustomDropdown=function(t,e){var i='<div class="fr-bttn fr-dropdown">';i+='<button tabIndex="-1" type="button" class="fr-trigger" title="'+t.title+'" data-name="'+e+'">'+this.prepareIcon(t.icon,t.title)+"</button>",i+='<ul class="fr-dropdown-menu">';var n=0;for(var o in t.options){this["call_"+e+n]=t.options[o];var s='<li data-callback="call_'+e+n+'" data-cmd="'+e+n+'" data-name="'+e+n+'"><a href="#">'+o+"</a></li>";i+=s,n++}return i+="</ul></div>"},e.prototype.buildDropdownButton=function(t,e,i){i=i||"";var n='<div class="fr-bttn fr-dropdown '+i+'">',o="";o+=void 0===this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title);var s='<button tabIndex="-1" type="button" data-name="'+t.cmd+'" class="fr-trigger" title="'+t.title+'">'+o+"</button>";return n+=s,n+=e,n+="</div>"},e.prototype.buildDropdownAlign=function(t){this.bindRefreshListener(t);for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var n=t.seed[i];e+='<li data-cmd="align" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return e+="</ul>"},e.prototype.buildDropdownFormatBlock=function(t){var e='<ul class="fr-dropdown-menu">';for(var i in this.options.blockTags){var n='<li data-cmd="'+t.cmd+'" data-val="'+i+'">';n+='<a href="#" data-text="true" class="format-'+i+'" title="'+this.options.blockTags[i]+'">'+this.options.blockTags[i]+"</a></li>",e+=n}return e+="</ul>"},e.prototype.buildDefaultDropdown=function(t){for(var e='<ul class="fr-dropdown-menu">',i=0;i<t.seed.length;i++){var n=t.seed[i],o='<li data-namespace="'+t.namespace+'" data-cmd="'+(n.cmd||t.cmd)+'" data-val="'+n.value+'" data-param="'+(n.param||t.param)+'">';o+='<a href="#" data-text="true" class="'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",e+=o}return e+="</ul>"},e.prototype.createEditPopupHTML=function(){var t='<div class="froala-popup froala-text-popup" style="display:none;">';return t+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',t+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',t+="</div>",t+="</div>"},e.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=t(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(t){t.stopPropagation()}),this.addListener("hidePopups",t.proxy(function(){this.$edit_popup_wrapper.hide()},this)),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,t.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,t.proxy(function(){this.hide()},this))},e.prototype.createCORSRequest=function(t,e){var i=new XMLHttpRequest;if("withCredentials"in i){i.open(t,e,!0),this.options.withCredentials&&(i.withCredentials=!0);for(var n in this.options.headers)i.setRequestHeader(n,this.options.headers[n])}else"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null;return i},e.prototype.isEnabled=function(e){return t.inArray(e,this.options.buttons)>=0},e.prototype.bindButtonEvents=function(){this.bindDropdownEvents(this.$bttn_wrapper),this.bindCommandEvents(this.$bttn_wrapper)},e.prototype.bindDropdownEvents=function(i){var n=this;i.on(this.mousedown,".fr-dropdown .fr-trigger:not([disabled])",function(e){return"mousedown"===e.type&&1!==e.which?!0:("LI"===this.tagName&&"touchstart"===e.type&&n.android()||n.iOS()||e.preventDefault(),void t(this).attr("data-down",!0))}),i.on(this.mouseup,".fr-dropdown .fr-trigger:not([disabled])",function(o){if(n.isDisabled)return!1;if(o.stopPropagation(),o.preventDefault(),!t(this).attr("data-down"))return t("[data-down]").removeAttr("data-down"),!1;t("[data-down]").removeAttr("data-down"),n.options.inlineMode===!1&&0===t(this).parents(".froala-popup").length&&(n.hide(),n.closeImageMode(),n.imageMode=!1),t(this).toggleClass("active").trigger("blur");var s,r=t(this).attr("data-name");return e.commands[r]?s=e.commands[r].refreshOnShow:n.options.customDropdowns[r]?s=n.options.customDropdowns[r].refreshOnShow:e.image_commands[r]&&(s=e.image_commands[r].refreshOnShow),s&&s.call(n),i.find("button.fr-trigger").not(this).removeClass("active"),!1}),i.on(this.mouseup,".fr-dropdown",function(t){t.stopPropagation(),t.preventDefault()}),this.$element.on("mouseup","img, a",t.proxy(function(){return this.isDisabled?!1:void i.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),i.on("click","li[data-cmd] > a",function(t){t.preventDefault()})},e.prototype.bindCommandEvents=function(e){var i=this;e.on(this.mousedown,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",function(e){return"mousedown"===e.type&&1!==e.which?!0:("LI"===this.tagName&&"touchstart"===e.type&&i.android()||i.iOS()||e.preventDefault(),void t(this).attr("data-down",!0))}),e.on(this.mouseup+" "+this.move,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",t.proxy(function(e){if(i.isDisabled)return!1;if("mouseup"===e.type&&1!==e.which)return!0;var n=e.currentTarget;if("touchmove"!=e.type){if(e.stopPropagation(),e.preventDefault(),!t(n).attr("data-down"))return t("[data-down]").removeAttr("data-down"),!1;if(t("[data-down]").removeAttr("data-down"),t(n).data("dragging")||t(n).attr("disabled"))return t(n).removeData("dragging"),!1;var o=t(n).data("timeout");o&&(clearTimeout(o),t(n).removeData("timeout"));var s=t(n).attr("data-callback");if(i.options.inlineMode===!1&&0===t(n).parents(".froala-popup").length&&(i.hide(),i.closeImageMode(),i.imageMode=!1),s)t(n).parents(".fr-dropdown").find(".fr-trigger.active").removeClass("active"),i[s]();else{var r=t(n).attr("data-namespace"),a=t(n).attr("data-cmd"),l=t(n).attr("data-val"),d=t(n).attr("data-param");r?i["exec"+r](a,l,d):(i.exec(a,l,d),i.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"))}return!1}t(n).data("timeout")||t(n).data("timeout",setTimeout(function(){t(n).data("dragging",!0)},200))},this))},e.prototype.save=function(){if(!this.triggerEvent("beforeSave",[],!1))return!1;if(this.options.saveURL){var e={};for(var i in this.options.saveParams){var n=this.options.saveParams[i];e[i]="function"==typeof n?n.call(this):n}var o={};o[this.options.saveParam]=this.getHTML(),t.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:t.extend(o,e),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(t.proxy(function(t){this.triggerEvent("afterSave",[t])},this)).fail(t.proxy(function(){this.triggerEvent("saveError",["Save request failed on the server."])},this))}else this.triggerEvent("saveError",["Missing save URL."])},e.prototype.isURL=function(t){if(!/^(https?:|ftps?:|)\/\//.test(t))return!1;t=String(t).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var e=/\(?(?:(https?:|ftps?:|)\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|(?:www.)?(?:[^\W\s]|\.|-)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return e.test(t)},e.prototype.sanitizeURL=function(t){if(/^(https?:|ftps?:|)\/\//.test(t)){if(!this.isURL(t))return""}else t=encodeURIComponent(t).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/tel%3A/g,"tel:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return t},e.prototype.parents=function(t,e){return t.get(0)!=this.$element.get(0)?t.parentsUntil(this.$element,e):[]},e.prototype.option=function(e,i){if(void 0===e)return this.options;if(e instanceof Object)this.options=t.extend({},this.options,e),this.initOptions(),this.setCustomText(),this.setLanguage(),this.setAllowScript(),this.setAllowStyle();else{if(void 0===i)return this.options[e];switch(this.options[e]=i,e){case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme();break;case"allowScript":this.setAllowScript();break;case"allowStyle":this.setAllowStyle()}}};var i=t.fn.editable;t.fn.editable=function(i){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);if("string"==typeof i){var s=[];return this.each(function(){var e=t(this),o=e.data("fa.editable");if(!o[i])return t.error("Method "+i+" does not exist in Froala Editor.");var r=o[i].apply(o,n.slice(1));void 0===r?s.push(this):0===s.length&&s.push(r)}),1==s.length?s[0]:s}return"object"!=typeof i&&i?void 0:this.each(function(){var n=this,o=t(n),s=o.data("fa.editable");s||o.data("fa.editable",s=new e(n,i))})},t.fn.editable.Constructor=e,t.Editable=e,t.fn.editable.noConflict=function(){return t.fn.editable=i,this}}(window.jQuery),function(t){t.Editable.prototype.initUndoRedo=function(){this.undoStack=[],this.undoIndex=0,this.saveUndoStep(),this.disableBrowserUndo()},t.Editable.prototype.undo=function(){if(this.no_verify=!0,this.undoIndex>1){clearTimeout(this.typingTimer),this.triggerEvent("beforeUndo",[],!1);var t=this.undoStack[--this.undoIndex-1];this.restoreSnapshot(t),this.doingRedo=!0,this.triggerEvent("afterUndo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},t.Editable.prototype.redo=function(){if(this.no_verify=!0,this.undoIndex<this.undoStack.length){clearTimeout(this.typingTimer),this.triggerEvent("beforeRedo",[],!1);var t=this.undoStack[this.undoIndex++];this.restoreSnapshot(t),this.doingRedo=!0,this.triggerEvent("afterRedo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},t.Editable.prototype.saveUndoStep=function(){if(!this.undoStack)return!1;for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var t=this.getSnapshot();this.undoStack[this.undoIndex-1]&&this.identicSnapshots(this.undoStack[this.undoIndex-1],t)||(this.undoStack.push(t),this.undoIndex++),this.refreshUndo(),this.refreshRedo()},t.Editable.prototype.refreshUndo=function(){if(this.isEnabled("undo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"]').removeAttr("disabled"),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').attr("disabled",!0)}},t.Editable.prototype.refreshRedo=function(){if(this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="redo"]').removeAttr("disabled"),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},t.Editable.prototype.getNodeIndex=function(t){for(var e=t.parentNode.childNodes,i=0,n=null,o=0;o<e.length;o++){if(n){var s=3===e[o].nodeType&&""===e[o].textContent,r=3===n.nodeType&&3===e[o].nodeType;s||r||i++}if(e[o]==t)return i;n=e[o]}},t.Editable.prototype.getNodeLocation=function(t){var e=[];if(!t.parentNode)return[];for(;t!=this.$element.get(0);)e.push(this.getNodeIndex(t)),t=t.parentNode;return e.reverse()},t.Editable.prototype.getNodeByLocation=function(t){for(var e=this.$element.get(0),i=0;i<t.length;i++)e=e.childNodes[t[i]];return e},t.Editable.prototype.getRealNodeOffset=function(t,e){for(;t&&3===t.nodeType;){var i=t.previousSibling;i&&3==i.nodeType&&(e+=i.textContent.length),t=i}return e},t.Editable.prototype.getRangeSnapshot=function(t){return{scLoc:this.getNodeLocation(t.startContainer),scOffset:this.getRealNodeOffset(t.startContainer,t.startOffset),ecLoc:this.getNodeLocation(t.endContainer),ecOffset:this.getRealNodeOffset(t.endContainer,t.endOffset)}},t.Editable.prototype.getSnapshot=function(){var t={};if(t.html=this.$element.html(),t.ranges=[],this.selectionInEditor()&&this.$element.is(":focus"))for(var e=this.getRanges(),i=0;i<e.length;i++)t.ranges.push(this.getRangeSnapshot(e[i]));return t},t.Editable.prototype.identicSnapshots=function(t,e){return t.html!=e.html?!1:JSON.stringify(t.ranges)!=JSON.stringify(e.ranges)?!1:!0},t.Editable.prototype.restoreRangeSnapshot=function(t,e){try{var i=this.getNodeByLocation(t.scLoc),n=t.scOffset,o=this.getNodeByLocation(t.ecLoc),s=t.ecOffset,r=this.document.createRange();r.setStart(i,n),r.setEnd(o,s),e.addRange(r)}catch(a){}},t.Editable.prototype.restoreSnapshot=function(e){this.$element.html()!=e.html&&this.$element.html(e.html);var i=this.getSelection();this.clearSelection(),this.$element.focus();for(var n=0;n<e.ranges.length;n++)this.restoreRangeSnapshot(e.ranges[n],i);setTimeout(t.proxy(function(){this.$element.find(".f-img-wrap img").click()},this),0)}}(jQuery),function(t){t.Editable.prototype.refreshButtons=function(e){return this.initialized&&(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&t.Editable.getIEversion()<9||e)?(this.$editor.find("button[data-cmd]").removeClass("active"),this.refreshDisabledState(),void this.raiseEvent("refresh")):!1},t.Editable.prototype.refreshDisabledState=function(){if(this.isHTML)return!1;if(this.$editor){for(var e=0;e<this.options.buttons.length;e++){var i=this.options.buttons[e];if(void 0!==t.Editable.commands[i]){var n=!1;t.isFunction(t.Editable.commands[i].disabled)?n=t.Editable.commands[i].disabled.apply(this):void 0!==t.Editable.commands[i].disabled&&(n=!0),n?(this.$editor.find('button[data-cmd="'+i+'"]').prop("disabled",!0),this.$editor.find('button[data-name="'+i+'"]').prop("disabled",!0)):(this.$editor.find('button[data-cmd="'+i+'"]').removeAttr("disabled"),this.$editor.find('button[data-name="'+i+'"]').removeAttr("disabled"))}}this.refreshUndo(),this.refreshRedo()}},t.Editable.prototype.refreshFormatBlocks=function(){var t=this.getSelectionElements()[0],e=t.tagName.toLowerCase();this.options.paragraphy&&e===this.options.defaultTag.toLowerCase()&&(e="n"),this.$editor.find('.fr-bttn > button[data-name="formatBlock"] + ul li').removeClass("active"),this.$bttn_wrapper.find('.fr-bttn > button[data-name="formatBlock"] + ul li[data-val="'+e+'"]').addClass("active")},t.Editable.prototype.refreshDefault=function(t){try{this.document.queryCommandState(t)===!0&&this.$editor.find('[data-cmd="'+t+'"]').addClass("active")}catch(e){}},t.Editable.prototype.refreshAlign=function(){var e=t(this.getSelectionElements()[0]);this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var i,n=e.css("text-align");["left","right","justify","center"].indexOf(n)<0&&(n="left"),"left"==n?i="justifyLeft":"right"==n?i="justifyRight":"justify"==n?i="justifyFull":"center"==n&&(i="justifyCenter"),this.$editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+n),this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+i+'"]').addClass("active")},t.Editable.prototype.refreshHTML=function(){this.isActive("html")?this.$editor.find('[data-cmd="html"]').addClass("active"):this.$editor.find('[data-cmd="html"]').removeClass("active")}}(jQuery),function(t){t.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},subscript:{title:"Subscript",icon:"fa fa-subscript",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},superscript:{title:"Superscript",icon:"fa fa-superscript",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",refreshOnShow:t.Editable.prototype.refreshFormatBlocks,callback:function(t,e){this.formatBlock(e)},undo:!0},align:{title:"Alignment",icon:"fa fa-align-left",refresh:t.Editable.prototype.refreshAlign,refreshOnShow:t.Editable.prototype.refreshAlign,seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}],callback:function(t,e){this.align(e)},undo:!0},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)",callback:function(){this.outdent(!0)},undo:!0},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)",callback:function(){this.indent()},undo:!0},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)",callback:function(t,e){this.$element.focus(),this.execDefault(t,e)},undo:!1},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)",callback:function(){this.insertLink()},undo:!1},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)",callback:function(){this.insertImage()},undo:!1},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",refresh:t.Editable.prototype.refreshUndo,callback:function(){this.undo()},undo:!1},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",refresh:t.Editable.prototype.refreshRedo,callback:function(){this.redo()},undo:!1},html:{title:"Show HTML",icon:"fa fa-code",refresh:t.Editable.prototype.refreshHTML,callback:function(){this.html()},undo:!1},save:{title:"Save",icon:"fa fa-floppy-o",callback:function(){this.save()},undo:!1},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus",callback:function(t){this.insertHR(t)},undo:!0},removeFormat:{title:"Clear formatting",icon:"fa fa-eraser",activeless:!0,callback:function(){this.removeFormat()},undo:!0}},t.Editable.prototype.exec=function(e,i,n){return!this.selectionInEditor()&&t.Editable.commands[e].undo&&this.focus(),this.selectionInEditor()&&""===this.text()&&t.Editable.commands[e].callbackWithoutSelection?(t.Editable.commands[e].callbackWithoutSelection.apply(this,[e,i,n]),!1):void(t.Editable.commands[e].callback?t.Editable.commands[e].callback.apply(this,[e,i,n]):this.execDefault(e,i))},t.Editable.prototype.html=function(){var t;this.isHTML?(this.isHTML=!1,t=this.$html_area.val(),this.$box.removeClass("f-html"),this.$element.attr("contenteditable",!0),this.setHTML(t,!1),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').removeAttr("disabled"),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.$element.blur(),this.focus(),this.refreshButtons(),this.triggerEvent("htmlHide",[t],!0,!1)):(this.$box.removeClass("f-placeholder"),this.clearSelection(),this.cleanify(!1,!0,!1),t=this.cleanTags(this.getHTML(!1,!1)),this.$html_area.val(t).trigger("resize"),this.$html_area.css("height",this.$element.height()-1),this.$element.html("").append(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').attr("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.isHTML=!0,this.hide(),this.imageMode=!1,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.triggerEvent("htmlShow",[t],!0,!1))
},t.Editable.prototype.insertHR=function(e){this.$element.find("hr").addClass("fr-tag"),this.$element.hasClass("f-placeholder")?t(this.$element.find("> "+this.valid_nodes.join(", >"))[0]).before("<hr/>"):this.document.execCommand(e),this.hide();var i=this.$element.find("hr:not(.fr-tag)").next(this.valid_nodes.join(","));i.length>0?t(i[0]).prepend(this.markers_html):this.$element.find("hr:not(.fr-tag)").after(this.options.paragraphy?"<p>"+this.markers_html+"<br/></p>":this.markers_html),this.restoreSelectionByMarkers(),this.triggerEvent(e,[],!0,!1)},t.Editable.prototype.formatBlock=function(e){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&t.Editable.getIEversion()<9)return"n"==e&&(e=this.options.defaultTag),this.document.execCommand("formatBlock",!1,"<"+e+">"),this.triggerEvent("formatBlock"),!1;if(this.$element.hasClass("f-placeholder")){if(this.options.paragraphy||"n"!=e){"n"==e&&(e=this.options.defaultTag);var i=t("<"+e+"><br/></"+e+">");this.$element.html(i),this.setSelection(i.get(0),0),this.$element.removeClass("f-placeholder")}}else{this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var n=this.getSelectionElements();n[0]==this.$element.get(0)&&(n=this.$element.find("> "+this.valid_nodes.join(", >"))),this.saveSelectionByMarkers();for(var o,s=function(e){if("PRE"==e.get(0).tagName)for(;e.find("br + br").length>0;){var i=t(e.find("br + br")[0]);i.prev().remove(),i.replaceWith("\n\n")}},r=0;r<n.length;r++){var a=t(n[r]);if(!this.fakeEmpty(a)){if(s(a),!this.options.paragraphy&&this.emptyElement(a.get(0))&&a.append("<br/>"),"n"==e)if(this.options.paragraphy){var l="<"+this.options.defaultTag+this.attrs(a.get(0))+">"+a.html()+"</"+this.options.defaultTag+">";o=t(l)}else o=a.html()+"<br/>";else o=t("<"+e+this.attrs(a.get(0))+">").html(a.html());a.get(0)!=this.$element.get(0)?a.replaceWith(o):a.html(o)}}this.unwrapText(),this.$element.find("pre + pre").each(function(){t(this).prepend(t(this).prev().html()+"<br/><br/>"),t(this).prev().remove()});var d=this;this.$element.find(this.valid_nodes.join(",")).each(function(){"PRE"!=this.tagName&&t(this).replaceWith("<"+this.tagName+d.attrs(this)+">"+t(this).html().replace(/\n\n/gi,"</"+this.tagName+"><"+this.tagName+">")+"</"+this.tagName+">")}),this.$element.find(this.valid_nodes.join(":empty ,")+":empty").append("<br/>"),this.cleanupLists(),this.restoreSelectionByMarkers()}this.triggerEvent("formatBlock"),this.repositionEditor()},t.Editable.prototype.align=function(e){if(this.browser.msie&&t.Editable.getIEversion()<9)return this.document.execCommand(e,!1,!1),this.triggerEvent("align",[e]),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers(),this.saveSelectionByMarkers();var i=this.getSelectionElements();"justifyLeft"==e?e="left":"justifyRight"==e?e="right":"justifyCenter"==e?e="center":"justifyFull"==e&&(e="justify");for(var n=0;n<i.length;n++)this.parents(t(i[n]),"LI").length>0&&(i[n]=t(i[n]).parents("LI").get(0)),t(i[n]).css("text-align",e);this.cleanupLists(),this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),this.triggerEvent("align",[e])},t.Editable.prototype.indent=function(e,i){if(void 0===i&&(i=!0),this.browser.msie&&t.Editable.getIEversion()<9)return e?this.document.execCommand("outdent",!1,!1):this.document.execCommand("indent",!1,!1),!1;var n=20;e&&(n=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var o=this.getSelectionElements();this.saveSelectionByMarkers();for(var s=0;s<o.length;s++)t(o[s]).parentsUntil(this.$element,"li").length>0&&(o[s]=t(o[s]).closest("li").get(0));for(var r=0;r<o.length;r++){var a=t(o[r]);if(this.raiseEvent("indent",[a,e]))if(a.get(0)!=this.$element.get(0)){var l=parseInt(a.css("margin-left"),10),d=Math.max(0,l+n);a.css("marginLeft",d),0===d&&(a.css("marginLeft",""),void 0===a.css("style")&&a.removeAttr("style"))}else{var h=t("<div>").html(a.html());a.html(h),h.css("marginLeft",Math.max(0,n)),0===Math.max(0,n)&&(h.css("marginLeft",""),void 0===h.css("style")&&h.removeAttr("style"))}}this.unwrapText(),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),e||this.triggerEvent("indent")},t.Editable.prototype.outdent=function(t){this.indent(!0,t),this.triggerEvent("outdent")},t.Editable.prototype.execDefault=function(t,e){this.saveUndoStep(),this.document.execCommand(t,!1,e),this.triggerEvent(t,[],!0,!0)},t.Editable.prototype._startInDefault=function(t){this.focus(),this.document.execCommand(t,!1,!1),this.refreshButtons()},t.Editable.prototype._startInFontExec=function(e,i,n){this.focus();try{var o=this.getRange(),s=o.cloneRange();s.collapse(!1);var r=t('<span data-inserted="true" data-fr-verified="true" style="'+e+": "+n+';">'+t.Editable.INVISIBLE_SPACE+"</span>",this.document);s.insertNode(r[0]),r=this.$element.find("[data-inserted]"),r.removeAttr("data-inserted"),this.setSelection(r.get(0),1),null!=i&&this.triggerEvent(i,[n],!0,!0)}catch(a){}},t.Editable.prototype.removeFormat=function(){this.document.execCommand("removeFormat",!1,!1),this.document.execCommand("unlink",!1,!1),this.refreshButtons()},t.Editable.prototype.inlineStyle=function(e,i,n){if(this.browser.webkit){var o=function(t){return t.attr("style").indexOf("font-size")>=0};this.$element.find("[style]").each(function(e,i){var n=t(i);o(n)&&(n.attr("data-font-size",n.css("font-size")),n.css("font-size",""))})}this.document.execCommand("fontSize",!1,4),this.saveSelectionByMarkers(),this.browser.webkit&&this.$element.find("[data-font-size]").each(function(e,i){var n=t(i);n.css("font-size",n.attr("data-font-size")),n.removeAttr("data-font-size")});var s=function(i){var o=t(i);o.css(e)!=n&&o.css(e,""),""===o.attr("style")&&o.replaceWith(o.html())};this.$element.find("font").each(function(i,o){var r=t('<span data-fr-verified="true" style="'+e+": "+n+';">'+t(o).html()+"</span>");t(o).replaceWith(r);for(var a=r.find("span"),l=a.length-1;l>=0;l--)s(a[l])}),this.removeBlankSpans(),this.restoreSelectionByMarkers(),this.repositionEditor(),null!=i&&this.triggerEvent(i,[n],!0,!0)}}(jQuery),function(t){t.Editable.prototype.addListener=function(t,e){var i=this._events,n=i[t]=i[t]||[];n.push(e)},t.Editable.prototype.raiseEvent=function(t,e){void 0===e&&(e=[]);var i=!0,n=this._events[t];if(n)for(var o=0,s=n.length;s>o;o++){var r=n[o].apply(this,e);void 0!==r&&i!==!1&&(i=r)}return void 0===i&&(i=!0),i}}(jQuery),function(t){t.Editable.prototype.start_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',t.Editable.prototype.end_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span>',t.Editable.prototype.markers_html='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span><span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',t.Editable.prototype.text=function(){var t="";return this.window.getSelection?t=this.window.getSelection():this.document.getSelection?t=this.document.getSelection():this.document.selection&&(t=this.document.selection.createRange().text),t.toString()},t.Editable.prototype.selectionInEditor=function(){var e=this.getSelectionParent(),i=!1;return e==this.$element.get(0)&&(i=!0),i===!1&&t(e).parents().each(t.proxy(function(t,e){e==this.$element.get(0)&&(i=!0)},this)),i},t.Editable.prototype.getSelection=function(){var t="";return t=this.window.getSelection?this.window.getSelection():this.document.getSelection?this.document.getSelection():this.document.selection.createRange()},t.Editable.prototype.getRange=function(){var t=this.getRanges();return t.length>0?t[0]:null},t.Editable.prototype.getRanges=function(){var t=this.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],i=0;i<t.rangeCount;i++)e.push(t.getRangeAt(i));return e}return this.document.createRange?[this.document.createRange()]:[]},t.Editable.prototype.clearSelection=function(){var t=this.getSelection();try{t.removeAllRanges?t.removeAllRanges():t.empty?t.empty():t.clear&&t.clear()}catch(e){}},t.Editable.prototype.getSelectionElement=function(){var e=this.getSelection();if(e&&e.rangeCount){var i=this.getRange(),n=i.startContainer;if(1==n.nodeType){var o=!1;n.childNodes.length>0&&n.childNodes[i.startOffset]&&t(n.childNodes[i.startOffset]).text()===this.text()&&(n=n.childNodes[i.startOffset],o=!0),!o&&n.childNodes.length>0&&t(n.childNodes[0]).text()===this.text()&&["BR","IMG","HR"].indexOf(n.childNodes[0].tagName)<0&&(n=n.childNodes[0])}for(;1!=n.nodeType&&n.parentNode;)n=n.parentNode;for(var s=n;s&&"BODY"!=s.tagName;){if(s==this.$element.get(0))return n;s=t(s).parent()[0]}}return this.$element.get(0)},t.Editable.prototype.getSelectionParent=function(){var e,i=null;return this.window.getSelection?(e=this.window.getSelection(),e&&e.rangeCount&&(i=e.getRangeAt(0).commonAncestorContainer,1!=i.nodeType&&(i=i.parentNode))):(e=this.document.selection)&&"Control"!=e.type&&(i=e.createRange().parentElement()),null!=i&&(t.inArray(this.$element.get(0),t(i).parents())>=0||i==this.$element.get(0))?i:null},t.Editable.prototype.nodeInRange=function(t,e){var i;if(t.intersectsNode)return t.intersectsNode(e);i=e.ownerthis.document.createRange();try{i.selectNode(e)}catch(n){i.selectNodeContents(e)}return-1==t.compareBoundaryPoints(Range.END_TO_START,i)&&1==t.compareBoundaryPoints(Range.START_TO_END,i)},t.Editable.prototype.getElementFromNode=function(e){for(1!=e.nodeType&&(e=e.parentNode);null!==e&&this.valid_nodes.indexOf(e.tagName)<0;)e=e.parentNode;return null!=e&&"LI"==e.tagName&&t(e).find(this.valid_nodes.join(",")).not("li").length>0?null:t.makeArray(t(e).parents()).indexOf(this.$element.get(0))>=0?e:null},t.Editable.prototype.nextNode=function(t,e){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling&&t!=e;)t=t.parentNode;return t&&t!=e?t.nextSibling:null},t.Editable.prototype.getRangeSelectedNodes=function(t){var e=[],i=t.startContainer,n=t.endContainer;if(i==n&&"TR"!=i.tagName){if(i.hasChildNodes()&&0!==i.childNodes.length){for(var o=i.childNodes,s=t.startOffset;s<t.endOffset;s++)o[s]&&e.push(o[s]);return 0===e.length&&e.push(i),e}return[i]}if(i==n&&"TR"==i.tagName){var r=i.childNodes,a=t.startOffset;if(r.length>a&&a>=0){var l=r[a];if("TD"==l.tagName||"TH"==l.tagName)return[l]}}for(;i&&i!=n;)i=this.nextNode(i,n),(i!=n||t.endOffset>0)&&e.push(i);for(i=t.startContainer;i&&i!=t.commonAncestorContainer;)e.unshift(i),i=i.parentNode;return e},t.Editable.prototype.getSelectedNodes=function(){if(this.window.getSelection){var e=this.window.getSelection();if(!e.isCollapsed){for(var i=this.getRanges(),n=[],o=0;o<i.length;o++)n=t.merge(n,this.getRangeSelectedNodes(i[o]));return n}if(this.selectionInEditor()){var s=e.getRangeAt(0).startContainer;return 3==s.nodeType?[s.parentNode]:[s]}}return[]},t.Editable.prototype.getSelectionElements=function(){var e=this.getSelectedNodes(),i=[];return t.each(e,t.proxy(function(t,e){if(null!==e){var n=this.getElementFromNode(e);i.indexOf(n)<0&&n!=this.$element.get(0)&&null!==n&&i.push(n)}},this)),0===i.length&&i.push(this.$element.get(0)),i},t.Editable.prototype.getSelectionLink=function(){var e=this.getSelectionLinks();return e.length>0?t(e[0]).attr("href"):null},t.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){this.savedRanges=[];for(var t=this.getRanges(),e=0;e<t.length;e++)this.savedRanges.push(t[e].cloneRange())}},t.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var t,e,i=this.getSelection();if(this.savedRanges&&this.savedRanges.length)for(i.removeAllRanges(),t=0,e=this.savedRanges.length;e>t;t+=1)i.addRange(this.savedRanges[t]);this.savedRanges=null}},t.Editable.prototype.insertMarkersAtPoint=function(t){var e=t.clientX,i=t.clientY;this.removeMarkers();var n,o=null;if("undefined"!=typeof this.document.caretPositionFromPoint?(n=this.document.caretPositionFromPoint(e,i),o=this.document.createRange(),o.setStart(n.offsetNode,n.offset),o.setEnd(n.offsetNode,n.offset)):"undefined"!=typeof this.document.caretRangeFromPoint&&(n=this.document.caretRangeFromPoint(e,i),o=this.document.createRange(),o.setStart(n.startContainer,n.startOffset),o.setEnd(n.startContainer,n.startOffset)),null!==o&&"undefined"!=typeof this.window.getSelection){var s=this.window.getSelection();s.removeAllRanges(),s.addRange(o)}else if("undefined"!=typeof this.document.body.createTextRange)try{o=this.document.body.createTextRange(),o.moveToPoint(e,i);var r=o.duplicate();r.moveToPoint(e,i),o.setEndPoint("EndToEnd",r),o.select()}catch(a){}this.placeMarker(o,!0,0),this.placeMarker(o,!1,0)},t.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){this.selectionInEditor()||this.focus(),this.removeMarkers();for(var t=this.getRanges(),e=0;e<t.length;e++)if(t[e].startContainer!==this.document){var i=t[e];this.placeMarker(i,!0,e),this.placeMarker(i,!1,e)}}},t.Editable.prototype.hasSelectionByMarkers=function(){var t=this.$element.find('.f-marker[data-type="true"]');return t.length>0?!0:!1},t.Editable.prototype.restoreSelectionByMarkers=function(e){if(void 0===e&&(e=!0),!this.selectionDisabled){var i=this.$element.find('.f-marker[data-type="true"]');if(0===i.length)return!1;this.$element.is(":focus")||this.browser.msie||this.$element.focus();var n=this.getSelection();(e||this.getRange()&&!this.getRange().collapsed||!t(i[0]).attr("data-collapsed"))&&(this.browser.msie&&t.Editable.getIEversion()<9||(this.clearSelection(),e=!0));for(var o=0;o<i.length;o++){var s=t(i[o]).data("id"),r=i[o],a=this.$element.find('.f-marker[data-type="false"][data-id="'+s+'"]');if(this.browser.msie&&t.Editable.getIEversion()<9)return this.setSelection(r,0,a,0),this.removeMarkers(),!1;var l;if(l=e?this.document.createRange():this.getRange(),a.length>0){a=a[0];try{l.setStartAfter(r),l.setEndBefore(a)}catch(d){}}e&&n.addRange(l)}this.removeMarkers()}},t.Editable.prototype.setSelection=function(t,e,i,n){var o=this.getSelection();if(o){this.clearSelection();try{i||(i=t),void 0===e&&(e=0),void 0===n&&(n=e);var s=this.getRange();s.setStart(t,e),s.setEnd(i,n),o.addRange(s)}catch(r){}}},t.Editable.prototype.buildMarker=function(e,i,n){return void 0===n&&(n=""),t('<span class="f-marker"'+n+' style="display:none; line-height: 0;" data-fr-verified="true" data-id="'+i+'" data-type="'+e+'">',this.document)[0]},t.Editable.prototype.placeMarker=function(e,i,n){var o="";e.collapsed&&(o=' data-collapsed="true"');try{var s=e.cloneRange();s.collapse(i);var r,a,l;if(s.insertNode(this.buildMarker(i,n,o)),i===!0&&o)for(r=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;3===r.nodeType&&0===r.data.length;)t(r).remove(),r=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;if(i===!0&&""===o&&(l=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0),r=l.nextSibling,r&&r.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(r.tagName)>=0)){a=[r];do r=a[0],a=t(r).contents();while(a[0]&&this.valid_nodes.indexOf(a[0].tagName)>=0);t(r).prepend(t(l))}if(i===!1&&""===o&&(l=this.$element.find('span.f-marker[data-type="false"][data-id="'+n+'"]').get(0),r=l.previousSibling,r&&r.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(r.tagName)>=0)){a=[r];do r=a[a.length-1],a=t(r).contents();while(a[a.length-1]&&this.valid_nodes.indexOf(a[a.length-1].tagName)>=0);t(r).append(t(l))}}catch(d){}},t.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},t.Editable.prototype.getSelectionTextInfo=function(t){var e,i,n=!1,o=!1;if(this.window.getSelection){var s=this.window.getSelection();s&&s.rangeCount&&(e=s.getRangeAt(0),i=e.cloneRange(),i.selectNodeContents(t),i.setEnd(e.startContainer,e.startOffset),n=""===i.toString(),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),o=""===i.toString())}else this.document.selection&&"Control"!=this.document.selection.type&&(e=this.document.selection.createRange(),i=e.duplicate(),i.moveToElementText(t),i.setEndPoint("EndToStart",e),n=""===i.text,i.moveToElementText(t),i.setEndPoint("StartToEnd",e),o=""===i.text);return{atStart:n,atEnd:o}},t.Editable.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)}}(jQuery),function(t){t.Editable.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},t.Editable.hexToRGBString=function(t){var e=this.hexToRGB(t);return e?"rgb("+e.r+", "+e.g+", "+e.b+")":""},t.Editable.RGBToHex=function(t){function e(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}try{return t&&"transparent"!==t?/^#[0-9A-F]{6}$/i.test(t)?t:(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+e(t[1])+e(t[2])+e(t[3])).toUpperCase()):""}catch(i){return null}},t.Editable.getIEversion=function(){var t,e,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(t=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=navigator.userAgent,e=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))),i},t.Editable.browser=function(){var t={};if(this.getIEversion()>0)t.msie=!0;else{var e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n={browser:i[1]||"",version:i[2]||"0"};i[1]&&(t[n.browser]=!0),parseInt(n.version,10)<9&&t.msie&&(t.oldMsie=!0),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0)}return t},t.Editable.isArray=function(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length},t.Editable.uniq=function(e){return t.grep(e,function(i,n){return n==t.inArray(i,e)})},t.Editable.cleanWhitespace=function(e){e.contents().filter(function(){return 1==this.nodeType&&t.Editable.cleanWhitespace(t(this)),3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}}(jQuery),function(t){t.Editable.prototype.show=function(e){if(this.hideDropdowns(),void 0!==e){if(this.options.inlineMode||this.options.editInPopup)if(null!==e&&"touchend"!==e.type){if(this.options.showNextToCursor){var i=e.pageX,n=e.pageY;i<this.$element.offset().left&&(i=this.$element.offset().left),i>this.$element.offset().left+this.$element.width()&&(i=this.$element.offset().left+this.$element.width()),n<this.$element.offset.top&&(n=this.$element.offset().top),n>this.$element.offset().top+this.$element.height()&&(n=this.$element.offset().top+this.$element.height()),20>i&&(i=20),0>n&&(n=0),this.showByCoordinates(i,n)}else this.repositionEditor();t(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0!==this.options.buttons.length||this.options.editInPopup||this.$editor.hide()}else t(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},t.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},t.Editable.prototype.hide=function(t){return this.initialized?(void 0===t&&(t=!0),t?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),void(this.link=!1)):!1},t.Editable.prototype.hideOtherEditors=function(){for(var e=1;e<=t.Editable.count;e++)e!=this._id&&this.$window.trigger("hide."+e)},t.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},t.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},t.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout(t.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},t.Editable.prototype.hidePopups=function(t){void 0===t&&(t=!0),t&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},t.Editable.prototype.showEditPopup=function(){this.showEditPopupWrapper()}}(jQuery),function(t){t.Editable.prototype.getBoundingRect=function(){var e;if(this.isLink){e={};var i=this.$element;e.left=i.offset().left-this.$window.scrollLeft(),e.top=i.offset().top-this.$window.scrollTop(),e.width=i.outerWidth(),e.height=parseInt(i.css("padding-top").replace("px",""),10)+i.height(),e.right=1,e.bottom=1,e.ok=!0}else if(this.getRange()&&this.getRange().collapsed){var n=t(this.getSelectionElement());this.saveSelectionByMarkers();var o=this.$element.find(".f-marker:first");o.css("display","inline");var s=o.offset();o.css("display","none"),e={},e.left=s.left-this.$window.scrollLeft(),e.width=0,e.height=(parseInt(n.css("line-height").replace("px",""),10)||10)-10-this.$window.scrollTop(),e.top=s.top,e.right=1,e.bottom=1,e.ok=!0,this.removeMarkers()}else this.getRange()&&(e=this.getRange().getBoundingClientRect());return e},t.Editable.prototype.repositionEditor=function(t){var e,i,n;if(this.options.inlineMode||t){if(e=this.getBoundingRect(),this.showBttnWrapper(),e.ok||e.left>=0&&e.top>=0&&e.right>0&&e.bottom>0)i=e.left+e.width/2,n=e.top+e.height,this.iOS()&&this.iOSVersion()<8||(i+=this.$window.scrollLeft(),n+=this.$window.scrollTop()),this.showByCoordinates(i,n);else if(this.options.alwaysVisible)this.hide();else{var o=this.$element.offset();this.showByCoordinates(o.left,o.top+10)}0===this.options.buttons.length&&this.hide()}},t.Editable.prototype.showByCoordinates=function(t,e){t-=22,e+=8;var i=this.$document.find(this.options.scrollableContainer);"body"!=this.options.scrollableContainer&&(t-=i.offset().left,e-=i.offset().top,this.iPad()||(t+=i.scrollLeft(),e+=i.scrollTop()));var n=Math.max(this.$popup_editor.outerWidth(),250);t+n>=i.outerWidth()-50&&t+44-n>0?(this.$popup_editor.addClass("right-side"),t=i.outerWidth()-(t+44),"static"==i.css("position")&&(t=t+parseFloat(i.css("margin-left"),10)+parseFloat(i.css("margin-right"),10)),this.$popup_editor.css("top",e),this.$popup_editor.css("right",t),this.$popup_editor.css("left","auto")):t+n<i.outerWidth()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",t),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",Math.max(i.outerWidth()-n,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},t.Editable.prototype.positionPopup=function(e){if(t(this.$editor.find('button.fr-bttn[data-cmd="'+e+'"]')).length){var i=this.$editor.find('button.fr-bttn[data-cmd="'+e+'"]'),n=i.width(),o=i.height(),s=i.offset().left+n/2,r=i.offset().top+o;this.showByCoordinates(s,r)}}}(jQuery),function(t){t.Editable.prototype.refreshImageAlign=function(t){this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var e="floatImageNone",i="center";t.hasClass("fr-fil")?(i="left",e="floatImageLeft"):t.hasClass("fr-fir")&&(i="right",e="floatImageRight"),this.$image_editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+i),this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+e+'"]').addClass("active")},t.Editable.prototype.refreshImageDisplay=function(){var t=this.$element.find(".f-img-editor");this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li').removeClass("active"),t.hasClass("fr-dib")?this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dib"]').addClass("active"):this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dii"]').addClass("active")},t.Editable.image_commands={align:{title:"Alignment",icon:"fa fa-align-center",refresh:t.Editable.prototype.refreshImageAlign,refreshOnShow:t.Editable.prototype.refreshImageAlign,seed:[{cmd:"floatImageLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"floatImageNone",title:"Align Center",icon:"fa fa-align-center"},{cmd:"floatImageRight",title:"Align Right",icon:"fa fa-align-right"}],callback:function(t,e,i){this[i](t)},undo:!0},display:{title:"Text Wrap",icon:"fa fa-star",refreshOnShow:t.Editable.prototype.refreshImageDisplay,namespace:"Image",seed:[{title:"Inline",value:"fr-dii"},{title:"Break Text",value:"fr-dib"}],callback:function(t,e,i){this.displayImage(t,i)},undo:!0},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"},callback:function(t){this.linkImage(t)}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"},callback:function(t){this.replaceImage(t)}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"},callback:function(t){this.removeImage(t)}}},t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedImageTypes:["jpeg","jpg","png","gif"],customImageButtons:{},defaultImageTitle:"Image title",defaultImageWidth:300,defaultImageDisplay:"block",defaultImageAlignment:"center",imageButtons:["display","align","linkImage","replaceImage","removeImage"],imageDeleteConfirmation:!0,imageDeleteURL:null,imageDeleteParams:{},imageMove:!0,imageResize:!0,imageLink:!0,imageTitle:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",maxImageSize:10485760,pasteImage:!0,textNearImage:!0}),t.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},t.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},t.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},t.Editable.prototype.hideImageWrapper=function(t){this.$image_wrapper&&(this.$element.attr("data-resize")||t||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide(),this.$image_wrapper.find("input").blur())},t.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},t.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},t.Editable.prototype.insertImageHTML=function(){var e='<div class="froala-popup froala-image-popup" style="display: none;"><h4><span data-text="true">Insert Image</span><span data-text="true">Uploading image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return e+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(e+='<div class="f-popup-line drop-upload">',e+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&t.Editable.getIEversion()<=9&&(e+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;"></iframe>'),e+="</div>"),this.options.imageLink&&(e+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse fr-p-bttn" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok fr-p-bttn f-submit" id="f-image-ok-'+this._id+'">OK</button></div>'),e+="</div>",e+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',e+="</div>"},t.Editable.prototype.iFrameLoad=function(){var t=this.$image_wrapper.find("iframe#frame-"+this._id);if(!t.attr("data-loaded"))return t.attr("data-loaded",!0),!1;try{var e=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.options.imageUploadToS3){var i=e.attr("action"),n=e.find('input[name="key"]').val(),o=i+n;this.writeImage(o),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,o,n)}else{var s=t.contents().text();this.parseImageResponse(s)}}catch(r){this.throwImageError(7)}},t.Editable.prototype.initImage=function(){this.buildInsertImage(),(!this.isLink||this.isImage)&&this.initImagePopup(),this.addListener("destroy",this.destroyImage)},t.Editable.initializers.push(t.Editable.prototype.initImage),t.Editable.prototype.destroyImage=function(){this.$image_editor&&this.$image_editor.html("").removeData().remove(),this.$image_wrapper&&this.$image_wrapper.html("").removeData().remove()},t.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=t(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var e=this;if(this.$image_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.addListener("hidePopups",t.proxy(function(){this.hideImageWrapper(!0)},this)),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&t.Editable.getIEversion()<=9){var i=this.$image_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){e.iFrameLoad()}):i.onload=function(){e.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)e.uploadImage(this.files);else{if(!e.triggerEvent("beforeImageUpload",[],!1))return!1;var i=t(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in e.options.imageUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.imageUploadParams[n]+'" />');if(e.options.imageUploadToS3!==!1){for(n in e.options.imageUploadToS3.params)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.imageUploadToS3.params[n]+'" />');i.prepend('<input type="hidden" name="success_action_status" value="201" />'),i.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),i.prepend('<input type="hidden" name="Content-Type" value="" />'),i.prepend('<input type="hidden" name="key" value="'+e.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t(this).val().match(/[^\/\\]+$/)+'" />')}else i.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+e.window.location.href+'" />');e.showInsertImage(),e.showImageLoader(!0),e.disable(),i.submit()}t(this).val("")})}this.buildDragUpload(),this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,t.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on(this.mouseup,"#f-image-close-"+this._id,t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0===this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||(this.restoreSelection(),this.focus()),void(this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()))},this)),this.$image_wrapper.on("click",function(t){t.stopPropagation()}),this.$image_wrapper.on("click","*",function(t){t.stopPropagation()})},t.Editable.prototype.deleteImage=function(e){if(this.options.imageDeleteURL){var i=this.options.imageDeleteParams;i.info=e.data("info"),i.src=e.attr("src"),t.ajax({type:"POST",url:this.options.imageDeleteURL,data:i,crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(t.proxy(function(t){e.parent().parent().hasClass("f-image-list")?e.parent().remove():e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteSuccess",[t],!1)},this)).fail(t.proxy(function(){e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Error during image delete."],!1)},this))}else e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Missing imageDeleteURL option."],!1)},t.Editable.prototype.imageHandle=function(){var e=this,i=t('<span data-fr-verified="true">').addClass("f-img-handle").on({movestart:function(i){e.hide(),e.$element.addClass("f-non-selectable").attr("contenteditable",!1),e.$element.attr("data-resize",!0),t(this).attr("data-start-x",i.startX),t(this).attr("data-start-y",i.startY)},move:function(i){var n=t(this),o=i.pageX-parseInt(n.attr("data-start-x"),10);n.attr("data-start-x",i.pageX),n.attr("data-start-y",i.pageY);
var s=n.prevAll("img"),r=s.width();n.hasClass("f-h-ne")||n.hasClass("f-h-se")?s.attr("width",r+o):s.attr("width",r-o),e.triggerEvent("imageResize",[s],!1)},moveend:function(){t(this).removeAttr("data-start-x"),t(this).removeAttr("data-start-y");var i=t(this),n=i.prevAll("img");e.$element.removeClass("f-non-selectable"),e.isImage||e.$element.attr("contenteditable",!0),e.triggerEvent("imageResizeEnd",[n]),t(this).trigger("mouseup")},touchend:function(){t(this).trigger("moveend")}});return i},t.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){}},t.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},t.Editable.prototype.getImageStyle=function(t){var e="z-index: 1; position: relative; overflow: auto;",i=t,n="padding";return t.parent().hasClass("f-img-editor")&&(i=t.parent(),n="margin"),e+=" padding-left:"+i.css(n+"-left")+";",e+=" padding-right:"+i.css(n+"-right")+";",e+=" padding-bottom:"+i.css(n+"-bottom")+";",e+=" padding-top:"+i.css(n+"-top")+";",t.hasClass("fr-dib")?(e+=" vertical-align: top; display: block;",e+=t.hasClass("fr-fir")?" float: none; margin-right: 0; margin-left: auto;":t.hasClass("fr-fil")?" float: none; margin-left: 0; margin-right: auto;":" float: none; margin: auto;"):(e+=" display: inline-block;",e+=t.hasClass("fr-fir")?" float: right;":t.hasClass("fr-fil")?" float: left;":" float: none;"),e},t.Editable.prototype.getImageClass=function(t){var e=t.split(" ");return t="fr-fin",e.indexOf("fr-fir")>=0&&(t="fr-fir"),e.indexOf("fr-fil")>=0&&(t="fr-fil"),e.indexOf("fr-dib")>=0&&(t+=" fr-dib"),e.indexOf("fr-dii")>=0&&(t+=" fr-dii"),t},t.Editable.prototype.refreshImageButtons=function(t){this.$image_editor.find("button").removeClass("active");var e=t.css("float");e=t.hasClass("fr-fil")?"Left":t.hasClass("fr-fir")?"Right":"None",this.$image_editor.find('button[data-cmd="floatImage'+e+'"]').addClass("active"),this.raiseEvent("refreshImage",[t])},t.Editable.prototype.initImageEvents=function(){document.addEventListener&&!document.dropAssigned&&(document.dropAssigned=!0,document.addEventListener("drop",t.proxy(function(e){return t(".froala-element img.fr-image-move").length?(e.preventDefault(),e.stopPropagation(),t(".froala-element img.fr-image-move").removeClass("fr-image-move"),!1):void 0},this))),this.disableImageResize();var e=this;this.$element.on("mousedown",'img:not([contenteditable="false"])',function(i){return e.isDisabled?!1:void(e.isResizing()||(e.initialized&&i.stopPropagation(),e.$element.attr("contenteditable",!1),t(this).addClass("fr-image-move")))}),this.$element.on("mouseup",'img:not([contenteditable="false"])',function(){return e.isDisabled?!1:void(e.isResizing()||(e.options.imageMove||e.isImage||e.isHTML||e.$element.attr("contenteditable",!0),t(this).removeClass("fr-image-move")))}),this.$element.on("click touchend",'img:not([contenteditable="false"])',function(i){if(e.isDisabled)return!1;if(!e.isResizing()&&e.initialized){if(i.preventDefault(),i.stopPropagation(),e.closeImageMode(),e.$element.blur(),e.refreshImageButtons(t(this)),e.$image_editor.find('.f-image-alt input[type="text"]').val(t(this).attr("alt")||t(this).attr("title")),e.showImageEditor(),!t(this).parent().hasClass("f-img-editor")||"SPAN"!=t(this).parent().get(0).tagName){var n=e.getImageClass(t(this).attr("class"));t(this).wrap('<span data-fr-verified="true" class="f-img-editor '+n+'"></span>'),0!==t(this).parents(".f-img-wrap").length||e.isImage?t(this).parents(".f-img-wrap").attr("class",n+" f-img-wrap"):t(this).parents("a").length>0?t(this).parents("a:first").wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>'):t(this).parent().wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>')}if(t(this).parent().find(".f-img-handle").remove(),e.options.imageResize){var o=e.imageHandle();t(this).parent().append(o.clone(!0).addClass("f-h-ne")),t(this).parent().append(o.clone(!0).addClass("f-h-se")),t(this).parent().append(o.clone(!0).addClass("f-h-sw")),t(this).parent().append(o.clone(!0).addClass("f-h-nw"))}e.showByCoordinates(t(this).offset().left+t(this).width()/2,t(this).offset().top+t(this).height()),e.imageMode=!0,e.$bttn_wrapper.find(".fr-bttn").removeClass("active"),e.clearSelection()}}),this.$element.on("mousedown touchstart",".f-img-handle",t.proxy(function(){return e.isDisabled?!1:void this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",t.proxy(function(i){if(e.isDisabled)return!1;var n=t(i.target).prevAll("img");setTimeout(t.proxy(function(){this.$element.removeAttr("data-resize"),n.click()},this),0)},this))},t.Editable.prototype.execImage=function(e,i,n){var o=this.$element.find("span.f-img-editor"),s=o.find("img"),r=t.Editable.image_commands[e]||this.options.customImageButtons[e];r&&r.callback&&r.callback.apply(this,[s,e,i,n])},t.Editable.prototype.bindImageRefreshListener=function(e){e.refresh&&this.addListener("refreshImage",t.proxy(function(t){e.refresh.apply(this,[t])},this))},t.Editable.prototype.buildImageButton=function(t,e){var i='<button class="fr-bttn" data-namespace="Image" data-cmd="'+e+'" title="'+t.title+'">';return i+=void 0!==this.options.icons[e]?this.prepareIcon(this.options.icons[e],t.title):this.prepareIcon(t.icon,t.title),i+="</button>",this.bindImageRefreshListener(t),i},t.Editable.prototype.buildImageAlignDropdown=function(t){this.bindImageRefreshListener(t);for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var n=t.seed[i];e+='<li data-cmd="align" data-namespace="Image" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return e+="</ul>"},t.Editable.prototype.buildImageDropdown=function(t){return dropdown=this.buildDefaultDropdown(t),btn=this.buildDropdownButton(t,dropdown),btn},t.Editable.prototype.image_command_dispatcher={align:function(t){var e=this.buildImageAlignDropdown(t),i=this.buildDropdownButton(t,e);return i}},t.Editable.prototype.buildImageButtons=function(){for(var e="",i=0;i<this.options.imageButtons.length;i++){var n=this.options.imageButtons[i];if(void 0!==t.Editable.image_commands[n]||void 0!==this.options.customImageButtons[n]){var o=t.Editable.image_commands[n]||this.options.customImageButtons[n];o.cmd=n;var s=this.image_command_dispatcher[n];e+=s?s.apply(this,[o]):o.seed?this.buildImageDropdown(o,n):this.buildImageButton(o,n)}}return e},t.Editable.prototype.initImagePopup=function(){this.$image_editor=t('<div class="froala-popup froala-image-editor-popup" style="display: none">');var e=t('<div class="f-popup-line f-popup-toolbar">').appendTo(this.$image_editor);e.append(this.buildImageButtons()),this.addListener("hidePopups",this.hideImageEditorPopup),this.options.imageTitle&&t('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append(t('<input type="text">').on("mouseup keydown touchend",function(t){var e=t.which;e&&27===e||t.stopPropagation()})).append('<button class="fr-p-bttn f-ok" data-text="true" data-callback="setImageAlt" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this.$popup_editor.append(this.$image_editor),this.bindCommandEvents(this.$image_editor),this.bindDropdownEvents(this.$image_editor)},t.Editable.prototype.displayImage=function(t,e){var i=t.parents("span.f-img-editor");i.removeClass("fr-dii fr-dib").addClass(e),this.triggerEvent("imageDisplayed",[t,e]),t.click()},t.Editable.prototype.floatImageLeft=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fil"),this.isImage&&this.$element.css("float","left"),this.triggerEvent("imageFloatedLeft",[t]),t.click()},t.Editable.prototype.floatImageNone=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fin"),this.isImage||(e.parent().get(0)==this.$element.get(0)?e.wrap('<div style="text-align: center;"></div>'):e.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.triggerEvent("imageFloatedNone",[t]),t.click()},t.Editable.prototype.floatImageRight=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fir"),this.isImage&&this.$element.css("float","right"),this.triggerEvent("imageFloatedRight",[t]),t.click()},t.Editable.prototype.linkImage=function(t){this.imageMode=!0,this.showInsertLink();var e=t.parents("span.f-img-editor");"A"==e.parent().get(0).tagName?this.updateLinkValues(e.parent()):this.resetLinkValues()},t.Editable.prototype.replaceImage=function(t){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(t.attr("src")),this.showByCoordinates(t.offset().left+t.width()/2,t.offset().top+t.height())},t.Editable.prototype.removeImage=function(e){var i=e.parents("span.f-img-editor");if(0===i.length)return!1;var n=e.get(0),o="Are you sure? Image will be deleted.";if(t.Editable.LANGS[this.options.language]&&(o=t.Editable.LANGS[this.options.language].translation[o]),!this.options.imageDeleteConfirmation||confirm(o)){if(this.triggerEvent("beforeRemoveImage",[t(n)],!1)){var s=i.parents(this.valid_nodes.join(","));i.parents(".f-img-wrap").length?i.parents(".f-img-wrap").remove():i.remove(),this.refreshImageList(!0),this.hide(),s.length&&s[0]!=this.$element.get(0)&&""===t(s[0]).text()&&1==s[0].childNodes.length&&t(s[0]).remove(),this.wrapText(),this.triggerEvent("afterRemoveImage",[e]),this.focus(),this.imageMode=!1}}else e.click()},t.Editable.prototype.setImageAlt=function(){var t=this.$element.find("span.f-img-editor"),e=t.find("img");e.attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),e.attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.hide(),this.closeImageMode(),this.triggerEvent("imageAltSet",[e])},t.Editable.prototype.buildImageMove=function(){var e=this;this.isLink||this.initDrag(),e.$element.on("dragover dragenter dragend",function(t){t.preventDefault()}),e.$element.on("drop",function(i){if(e.isDisabled)return!1;if(e.closeImageMode(),e.hide(),e.imageMode=!1,e.initialized||(e.$element.unbind("mousedown.element"),e.lateInit()),!e.options.imageUpload||0!==t(".froala-element img.fr-image-move").length){if(t(".froala-element .fr-image-move").length>0&&e.options.imageMove){i.preventDefault(),i.stopPropagation(),e.insertMarkersAtPoint(i.originalEvent),e.restoreSelectionByMarkers();var n=t("<div>").append(t(".froala-element img.fr-image-move").clone().removeClass("fr-image-move").addClass("fr-image-dropped")).html();e.insertHTML(n);var o=t(".froala-element img.fr-image-move").parent();t(".froala-element img.fr-image-move").remove(),o.get(0)!=e.$element.get(0)&&o.is(":empty")&&o.remove(),e.clearSelection(),e.initialized?setTimeout(function(){e.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped").click()},0):e.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped"),e.sync(),e.hideOtherEditors()}else i.preventDefault(),i.stopPropagation(),t(".froala-element img.fr-image-move").removeClass("fr-image-move");return!1}if(i.originalEvent.dataTransfer&&i.originalEvent.dataTransfer.files&&i.originalEvent.dataTransfer.files.length){if(e.isDisabled)return!1;var s=i.originalEvent.dataTransfer.files;e.options.allowedImageTypes.indexOf(s[0].type.replace(/image\//g,""))>=0&&(e.insertMarkersAtPoint(i.originalEvent),e.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),e.uploadImage(s),i.preventDefault(),i.stopPropagation())}})},t.Editable.prototype.buildDragUpload=function(){var e=this;e.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return t(this).addClass("f-hover"),!1}),e.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return t(this).removeClass("f-hover"),!1}),e.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(i){return i.preventDefault(),i.stopPropagation(),e.options.imageUpload?(t(this).removeClass("f-hover"),void e.uploadImage(i.originalEvent.dataTransfer.files)):!1})},t.Editable.prototype.showImageLoader=function(e){if(void 0===e&&(e=!1),e){var i="Please wait!";t.Editable.LANGS[this.options.language]&&(i=t.Editable.LANGS[this.options.language].translation[i]),this.$progress_bar.find("span").css("width","100%").text(i)}else this.$image_wrapper.find("h4").addClass("uploading");this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()},t.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show(),this.$image_wrapper.find("h4").removeClass("uploading")},t.Editable.prototype.writeImage=function(e,i,n){if(i&&(e=this.sanitizeURL(e),""===e))return!1;var o=new Image;o.onerror=t.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),o.onload=this.imageMode?t.proxy(function(){var t=this.$element.find(".f-img-editor > img");t.attr("src",e),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.enable(),this.triggerEvent("imageReplaced",[t,n]),setTimeout(function(){t.trigger("click")},0)},this):t.proxy(function(){this.insertLoadedImage(e,n)},this),this.showImageLoader(!0),o.src=e},t.Editable.prototype.processInsertImage=function(e,i){void 0===i&&(i=!0),this.enable(),this.focus(),this.restoreSelection();var n="";parseInt(this.options.defaultImageWidth,10)&&(n=' width="'+this.options.defaultImageWidth+'"');var o="fr-fin";"left"==this.options.defaultImageAlignment&&(o="fr-fil"),"right"==this.options.defaultImageAlignment&&(o="fr-fir"),o+=" fr-di"+this.options.defaultImageDisplay[0];var s='<img class="'+o+' fr-just-inserted" alt="'+this.options.defaultImageTitle+'" src="'+e+'"'+n+">",r=this.getSelectionElements()[0],a=this.getRange(),l=!this.browser.msie&&t.Editable.getIEversion()>8?t(a.startContainer):null;l&&l.hasClass("f-img-wrap")?(1===a.startOffset?(l.after("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0===a.startOffset&&(l.before("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(s)):this.getSelectionTextInfo(r).atStart&&r!=this.$element.get(0)&&"TD"!=r.tagName&&"TH"!=r.tagName&&"LI"!=r.tagName?t(r).before("<"+this.options.defaultTag+">"+s+"</"+this.options.defaultTag+">"):this.insertHTML(s),this.disable()},t.Editable.prototype.insertLoadedImage=function(e,i){this.triggerEvent("imageLoaded",[e],!1),this.processInsertImage(e,!1),this.browser.msie&&this.$element.find("img").each(function(t,e){e.oncontrolselect=function(){return!1}}),this.enable(),this.hide(),this.hideImageLoader(),this.wrapText(),this.cleanupLists();var n,o=this.$element.find("img.fr-just-inserted").get(0);o&&(n=o.previousSibling),n&&3==n.nodeType&&/\u200B/gi.test(n.textContent)&&t(n).remove(),this.triggerEvent("imageInserted",[this.$element.find("img.fr-just-inserted"),i]),setTimeout(t.proxy(function(){this.$element.find("img.fr-just-inserted").removeClass("fr-just-inserted").trigger("touchend")},this),50)},t.Editable.prototype.throwImageErrorWithMessage=function(t){this.enable(),this.triggerEvent("imageError",[{message:t,code:0}],!1),this.hideImageLoader()},t.Editable.prototype.throwImageError=function(t){this.enable();var e="Unknown image upload error.";1==t?e="Bad link.":2==t?e="No link in upload response.":3==t?e="Error during file upload.":4==t?e="Parsing response failed.":5==t?e="Image too large.":6==t?e="Invalid image type.":7==t&&(e="Image can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("imageError",[{code:t,message:e}],!1),this.hideImageLoader()},t.Editable.prototype.uploadImage=function(e){if(!this.triggerEvent("beforeImageUpload",[e],!1))return!1;if(void 0!==e&&e.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.imageUploadParams)i.append(n,this.options.imageUploadParams[n]);if(this.options.imageUploadToS3!==!1){for(n in this.options.imageUploadToS3.params)i.append(n,this.options.imageUploadToS3.params[n]);i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",e[0].type),i.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+e[0].name)}if(i.append(this.options.imageUploadParam,e[0]),e[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(e[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(i){var o;if(this.options.crossDomain)o=this.createCORSRequest("POST",this.options.imageUploadURL);else{o=new XMLHttpRequest,o.open("POST",this.options.imageUploadURL);for(var s in this.options.headers)o.setRequestHeader(s,this.options.headers[s])}o.onload=t.proxy(function(){var e="Please wait!";t.Editable.LANGS[this.options.language]&&(e=t.Editable.LANGS[this.options.language].translation[e]),this.$progress_bar.find("span").css("width","100%").text(e);try{if(this.options.imageUploadToS3)201==o.status?this.parseImageResponseXML(o.responseXML):this.throwImageError(3);else if(o.status>=200&&o.status<300)this.parseImageResponse(o.responseText);else try{var i=t.parseJSON(o.responseText);i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(3)}catch(n){this.throwImageError(3)}}catch(n){this.throwImageError(4)}},this),o.onerror=t.proxy(function(){this.throwImageError(3)},this),o.upload.onprogress=t.proxy(function(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;this.$progress_bar.find("span").css("width",e+"%")}},this),this.disable(),o.send(i),this.showImageLoader()}}},t.Editable.prototype.parseImageResponse=function(e){try{if(!this.triggerEvent("afterImageUpload",[e],!1))return!1;var i=t.parseJSON(e);i.link?this.writeImage(i.link,!1,e):i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(2)}catch(n){this.throwImageError(4)}},t.Editable.prototype.parseImageResponseXML=function(e){try{var i=t(e).find("Location").text(),n=t(e).find("Key").text();this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,i,n),i?this.writeImage(i):this.throwImageError(2)}catch(o){this.throwImageError(4)}},t.Editable.prototype.setImageUploadURL=function(t){t&&(this.options.imageUploadURL=t),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},t.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(t.proxy(function(e,i){t(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(t(i).parent().attr("class"))),t(i).parents(".f-img-wrap").length>0?"A"==t(i).parent().parent().get(0).tagName?t(i).siblings("span.f-img-handle").remove().end().unwrap().parent().unwrap():t(i).siblings("span.f-img-handle").remove().end().unwrap().unwrap():t(i).siblings("span.f-img-handle").remove().end().unwrap()},this)),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide(),this.$link_wrapper&&this.options.linkText&&this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden")},t.Editable.prototype.refreshImageList=function(e){if(!this.isLink&&!this.options.editInPopup){var i=[],n=[],o=this;if(this.$element.find("img").each(function(e,s){var r=t(s);if(i.push(r.attr("src")),n.push(r),"false"==r.attr("contenteditable"))return!0;if(0!==r.parents(".f-img-editor").length||r.hasClass("fr-dii")||r.hasClass("fr-dib")||(o.options.textNearImage?r.addClass(r.hasClass("fr-fin")?"fr-dib":r.hasClass("fr-fil")||r.hasClass("fr-fir")?"fr-dii":"block"==r.css("display")&&"none"==r.css("float")?"fr-dib":"fr-dii"):(r.addClass("fr-dib"),o.options.imageButtons.splice(o.options.imageButtons.indexOf("display"),1))),o.options.textNearImage||r.removeClass("fr-dii").addClass("fr-dib"),0===r.parents(".f-img-editor").length&&!r.hasClass("fr-fil")&&!r.hasClass("fr-fir")&&!r.hasClass("fr-fin"))if(r.hasClass("fr-dii"))r.addClass("right"==r.css("float")?"fr-fir":"left"==r.css("float")?"fr-fil":"fr-fin");else{var a=r.attr("style");r.hide(),r.addClass(0===parseInt(r.css("margin-right"),10)&&a?"fr-fir":0===parseInt(r.css("margin-left"),10)&&a?"fr-fil":"fr-fin"),r.show()}r.css("margin",""),r.css("float",""),r.css("display",""),r.removeAttr("data-style")}),void 0===e)for(var s=0;s<this.imageList.length;s++)i.indexOf(this.imageList[s].attr("src"))<0&&this.triggerEvent("afterRemoveImage",[this.imageList[s]],!1);this.imageList=n}},t.Editable.prototype.insertImage=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertImage")),this.selectionInEditor()&&this.saveSelection(),this.showInsertImage(),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")}}(jQuery),function(t){t.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList"),this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode||!this.options.linkText?this.$link_wrapper.find('input[type="text"].f-lt').parent().addClass("fr-hidden"):this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden"),this.imageMode&&this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.phone()?this.$document.scrollTop(this.$link_wrapper.offset().top+30):setTimeout(t.proxy(function(){this.imageMode&&this.iPad()||this.$link_wrapper.find('input[type="text"].f-lu').focus().select()},this),0),this.link=!0),this.refreshDisabledState()},t.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.hide(),this.$link_wrapper.find("input").blur()),this.refreshDisabledState()},t.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},t.Editable.prototype.updateLinkValues=function(e){var i=e.attr("href")||"http://";this.$link_wrapper.find("input.f-lt").val(e.text()),this.isLink?("#"==i&&(i=""),this.$link_wrapper.find("input#f-lu-"+this._id).val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(this.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i)),this.$link_wrapper.find("input.f-target").prop("checked","_blank"==e.attr("target")),this.$link_wrapper.find("li.f-choose-link-class").each(t.proxy(function(i,n){e.hasClass(t(n).data("class"))&&t(n).click()},this));for(var n in this.options.linkAttributes){var o=e.attr(n);this.$link_wrapper.find("input.fl-"+n).val(o?o:"")}this.$link_wrapper.find("a.f-external-link, button.f-unlink").show()},t.Editable.prototype.initLinkEvents=function(){var e=this,i=function(t){t.stopPropagation(),t.preventDefault()},n=function(i){return i.stopPropagation(),i.preventDefault(),e.isDisabled?!1:""!==e.text()?(e.hide(),!1):(e.link=!0,e.clearSelection(),e.removeMarkers(),e.selectionDisabled||(t(this).before('<span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),t(this).after('<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span>'),e.restoreSelectionByMarkers()),e.exec("createLink"),e.updateLinkValues(t(this)),e.showByCoordinates(t(this).offset().left+t(this).outerWidth()/2,t(this).offset().top+(parseInt(t(this).css("padding-top"),10)||0)+t(this).height()),e.showInsertLink(),t(this).hasClass("fr-file")?e.$link_wrapper.find("input.f-lu").attr("disabled","disabled"):e.$link_wrapper.find("input.f-lu").removeAttr("disabled"),void e.closeImageMode())};this.$element.on("mousedown","a",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.isLink?this.iOS()?(this.$element.on("touchstart",i),this.$element.on("touchend",n)):this.$element.on("click",n):this.iOS()?(this.$element.on("touchstart",'a:not([contenteditable="false"])',i),this.$element.on("touchend",'a:not([contenteditable="false"])',n),this.$element.on("touchstart",'a[contenteditable="false"]',i),this.$element.on("touchend",'a[contenteditable="false"]',i)):(this.$element.on("click",'a:not([contenteditable="false"])',n),this.$element.on("click",'a[contenteditable="false"]',i))},t.Editable.prototype.destroyLink=function(){this.$link_wrapper.html("").removeData().remove()},t.Editable.prototype.initLink=function(){this.buildCreateLink(),this.initLinkEvents(),this.addListener("destroy",this.destroyLink)},t.Editable.initializers.push(t.Editable.prototype.initLink),t.Editable.prototype.removeLink=function(){this.imageMode?("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&t(this.$element.find(".f-img-editor").get(0)).unwrap(),this.triggerEvent("imageLinkRemoved"),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1):(this.restoreSelection(),this.document.execCommand("unlink",!1,null),this.isLink||this.$element.find("a:empty").remove(),this.triggerEvent("linkRemoved"),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1)},t.Editable.prototype.writeLink=function(e,i,n,o,s){var r,a=this.options.noFollow;this.options.alwaysBlank&&(o=!0);var l,d="",h="",p="";a===!0&&/^https?:\/\//.test(e)&&(d='rel="nofollow"'),o===!0&&(h='target="_blank"');for(l in s)p+=" "+l+'="'+s[l]+'"';var c=e;if(e=this.sanitizeURL(e),this.options.convertMailAddresses){var u=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/i;u.test(e)&&0!==e.indexOf("mailto:")&&(e="mailto:"+e)}if(0===e.indexOf("mailto:")||""===this.options.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(e)||(e=this.options.linkAutoPrefix+e),""===e)return this.$link_wrapper.find("input.f-lu").addClass("fr-error").focus(),this.triggerEvent("badLink",[c],!1),!1;if(this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode){if("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName)this.$element.find(".f-img-editor").wrap('<a data-fr-link="true" href="'+e+'" '+h+" "+d+p+"></a>");else{var f=this.$element.find(".f-img-editor").parent();o===!0?f.attr("target","_blank"):f.removeAttr("target"),a===!0?f.attr("rel","nofollow"):f.removeAttr("rel");for(l in s)s[l]?f.attr(l,s[l]):f.removeAttr(l);f.removeClass(Object.keys(this.options.linkClasses).join(" ")),f.attr("href",e).addClass(n)}this.triggerEvent("imageLinkInserted",[e]),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1}else{var m=null;this.isLink?""===i&&(i=this.$element.text()):(this.restoreSelection(),r=this.getSelectionLinks(),r.length>0&&(m=r[0].attributes,is_file=t(r[0]).hasClass("fr-file")),this.saveSelectionByMarkers(),this.document.execCommand("unlink",!1,e),this.$element.find('span[data-fr-link="true"]').each(function(e,i){t(i).replaceWith(t(i).html())}),this.restoreSelectionByMarkers()),this.isLink?(this.$element.text(i),r=[this.$element.attr("href",e).get(0)]):(this.removeMarkers(),(this.options.linkText||""===this.text())&&(this.insertHTML('<span class="f-marker" data-fr-verified="true" data-id="0" data-type="true"></span>'+(i||this.clean(c))+'<span class="f-marker" data-fr-verified="true" data-id="0" data-type="false"></span>'),this.restoreSelectionByMarkers()),this.document.execCommand("createLink",!1,e),r=this.getSelectionLinks());for(var g=0;g<r.length;g++){if(m)for(var v=0;v<m.length;v++)"href"!=m[v].nodeName&&t(r[g]).attr(m[v].nodeName,m[v].value);o===!0?t(r[g]).attr("target","_blank"):t(r[g]).removeAttr("target"),a===!0&&/^https?:\/\//.test(e)?t(r[g]).attr("rel","nofollow"):t(r[g]).removeAttr("rel"),t(r[g]).data("fr-link",!0),t(r[g]).removeClass(Object.keys(this.options.linkClasses).join(" ")),t(r[g]).addClass(n);for(l in s)s[l]?t(r[g]).attr(l,s[l]):t(r[g]).removeAttr(l)}this.$element.find("a:empty").remove(),this.triggerEvent("linkInserted",[e]),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},t.Editable.prototype.createLinkHTML=function(){var t='<div class="froala-popup froala-link-popup" style="display: none;">';t+='<h4><span data-text="true">Insert Link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',t+='<div class="f-popup-line fr-hidden"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>';var e="";if(this.options.linkList.length&&(e="f-bi"),t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+e+'" id="f-lu-'+this._id+'"/>',this.options.linkList.length){t+='<button class="fr-p-bttn f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var n=this.options.linkList[i],o="";for(var s in n)o+=" data-"+s+'="'+n[s]+'"';t+='<li class="f-choose-link"'+o+">"+n.body+"</li>"}t+="</ul>"}if(t+="</div>",Object.keys(this.options.linkClasses).length){t+='<div class="f-popup-line"><input type="text" placeholder="Choose link type" class="f-bi" id="f-luc-'+this._id+'" disabled="disabled"/>',t+='<button class="fr-p-bttn f-browse-links" id="f-links-class-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-class-list-'+this._id+'">';for(var r in this.options.linkClasses){var a=this.options.linkClasses[r];t+='<li class="f-choose-link-class" data-class="'+r+'">'+a+"</li>"}t+="</ul>",t+="</div>"}for(var l in this.options.linkAttributes){var d=this.options.linkAttributes[l];t+='<div class="f-popup-line"><input class="fl-'+l+'" type="text" placeholder="'+d+'" id="fl-'+l+"-"+this._id+'"/></div>'}return t+='<div class="f-popup-line"><input type="checkbox" class="f-target" id="f-target-'+this._id+'"> <label data-text="true" for="f-target-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="fr-p-bttn f-ok f-submit" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(t+='<button type="button" data-text="true" class="fr-p-bttn f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),t+="</div></div>"},t.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=t(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var e=this;this.addListener("hidePopups",this.hideLinkWrapper),this.$link_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||(t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$link_wrapper.on("click",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","*",function(t){t.stopPropagation()}),this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("mouseup keydown touchend touchstart","input#f-lu-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click keydown","input#f-target-"+this._id,function(t){var e=t.which;e&&27===e||t.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(t){t.stopPropagation()}).on("click","button#f-ok-"+this._id,t.proxy(function(){var t,e=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),n=this.$link_wrapper.find("input#f-luc-"+this._id),o=this.$link_wrapper.find("input#f-target-"+this._id);t=e?e.val():"";var s=i.val();this.isLink&&""===s&&(s="#");var r="";n&&(r=n.data("class"));var a={};for(var l in this.options.linkAttributes)a[l]=this.$link_wrapper.find("input#fl-"+l+"-"+this._id).val();this.writeLink(s,t,r,o.prop("checked"),a)},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,t.proxy(function(){this.link=!0,this.removeLink()},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){e.resetLinkValues();
var i=e.$link_wrapper.find("button#f-browse-links-"+e._id),n=e.$link_wrapper.find("input#f-lt-"+e._id),o=e.$link_wrapper.find("input#f-lu-"+e._id),s=e.$link_wrapper.find("input#f-target-"+e._id);n&&n.val(t(this).data("body")),o.val(t(this).data("href")),s.prop("checked",t(this).data("blank"));for(var r in e.options.linkAttributes)t(this).data(r)&&e.$link_wrapper.find("input#fl-"+r+"-"+e._id).val(t(this).data(r));i.click()}).on("mouseup","li.f-choose-link",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(i){i.stopPropagation();var n=e.$link_wrapper.find("ul#f-link-list-"+e._id);e.$link_wrapper.trigger("hideLinkClassList"),t(this).find("i").toggleClass("fa-chevron-down"),t(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var t=e.$link_wrapper.find("ul#f-link-list-"+e._id),i=e.$link_wrapper.find("button#f-browse-links-"+e._id);t&&t.is(":visible")&&i.click()})),Object.keys(this.options.linkClasses).length&&(this.$link_wrapper.on("mouseup keydown","input#f-luc-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click touch","li.f-choose-link-class",function(){var i=e.$link_wrapper.find("input#f-luc-"+e._id);i.val(t(this).text()),i.data("class",t(this).data("class")),e.$link_wrapper.trigger("hideLinkClassList")}).on("mouseup","li.f-choose-link-class",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-links-class-"+this._id,function(i){i.stopPropagation(),e.$link_wrapper.trigger("hideLinkList");var n=e.$link_wrapper.find("ul#f-link-class-list-"+e._id);t(this).find("i").toggleClass("fa-chevron-down"),t(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-links-class-"+this._id,function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkClassList",function(){var t=e.$link_wrapper.find("ul#f-link-class-list-"+e._id),i=e.$link_wrapper.find("button#f-links-class-"+e._id);t&&t.is(":visible")&&i.click()})),this.$link_wrapper.on(this.mouseup,"i#f-link-close-"+this._id,t.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),(!this.options.inlineMode&&!this.imageMode||this.isLink||0===this.options.buttons.length)&&this.hide(),this.imageMode?this.showImageEditor():(this.restoreSelection(),this.focus())},this))},t.Editable.prototype.getSelectionLinks=function(){var t,e,i,n,o=[];if(this.window.getSelection){var s=this.window.getSelection();if(s.getRangeAt&&s.rangeCount){n=this.document.createRange();for(var r=0;r<s.rangeCount;++r)if(t=s.getRangeAt(r),e=t.commonAncestorContainer,e&&1!=e.nodeType&&(e=e.parentNode),e&&"a"==e.nodeName.toLowerCase())o.push(e);else{i=e.getElementsByTagName("a");for(var a=0;a<i.length;++a)n.selectNodeContents(i[a]),n.compareBoundaryPoints(t.END_TO_START,t)<1&&n.compareBoundaryPoints(t.START_TO_END,t)>-1&&o.push(i[a])}}}else if(this.document.selection&&"Control"!=this.document.selection.type)if(t=this.document.selection.createRange(),e=t.parentElement(),"a"==e.nodeName.toLowerCase())o.push(e);else{i=e.getElementsByTagName("a"),n=this.document.body.createTextRange();for(var l=0;l<i.length;++l)n.moveToElementText(i[l]),n.compareEndPoints("StartToEnd",t)>-1&&n.compareEndPoints("EndToStart",t)<1&&o.push(i[l])}return o},t.Editable.prototype.resetLinkValues=function(){this.$link_wrapper.find("input").val(""),this.$link_wrapper.find('input[type="checkbox"].f-target').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find('input[type="text"].f-lt').val(this.text()),this.$link_wrapper.find('input[type="text"].f-lu').val("http://"),this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.$link_wrapper.find("a.f-external-link, button.f-unlink").hide();for(var t in this.options.linkAttributes)this.$link_wrapper.find('input[type="text"].fl-'+t).val("")},t.Editable.prototype.insertLink=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("createLink")),this.selectionInEditor()&&this.saveSelection(),this.showInsertLink();var e=this.getSelectionLinks();e.length>0?this.updateLinkValues(t(e[0])):this.resetLinkValues()}}(jQuery),function(t){t.Editable.prototype.browserFixes=function(){this.backspaceEmpty(),this.backspaceInEmptyBlock(),this.fixHR(),this.domInsert(),this.fixIME(),this.cleanInvisibleSpace(),this.cleanBR(),this.insertSpace()},t.Editable.prototype.backspaceInEmptyBlock=function(){this.$element.on("keyup",t.proxy(function(e){var i=e.which;if(this.browser.mozilla&&!this.isHTML&&8==i){var n=t(this.getSelectionElement());this.valid_nodes.indexOf(n.get(0).tagName)>=0&&1==n.find("*").length&&""===n.text()&&1==n.find("br").length&&this.setSelection(n.get(0))}},this))},t.Editable.prototype.insertSpace=function(){this.browser.mozilla&&this.$element.on("keypress",t.proxy(function(t){var e=t.which,i=this.getSelectionElements()[0];this.isHTML||32!=e||"PRE"==i.tagName||(t.preventDefault(),this.insertSimpleHTML("&nbsp;"))},this))},t.Editable.prototype.cleanBR=function(){this.$element.on("keyup",t.proxy(function(){this.$element.find(this.valid_nodes.join(",")).each(t.proxy(function(e,i){if(["TH","TD","LI"].indexOf(i.tagName)>=0)return!0;var n=i.childNodes,o=null;if(!n.length||"BR"!=n[n.length-1].tagName)return!0;o=n[n.length-1];var s=o.previousSibling;s&&"BR"!=s.tagName&&t(o).parent().text().length>0&&this.valid_nodes.indexOf(s.tagName)<0&&t(o).remove()},this))},this))},t.Editable.prototype.replaceU200B=function(e){for(var i=0;i<e.length;i++)3==e[i].nodeType&&/\u200B/gi.test(e[i].textContent)?e[i].textContent=e[i].textContent.replace(/\u200B/gi,""):1==e[i].nodeType&&this.replaceU200B(t(e[i]).contents())},t.Editable.prototype.cleanInvisibleSpace=function(){var e=function(e){var i=t(e).text();return e&&/\u200B/.test(t(e).text())&&i.replace(/\u200B/gi,"").length>0?!0:!1};this.$element.on("keyup",t.proxy(function(){var i=this.getSelectionElement();e(i)&&0===t(i).find("li").length&&(this.saveSelectionByMarkers(),this.replaceU200B(t(i).contents()),this.restoreSelectionByMarkers())},this))},t.Editable.prototype.fixHR=function(){this.$element.on("keypress",t.proxy(function(e){var i=t(this.getSelectionElement());if(i.is("hr")||i.parents("hr").length)return!1;var n=e.which;if(8==n){var o=t(this.getSelectionElements()[0]);o.prev().is("hr")&&this.getSelectionTextInfo(o.get(0)).atStart&&(this.saveSelectionByMarkers(),o.prev().remove(),this.restoreSelectionByMarkers(),e.preventDefault())}},this))},t.Editable.prototype.backspaceEmpty=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;!this.isHTML&&8==e&&this.$element.hasClass("f-placeholder")&&t.preventDefault()},this))},t.Editable.prototype.domInsert=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;13===e&&(this.add_br=!0)},this)),this.$element.on("DOMNodeInserted",t.proxy(function(e){if("SPAN"!==e.target.tagName||t(e.target).attr("data-fr-verified")||this.no_verify||this.textEmpty(e.target)||t(e.target).replaceWith(t(e.target).contents()),"BR"===e.target.tagName&&setTimeout(function(){t(e.target).removeAttr("type")},0),"A"===e.target.tagName&&setTimeout(function(){t(e.target).removeAttr("_moz_dirty")},0),this.options.paragraphy&&this.add_br&&"BR"===e.target.tagName&&(t(e.target).prev().length&&"TABLE"===t(e.target).prev().get(0).tagName||t(e.target).next().length&&"TABLE"===t(e.target).next().get(0).tagName)){t(e.target).wrap('<p class="fr-p-wrap">');var i=this.$element.find("p.fr-p-wrap").removeAttr("class");this.setSelection(i.get(0))}"BR"===e.target.tagName&&this.isLastSibling(e.target)&&"LI"==e.target.parentNode.tagName&&this.textEmpty(e.target.parentNode)&&t(e.target).remove()},this)),this.$element.on("keyup",t.proxy(function(t){var e=t.which;8===e&&this.$element.find("span:not([data-fr-verified])").attr("data-fr-verified",!0),13===e&&(this.add_br=!1)},this))},t.Editable.prototype.fixIME=function(){try{this.$element.get(0).msGetInputContext&&(this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",t.proxy(function(){this.ime=!0},this)),this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",t.proxy(function(){this.ime=!1,this.$element.trigger("keydown"),this.oldHTML=""},this)))}catch(e){}}}(jQuery),function(t){t.Editable.prototype.handleEnter=function(){var e=t.proxy(function(){var e=this.getSelectionElement();return"LI"==e.tagName||this.parents(t(e),"li").length>0?!0:!1},this);this.$element.on("keypress",t.proxy(function(t){if(!this.isHTML&&!e()){var i=t.which;if(13==i&&!t.shiftKey){t.preventDefault(),this.saveUndoStep(),this.insertSimpleHTML("<break></break>");var n=this.getSelectionElements();if(n[0]==this.$element.get(0)?this.enterInMainElement(n[0]):this.enterInElement(n[0]),this.getSelectionTextInfo(this.$element.get(0)).atEnd)this.$wrapper.scrollTop(this.$element.height());else{var o=this.getBoundingRect();this.$wrapper.offset().top+this.$wrapper.height()<o.top+o.height&&this.$wrapper.scrollTop(o.top+this.$wrapper.scrollTop()-(this.$wrapper.height()+this.$wrapper.offset().top)+o.height+10)}}}},this))},t.Editable.prototype.enterInMainElement=function(e){var i=t(e).find("break").get(0);if(t(i).parent().get(0)==e)this.isLastSibling(i)?this.insertSimpleHTML("</br>"+this.markers_html+this.br):t(e).hasClass("f-placeholder")?t(e).html("</br>"+this.markers_html+this.br):this.insertSimpleHTML("</br>"+this.markers_html),t(e).find("break").remove(),this.restoreSelectionByMarkers();else if(t(i).parents(this.$element).length){for(e=this.getSelectionElement();"BREAK"==e.tagName||0===t(e).text().length&&e.parentNode!=this.$element.get(0);)e=e.parentNode;if(this.getSelectionTextInfo(e).atEnd)t(e).after(this.breakEnd(this.getDeepParent(e),!0)),this.$element.find("break").remove(),this.restoreSelectionByMarkers();else if(this.getSelectionTextInfo(e).atStart){for(;i.parentNode!=this.$element.get(0);)i=i.parentNode;t(i).before("<br/>"),this.$element.find("break").remove(),this.$element.find("a:empty").replaceWith(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()}else this.breakMiddle(this.getDeepParent(e),!0),this.restoreSelectionByMarkers()}else t(i).remove()},t.Editable.prototype.enterInElement=function(e){if(["TD","TH"].indexOf(e.tagName)<0){var i=!1;if(this.emptyElement(e)&&e.parentNode&&"BLOCKQUOTE"==e.parentNode.tagName){t(e).before(this.$element.find("break"));var n=e;e=e.parentNode,t(n).remove(),i=!0}this.getSelectionTextInfo(e).atEnd?(t(e).after(this.breakEnd(e),!1),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):this.getSelectionTextInfo(e).atStart?(this.options.paragraphy?i?(t(e).before("<"+this.options.defaultTag+">"+this.markers_html+this.br+"</"+this.options.defaultTag+">"),this.restoreSelectionByMarkers()):t(e).before("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"):i?(t(e).before(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()):t(e).before("<br/>"),this.$element.find("break").remove()):"PRE"==e.tagName?(this.$element.find("break").after("<br/>"+this.markers_html),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):(this.breakMiddle(e,!1,i),this.restoreSelectionByMarkers())}else this.enterInMainElement(e)},t.Editable.prototype.breakEnd=function(e,i){if(void 0===i&&(i=!1),"BLOCKQUOTE"==e.tagName){var n=t(e).contents();n.length&&"BR"==n[n.length-1].tagName&&t(n[n.length-1]).remove()}var o=t(e).find("break").get(0),s=this.br;this.options.paragraphy||(s="<br/>");var r=this.markers_html+s;for(i&&(r=this.markers_html+t.Editable.INVISIBLE_SPACE);o!=e;)"A"!=o.tagName&&"BREAK"!=o.tagName&&(r="<"+o.tagName+this.attrs(o)+">"+r+"</"+o.tagName+">"),o=o.parentNode;return i&&"A"!=o.tagName&&"BREAK"!=o.tagName&&(r="<"+o.tagName+this.attrs(o)+">"+r+"</"+o.tagName+">"),this.options.paragraphy&&(r="<"+this.options.defaultTag+">"+r+"</"+this.options.defaultTag+">"),i&&(r=s+r),r},t.Editable.prototype.breakMiddle=function(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var o=t(e).find("break").get(0),s=this.markers_html;n&&(s="");for(var r="";o!=e;)o=o.parentNode,r=r+"</"+o.tagName+">",s="<"+o.tagName+this.attrs(o)+">"+s;var a="";n&&(a=this.options.paragraphy?"<"+this.options.defaultTag+">"+this.markers_html+"<br/></"+this.options.defaultTag+">":this.markers_html+"<br/>");var l="<"+e.tagName+this.attrs(e)+">"+t(e).html()+"</"+e.tagName+">";l=l.replace(/<break><\/break>/,r+(i?this.br:"")+a+s),t(e).replaceWith(l)}}(jQuery),function(t){t.Editable.prototype.isFirstSibling=function(t){var e=t.previousSibling;return e?3==e.nodeType&&""===e.textContent?this.isFirstSibling(e):!1:!0},t.Editable.prototype.isLastSibling=function(t){var e=t.nextSibling;return e?3==e.nodeType&&""===e.textContent?this.isLastSibling(e):!1:!0},t.Editable.prototype.getDeepParent=function(t){return t.parentNode==this.$element.get(0)?t:this.getDeepParent(t.parentNode)},t.Editable.prototype.attrs=function(t){for(var e="",i=t.attributes,n=0;n<i.length;n++){var o=i[n];e+=" "+o.nodeName+'="'+o.value+'"'}return e}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function i(t){function e(){n?(i(),B(e),o=!0,n=!1):o=!1}var i=t,n=!1,o=!1;this.kick=function(){n=!0,o||e()},this.end=function(t){var e=i;t&&(o?(i=n?function(){e(),t()}:t,n=!0):t())}}function n(){return!0}function o(){return!1}function s(t){t.preventDefault()}function r(t){F[t.target.tagName.toLowerCase()]||t.preventDefault()}function a(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function l(t,e){var i,n;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,n=t.length;++i<n;)if(t[i].identifier===e)return t[i]}function d(t,e){var i=l(t.changedTouches,e.identifier);return!i||i.pageX===e.pageX&&i.pageY===e.pageY?void 0:i}function h(t){var e;a(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},j(document,O.move,p,e),j(document,O.cancel,c,e))}function p(t){var e=t.data;y(t,e,t,u)}function c(){u()}function u(){P(document,O.move,p),P(document,O.cancel,c)}function f(t){var e,i;F[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],i={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},j(document,H.move+"."+e.identifier,m,i),j(document,H.cancel+"."+e.identifier,g,i))}function m(t){var e=t.data,i=d(t,e);i&&y(t,e,i,v)}function g(t){var e=t.data,i=l(t.changedTouches,e.identifier);i&&v(e.identifier)}function v(t){P(document,"."+t,m),P(document,"."+t,g)}function y(t,e,i,n){var o=i.pageX-e.startX,s=i.pageY-e.startY;M*M>o*o+s*s||x(t,e,i,o,s,n)}function b(){return this._handled=n,!1}function w(t){try{t._handled()}catch(e){return!1}}function x(t,e,i,n,o,s){var r,a;e.target,r=t.targetTouches,a=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=n,e.distY=o,e.deltaX=n,e.deltaY=o,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=n/a,e.velocityY=o/a,e.targetTouches=r,e.finger=r?r.length:1,e._handled=b,e._preventTouchmoveDefault=function(){t.preventDefault()},R(e.target,e),s(e.identifier)}function k(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function E(t){var e=t.data.event,i=t.data.timer;C(),I(e,i,function(){setTimeout(function(){P(e.target,"click",o)},0)})}function C(){P(document,O.move,k),P(document,O.end,E)}function $(t){var e=t.data.event,i=t.data.timer,n=d(t,e);n&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=n,t.data.timeStamp=t.timeStamp,i.kick())}function T(t){var e=t.data.event,i=t.data.timer,n=l(t.changedTouches,e.identifier);n&&(S(e),I(e,i))}function S(t){P(document,"."+t.identifier,$),P(document,"."+t.identifier,T)}function _(t,e,i){var n=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/n,t.velocityY=.3*t.velocityY+.7*t.deltaY/n,t.pageX=e.pageX,t.pageY=e.pageY}function I(t,e,i){e.end(function(){return t.type="moveend",R(t.target,t),i&&i()})}function L(){return j(this,"movestart.move",w),!0}function N(){return P(this,"dragstart drag",s),P(this,"mousedown touchstart",r),P(this,"movestart",w),!0}function D(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(j(this,"dragstart."+t.guid+" drag."+t.guid,s,e,t.selector),j(this,"mousedown."+t.guid,r,e,t.selector))}function A(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(P(this,"dragstart."+t.guid+" drag."+t.guid),P(this,"mousedown."+t.guid))}var M=6,j=t.event.add,P=t.event.remove,R=function(e,i,n){t.event.trigger(i,n,e)},B=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t()},25)}}(),F={textarea:!0,input:!0,select:!0,button:!0},O={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},H={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:L,teardown:N,add:D,remove:A,_default:function(t){function n(){_(s,r.touch,r.timeStamp),R(t.target,s)}var s,r;t._handled()&&(s={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},r={event:s,timer:new i(n),touch:e,timeStamp:e},t.identifier===e?(j(t.target,"click",o),j(document,O.move,k,r),j(document,O.end,E,r)):(t._preventTouchmoveDefault(),j(document,H.move+"."+t.identifier,$,r),j(document,H.end+"."+t.identifier,T,r)))}},t.event.special.move={setup:function(){j(this,"movestart.move",t.noop)},teardown:function(){P(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){j(this,"movestart.moveend",t.noop)},teardown:function(){P(this,"movestart.moveend",t.noop)}},j(document,"mousedown.move",h),j(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(t){for(var e=["changedTouches","targetTouches"],i=e.length;i--;)-1===t.event.props.indexOf(e[i])&&t.event.props.push(e[i])}(t)}),window.WYSIWYGModernizr=function(t,e,i){function n(t){u.cssText=t}function o(t,e){return typeof t===e}var s,r,a,l="2.7.1",d={},h=e.documentElement,p="modernizr",c=e.createElement(p),u=c.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=[],v=g.slice,y=function(t,i,n,o){var s,r,a,l,d=e.createElement("div"),c=e.body,u=c||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=o?o[n]:p+(n+1),d.appendChild(a);return s=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),d.id=p,(c?d:u).innerHTML+=s,u.appendChild(d),c||(u.style.background="",u.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(u)),r=i(d,t),c?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),h.style.overflow=l),!!r},b=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var n;return y("@media "+e+" { #"+p+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},w={}.hasOwnProperty;a=o(w,"undefined")||o(w.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return w.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,r=e.apply(s,i.concat(v.call(arguments)));return Object(r)===r?r:s}return e.apply(t,i.concat(v.call(arguments)))};return n}),m.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:y(["@media (",f.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i};for(var x in m)a(m,x)&&(r=x.toLowerCase(),d[r]=m[x](),g.push((d[r]?"":"no-")+r));return d.addTest=function(t,e){if("object"==typeof t)for(var n in t)a(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(e?"":"no-")+t),d[t]=e}return d},n(""),c=s=null,d._version=l,d._prefixes=f,d.mq=b,d.testStyles=y,d}(this,document),!function(t){t.Editable.prototype.coreInit=function(){var t=this,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=function(t){for(var e=t.toString(),i=0,n=0;n<e.length;n++)i+=parseInt(e.charAt(n),10);return i>10?i%9+1:i};if(t.options.key!==!1){var n=function(t,e,i){for(var n=Math.abs(i);n-->0;)t-=e;return 0>i&&(t+=123),t},o=function(t){return t},s=function(t){if(!t)return t;for(var s="",r=o("charCodeAt"),a=o("fromCharCode"),l=e.indexOf(t[0]),d=1;d<t.length-2;d++){for(var h=i(++l),p=t[r](d),c="";/[0-9-]/.test(t[d+1]);)c+=t[++d];c=parseInt(c,10)||0,p=n(p,h,c),p^=l-1&31,s+=String[a](p)}return s},r=o(s),a=function(t){return"none"==t.css("display")?(t.attr("style",t.attr("style")+r("zD4D2qJ-7dhuB-11bB4E1wqlhlfE4gjhkbB6C5eg1C-8h1besB-16e1==")),!0):!1},l=function(){for(var t=0,e=document.domain,i=e.split("."),n="_gd"+(new Date).getTime();t<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)e=i.slice(-1-++t).join("."),document.cookie=n+"="+n+";domain="+e+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",e}(),d=function(){var e=r(t.options.key)||"";return e!==r("eQZMe1NJGC1HTMVANU==")&&e.indexOf(l,e.length-l.length)<0&&[r("9qqG-7amjlwq=="),r("KA3B3C2A6D1D5H5H1A3==")].indexOf(l)<0?(t.$box.append(r("uA5kygD3g1h1lzrA7E2jtotjvooB2A5eguhdC-22C-16nC2B3lh1deA-21C-16B4A2B4gi1F4D1wyA-13jA4H5C2rA-65A1C10dhzmoyJ2A10A-21d1B-13xvC2I4enC4C2B5B4G4G4H1H4A10aA8jqacD1C3c1B-16D-13A-13B2E5A4jtxfB-13fA1pewxvzA3E-11qrB4E4qwB-16icA1B3ykohde1hF4A2E4clA4C7E6haA4D1xtmolf1F-10A1H4lhkagoD5naalB-22B8B4quvB-8pjvouxB3A-9plnpA2B6D6BD2D1C2H1C3C3A4mf1G-10C-8i1G3C5B3pqB-9E5B1oyejA3ddalvdrnggE3C3bbj1jC6B3D3gugqrlD8B2DB-9qC-7qkA10D2VjiodmgynhA4HA-9D-8pI-7rD4PrE-11lvhE3B5A-16C7A6A3ekuD1==")),t.$lb=t.$box.find("> div:last"),t.$ab=t.$lb.find("> a"),a(t.$lb)||a(t.$ab)):void 0};d()}},t.Editable.initializers.push(t.Editable.prototype.coreInit)}(jQuery),function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedBlankTags:["TEXTAREA"],selfClosingTags:["br","input","img","hr","param","!--","source","embed","!","meta","link","base"],doNotJoinTags:["a"],iconClasses:["fa-"]}),t.Editable.prototype.isClosingTag=function(t){return t?null!==t.match(/^<\/([a-zA-Z0-9]+)([^<]+)*>$/gi):!1},t.Editable.prototype.tagName=function(t){return t.replace(/^<\/?([a-zA-Z0-9-!]+)([^>]+)*>$/gi,"$1").toLowerCase()},t.Editable.SELF_CLOSING_AFTER=["source"],t.Editable.prototype.isSelfClosingTag=function(t){var e=this.tagName(t);return this.options.selfClosingTags.indexOf(e.toLowerCase())>=0},t.Editable.prototype.tagKey=function(t){return t.type+(t.attrs||[]).sort().join("|")},t.Editable.prototype.extendedKey=function(t){return this.tagKey(t)+JSON.stringify(t.style)},t.Editable.prototype.mapDOM=function(e){var i=[],n={},o={},s=0,r=this;t(e).find(".f-marker").html(t.Editable.INVISIBLE_SPACE);var a=function(e,i){if(3===e.nodeType)return[];if(8===e.nodeType)return[{comment:!0,attrs:{},styles:{},idx:s++,sp:i,ep:i,text:e.textContent}];var n=e.tagName;"B"==n&&(n="STRONG"),"I"!=n||e.className&&null!=e.className.match(new RegExp(r.options.iconClasses.join("|"),"gi"))||(n="EM");var o={},a={},l=null;if(e.attributes)for(var d=0;d<e.attributes.length;d++){var h=e.attributes[d];"style"==h.nodeName?l=h.value:o[h.nodeName]=h.value}if(l){var p=l.match(/([^:]*):([^:;]*(;|$))/gi);if(p)for(var c=0;c<p.length;c++){var u=p[c].split(":"),f=u.slice(1).join(":").trim();";"==f[f.length-1]&&(f=f.substr(0,f.length-1)),a[u[0].trim()]=f}}var m=[];if(t.isEmptyObject(o)&&"SPAN"==e.tagName&&!t.isEmptyObject(a)){for(var g in a){var v={};v[g]=a[g],m.push({selfClosing:!1,attrs:o,styles:v,idx:s++,sp:i,ep:i+e.textContent.length,tagName:n,noJoin:e.nextSibling&&"BR"===e.nextSibling.tagName})}return m}return[{selfClosing:r.options.selfClosingTags.indexOf(n.toLowerCase())>=0,attrs:o,styles:a,idx:s++,sp:i,ep:i+e.textContent.length,tagName:n,noJoin:e.nextSibling&&"BR"===e.nextSibling.tagName}]},l=function(t,r){var d,h,p;if(t!=e)for(h=a(t,r),d=0;d<h.length;d++)p=h[d],i.push(p),n[p.sp]||(n[p.sp]={}),o[p.ep]||(o[p.ep]={}),n[p.sp][p.tagName]||(n[p.sp][p.tagName]=[]),o[p.ep][p.tagName]||(o[p.ep][p.tagName]=[]),n[p.sp][p.tagName].push(p),o[p.ep][p.tagName].push(p);var c=t.childNodes;if(c){for(d=0;d<c.length;d++)d>0&&8!=c[d-1].nodeType&&(r+=c[d-1].textContent.length),l(c[d],r);if(h)for(d=0;d<h.length;d++)p=h[d],p.ci=s++,n[p.ep]||(n[p.ep]={}),n[p.ep][p.tagName]||(n[p.ep][p.tagName]=[]),n[p.ep][p.tagName].push({shadow:!0,ci:s-1})}},d=function(){var e,o,s,a;for(e in n)for(var l in n[e])for(s=0;s<n[e][l].length;s++)if(o=n[e][l][s],!o.selfClosing&&!(o.dirty||o.shadow||o.comment||o.noJoin))for(var d=s+1;d<n[e][l].length;d++)if(a=n[e][l][d],!a.selfClosing&&!(a.dirty||a.shadow||a.comment||a.noJoin||1!=Object.keys(o.styles).length||1!=Object.keys(a.styles).length||a.sp==a.ep)){var h=Object.keys(o.styles)[0];if(a.styles[h]){o.sp=a.ep;for(var p=0;p<n[o.sp][o.tagName].length;p++){var c=n[o.sp][o.tagName][p];if(c.shadow&&c.ci==a.ci){n[o.sp][o.tagName].splice(p,0,o);break}}n[e][l].splice(s,1),s--;break}}for(e=0;e<i.length;e++)if(o=i[e],!(o.dirty||o.selfClosing||o.comment||o.noJoin||o.shadow||r.options.doNotJoinTags.indexOf(o.tagName.toLowerCase())>=0||!t.isEmptyObject(o.attrs)))if(o.sp==o.ep&&t.isEmptyObject(o.attrs)&&t.isEmptyObject(o.styles)&&r.options.allowedBlankTags.indexOf(o.tagName)<0)o.dirty=!0;else if(n[o.ep]&&n[o.ep][o.tagName])for(s=0;s<n[o.ep][o.tagName].length;s++)if(a=n[o.ep][o.tagName][s],o!=a&&!(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||!t.isEmptyObject(a.attrs)||JSON.stringify(a.styles)!=JSON.stringify(o.styles))){o.ep<a.ep&&(o.ep=a.ep),o.sp>a.sp&&(o.sp=a.sp),a.dirty=!0,e--;break}for(e=0;e<i.length;e++)if(o=i[e],!(o.dirty||o.selfClosing||o.comment||o.noJoin||o.shadow||!t.isEmptyObject(o.attrs)))if(o.sp==o.ep&&t.isEmptyObject(o.attrs)&&t.isEmptyObject(o.style)&&r.options.allowedBlankTags.indexOf(o.tagName)<0)o.dirty=!0;else if(n[o.sp]&&n[o.sp][o.tagName])for(s=n[o.sp][o.tagName].length-1;s>=0;s--)a=n[o.sp][o.tagName][s],o!=a&&(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||o.ep==a.ep&&t.isEmptyObject(a.attrs)&&(o.styles=t.extend(o.styles,a.styles),a.dirty=!0))};l(e,0),d();for(var h=i.length-1;h>=0;h--)i.dirty&&i.splice(h,1);return i},t.Editable.prototype.sortNodes=function(t,e){if(t.comment)return 1;if(t.selfClosing||e.selfClosing)return t.idx-e.idx;var i=t.ep-t.sp,n=e.ep-e.sp;return 0===i&&0===n?t.idx-e.idx:i===n?e.ci-t.ci:n-i},t.Editable.prototype.openTag=function(t){var e,i="<"+t.tagName.toLowerCase(),n=Object.keys(t.attrs).sort();for(e=0;e<n.length;e++){var o=n[e];i+=" "+o+'="'+t.attrs[o]+'"'}var s="",r=Object.keys(t.styles).sort();for(e=0;e<r.length;e++){var a=r[e];null!=t.styles[a]&&(s+=a.replace("_","-")+": "+t.styles[a]+"; ")}return""!==s&&(i+=' style="'+s.trim()+'"'),i+=">"},t.Editable.prototype.commentTag=function(t){var e="";if(t.selfClosing){var i;e="<"+t.tagName.toLowerCase();var n=Object.keys(t.attrs).sort();for(i=0;i<n.length;i++){var o=n[i];e+=" "+o+'="'+t.attrs[o]+'"'}var s="",r=Object.keys(t.styles).sort();for(i=0;i<r.length;i++){var a=r[i];null!=t.styles[a]&&(s+=a.replace("_","-")+": "+t.styles[a]+"; ")}""!==s&&(e+=' style="'+s.trim()+'"'),e+="/>"}else t.comment&&(e="<!--"+t.text+"-->");return e},t.Editable.prototype.closeTag=function(t){return"</"+t.tagName.toLowerCase()+">"},t.Editable.prototype.nodesOpenedAt=function(t,e){for(var i=[],n=t.length-1;n>=0&&t[n].sp==e;)i.push(t.pop()),n--;return i},t.Editable.prototype.entity=function(t){return ch_map={">":"&gt;","<":"&lt;","&":"&amp;"},ch_map[t]?ch_map[t]:t},t.Editable.prototype.removeInvisibleWhitespace=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];i.childNodes.length?this.removeInvisibleWhitespace(i):i.textContent=i.textContent.replace(/\u200B/gi,"")}},t.Editable.prototype.cleanOutput=function(e,i){var n,o,s,r;i&&this.removeInvisibleWhitespace(e);var a=this.mapDOM(e,i).sort(function(t,e){return e.sp-t.sp}),l=e.textContent;html="";var d=[],h=-1,p=t.proxy(function(){var e="";for(simple_nodes_to_close=[],d=d.sort(function(t,e){return t.idx-e.idx}).reverse();d.length;){for(var i=d.pop();simple_nodes_to_close.length&&simple_nodes_to_close[simple_nodes_to_close.length-1].ci<i.ci;)e+=this.closeTag(simple_nodes_to_close.pop());i.selfClosing||i.comment?e+=this.commentTag(i):(!t.isEmptyObject(i.attrs)||this.options.allowedBlankTags.indexOf(i.tagName)>=0)&&(e+=this.openTag(i),simple_nodes_to_close.push(i))}for(;simple_nodes_to_close.length;)e+=this.closeTag(simple_nodes_to_close.pop());html+=e},this),c={},u=[];for(n=0;n<=l.length;n++){if(c[n])for(o=c[n].length-1;o>=0;o--)if(u.length&&u[u.length-1].tagName==c[n][o].tagName&&JSON.stringify(u[u.length-1].styles)==JSON.stringify(c[n][o].styles))html+=this.closeTag(c[n][o]),u.pop();else{for(var f=[];u.length&&(u[u.length-1].tagName!==c[n][o].tagName||JSON.stringify(u[u.length-1].styles)!==JSON.stringify(c[n][o].styles));)r=u.pop(),html+=this.closeTag(r),f.push(r);for(html+=this.closeTag(c[n][o]),u.pop();f.length;){var m=f.pop();html+=this.openTag(m),u.push(m)}}for(var g=this.nodesOpenedAt(a,n).sort(this.sortNodes).reverse();g.length;){var v=g.pop();if(!v.dirty)if(v.selfClosing||v.comment)v.ci>h||"BR"==v.tagName?(p(),html+=this.commentTag(v),h=v.ci):d.length?(d.push(v),h<v.ci&&(h=v.ci)):(html+=this.commentTag(v),h<v.ci&&(h=v.ci));else if(v.ep>v.sp){v.ci>h&&p();var y=[];if("A"==v.tagName)for(var b=v.sp+1;b<v.ep;b++)if(c[b]&&c[b].length)for(s=0;s<c[b].length;s++)y.push(c[b][s]),html+=this.closeTag(c[b][s]),u.pop();var w=[];if("SPAN"==v.tagName&&("#123456"==v.styles["background-color"]||"#123456"===t.Editable.RGBToHex(v.styles["background-color"])||"#123456"==v.styles.color||"#123456"===t.Editable.RGBToHex(v.styles.color)))for(;u.length;){var x=u.pop();html+=this.closeTag(x),w.push(x)}for(html+=this.openTag(v),h<v.ci&&(h=v.ci),u.push(v),c[v.ep]||(c[v.ep]=[]),c[v.ep].push(v);y.length;)v=y.pop(),html+=this.openTag(v),u.push(v);for(;w.length;)v=w.pop(),html+=this.openTag(v),u.push(v)}else v.sp==v.ep&&(d.push(v),h<v.ci&&(h=v.ci))}p(),n!=l.length&&(html+=this.entity(l[n]))}return html=html.replace(/(<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>)\u200B(<\/span>)/gi,"$1$2"),html},t.Editable.prototype.wrapDirectContent=function(){var e=t.merge(["UL","OL","TABLE"],this.valid_nodes);if(!this.options.paragraphy)for(var i=null,n=this.$element.contents(),o=0;o<n.length;o++)1!=n[o].nodeType||e.indexOf(n[o].tagName)<0?(i||(i=t('<div class="fr-wrap">'),t(n[o]).before(i)),i.append(n[o])):i=null},t.Editable.prototype.cleanify=function(e,i,n){if(this.browser.msie&&t.Editable.getIEversion()<9)return!1;var o;if(this.isHTML)return!1;void 0===e&&(e=!0),void 0===n&&(n=!0),this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),n&&this.saveSelectionByMarkers(),e?o=this.getSelectionElements():(this.wrapDirectContent(),o=this.$element.find(this.valid_nodes.join(",")),0===o.length&&(o=[this.$element.get(0)]));var s,r;if(o[0]!=this.$element.get(0))for(var a=0;a<o.length;a++){var l=t(o[a]);0===l.find(this.valid_nodes.join(",")).length&&(s=l.html(),r=this.cleanOutput(l.get(0),i),r!==s&&l.html(r))}else 0===this.$element.find(this.valid_nodes.join(",")).length&&(s=this.$element.html(),r=this.cleanOutput(this.$element.get(0),i),r!==s&&this.$element.html(r));this.$element.find("[data-fr-idx]").removeAttr("data-fr-idx"),this.$element.find(".fr-wrap").each(function(){t(this).replaceWith(t(this).html())}),this.$element.find(".f-marker").html(""),n&&this.restoreSelectionByMarkers(),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{table:{title:"Table",icon:"fa fa-table",callback:function(t,e,i){this.table_commands[e]?this.table_commands[e].apply(this,[e,i]):this.table_commands.insertTable.apply(this,[e,i]),this.cleanupTables()}}}),t.Editable.DEFAULTS.buttons[t.Editable.DEFAULTS.buttons.indexOf("insertHorizontalRule")]="table",t.Editable.prototype.table_commands={insertTable:function(t,e){this.insertTable(t,e)},insertRowAbove:function(){this.insertRow("above")},insertRowBelow:function(){this.insertRow("below")},insertColumnBefore:function(){this.insertColumn("before")},insertColumnAfter:function(){this.insertColumn("after")},deleteColumn:function(){this.deleteColumn()},deleteRow:function(){this.deleteRow()},insertCellBefore:function(){this.insertCell("before")},insertCellAfter:function(){this.insertCell("after")},mergeCells:function(){this.mergeCells()},deleteCell:function(){this.deleteCell()},splitVertical:function(){this.splitVertical()},splitHorizontal:function(){this.splitHorizontal()},insertHeader:function(){this.insertHeader()},deleteHeader:function(){this.deleteHeader()},deleteTable:function(){this.deleteTable()}},t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{table:function(t){var e=this.buildDropdownTable(),i=this.buildDropdownButton(t,e,"fr-table");return this.bindTableDropdownEvents(),i}}),t.Editable.prototype.tableTab=function(){var e;this.currentCell&&(e=this.currentCell());var i=t(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:e&&this.nextCell()?(this.setSelection(this.nextCell()),!1):void 0},t.Editable.prototype.tableShiftTab=function(){var e;this.currentCell&&(e=this.currentCell());var i=t(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:e&&this.prevCell()?(this.setSelection(this.prevCell()),!1):void 0},t.Editable.prototype.initTable=function(){var e=this;this.$editor.on("click mouseup touch touchend",".fr-table a",function(i){i.preventDefault(),i.stopPropagation(),e.android()&&(t(this).parent().siblings().removeClass("hover"),t(this).parent().addClass("hover"))}),this.addListener("tab",this.tableTab),this.addListener("shift+tab",this.tableShiftTab)},t.Editable.initializers.push(t.Editable.prototype.initTable),t.Editable.prototype.buildDropdownTable=function(){var t='<ul class="fr-dropdown-menu fr-table">';t+='<li> <a href="#"><span data-text="true">Insert table</span> <i class="fa fa-chevron-right"></i></a><div class="select-table"> ',t+='<div class="fr-t-info">1 x 1</div>';for(var e=1;10>=e;e++){for(var i=1;10>=i;i++){var n="inline-block";(e>5||i>5)&&(n="none");var o="fr-bttn ";1==e&&1==i&&(o+=" hover"),t+='<span class="'+o+'" data-cmd="table" data-val="'+e+'" data-param="'+i+'" style="display: '+n+';"><span></span></span>'}t+='<div class="new-line"></div>'}return t+="</div> </li>",t+='<li><a href="#"><span data-text="true">Cell</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertCellBefore"><a href="#" data-text="true">Insert cell before</a></li><li data-cmd="table" data-val="insertCellAfter"><a href="#" data-text="true">Insert cell after</a></li><li data-cmd="table" data-val="deleteCell"><a href="#" data-text="true">Delete cell</a></li><li data-cmd="table" data-val="mergeCells"><a href="#" data-text="true">Merge cells</a></li><li data-cmd="table" data-val="splitHorizontal"><a href="#" data-text="true">Horizontal split</a></li><li data-cmd="table" data-val="splitVertical"><a href="#" data-text="true">Vertical split</a></li></ul></li>',t+='<li><a href="#"><span data-text="true">Row</span> <i class="fa fa-chevron-right"></i></a> <ul><li data-cmd="table" data-val="insertRowAbove"><a href="#" data-text="true">Insert row above</a></li><li data-cmd="table" data-val="insertRowBelow"><a href="#" data-text="true">Insert row below</a></li><li data-cmd="table" data-val="deleteRow"><a href="#" data-text="true">Delete row</a></li></ul></li>',t+='<li><a href="#"><span data-text="true">Column</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertColumnBefore"><a href="#" data-text="true">Insert column before</a></li> <li data-cmd="table" data-val="insertColumnAfter"><a href="#" data-text="true">Insert column after</a></li> <li data-cmd="table" data-val="deleteColumn"><a href="#" data-text="true">Delete column</a></li> </ul></li>',t+='<li data-cmd="table" data-val="deleteTable"><a href="#" data-text="true">Delete table</a></li>',t+="</ul>"},t.Editable.prototype.bindTableDropdownEvents=function(){var e=this;this.$bttn_wrapper.on("mouseenter",".fr-table .select-table > span",function(){var i=t(this).data("val"),n=t(this).data("param");e.$bttn_wrapper.find(".fr-table .select-table .fr-t-info").text(i+" x "+n),e.$bttn_wrapper.find(".fr-table .select-table > span").removeClass("hover");for(var o=1;10>=o;o++)for(var s=0;10>=s;s++){var r=e.$bttn_wrapper.find('.fr-table .select-table > span[data-val="'+o+'"][data-param="'+s+'"]');i>=o&&n>=s?r.addClass("hover"):(i+1>=o||5>=o)&&(n+1>=s||5>=s)?r.css("display","inline-block"):(o>5||s>5)&&r.css("display","none")}}),this.$bttn_wrapper.on("mouseleave",".fr-table .select-table",function(){e.$bttn_wrapper.find('.fr-table .select-table > span[data-val="1"][data-param="1"]').trigger("mouseenter")}),this.android()&&this.$bttn_wrapper.on("touchend",".fr-table .fr-trigger",function(){t(this).parents(".fr-table").find(".hover").removeClass("hover")})},t.Editable.prototype.tableMap=function(){var e=this.currentTable(),i=[];return e&&e.find("tr:not(:empty)").each(function(e,n){var o=t(n),s=0;o.find("th, td").each(function(n,o){for(var r=t(o),a=parseInt(r.attr("colspan"),10)||1,l=parseInt(r.attr("rowspan"),10)||1,d=e;e+l>d;d++)for(var h=s;s+a>h;h++)i[d]||(i[d]=[]),i[d][h]?s++:i[d][h]=o;s+=a})}),i},t.Editable.prototype.cellOrigin=function(t,e){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)if(e[i][n]==t)return{row:i,col:n}},t.Editable.prototype.canMergeCells=function(){var e=this.getSelectionCells();if(e.length<2)return!1;for(var i=this.tableMap(),n=0,o=32e3,s=0,r=32e3,a=0,l=0;l<e.length;l++){var d=t(e[l]),h=parseInt(d.attr("colspan"),10)||1,p=parseInt(d.attr("rowspan"),10)||1,c=this.cellOrigin(e[l],i);n+=h*p,o=Math.min(o,c.col),s=Math.max(s,c.col+h),r=Math.min(r,c.row),a=Math.max(a,c.row+p)}return n==(s-o)*(a-r)?{row:r,col:o,colspan:s-o,rowspan:a-r,map:i,cells:e}:null},t.Editable.prototype.getSelectionCells=function(){var e,i=[];if(this.browser.webkit||this.browser.msie){var n=this.getSelectionElements();for(e=0;e<n.length;e++)("TD"==n[e].tagName||"TH"==n[e].tagName)&&i.push(n[e])}else{var o=this.getRanges();for(e=0;e<o.length;e++){var s=o[e],r=!1;if("TD"==s.startContainer.tagName||"TH"==s.startContainer.tagName)i.push(s.startContainer),r=!0;else{var a=s.startContainer.childNodes,l=s.startOffset;if(a.length>l&&l>=0){var d=a[l];("TD"==d.tagName||"TH"==d.tagName)&&(i.push(d),r=!0)}}if(r===!1){var h=t(s.startContainer).parents("td:first, th:first");h.length>0&&i.push(h.get(0))}}}return i},t.Editable.prototype.currentCell=function(){var t=this.getSelectionCells();return t.length>0?t[0]:null},t.Editable.prototype.prevCell=function(){var e=this.currentCell();if(e){if(t(e).prev("td").length)return t(e).prev("td").get(0);if(t(e).parent().prev("tr").find("td").length)return t(e).parent().prev("tr").find("td:last").get(0)}return null},t.Editable.prototype.nextCell=function(){var e=this.currentCell();if(e){if(t(e).next("td").length)return t(e).next("td").get(0);if(t(e).parent().next("tr").find("td").length)return t(e).parent().next("tr").find("td").get(0)}return null},t.Editable.prototype.currentTable=function(){for(var e=t(this.getSelectionElement());e.get(0)!=this.$element.get(0)&&e.get(0)!=this.$document.find("body").get(0)&&"TABLE"!=e.get(0).tagName;)e=e.parent();return e.get(0)!=this.$element.get(0)?e:null},t.Editable.prototype.focusOnTable=function(){var t=this.currentTable();if(t){var e=t.find("td:first");this.setSelection(e.get(0))}},t.Editable.prototype.insertCell=function(e){for(var i=this.getSelectionCells(),n=0;n<i.length;n++){var o=t(i[n]);"before"==e?o.before(o.clone().removeAttr("colspan").removeAttr("rowspan").html(t.Editable.INVISIBLE_SPACE)):"after"==e&&o.after(o.clone().removeAttr("colspan").removeAttr("rowspan").html(t.Editable.INVISIBLE_SPACE))}"before"==e?this.triggerEvent("cellInsertedBefore"):"after"==e&&this.triggerEvent("cellInsertedAfter")},t.Editable.prototype.mergeCells=function(){var e=this.canMergeCells();if(e){var i=t(e.map[e.row][e.col]);i.attr("colspan",e.colspan),i.attr("rowspan",e.rowspan);for(var n=0;n<e.cells.length;n++){var o=e.cells[n];if(i.get(0)!=o){var s=t(o);i.append(s.html()),s.remove()}}this.setSelection(i.get(0))}this.hide(),this.triggerEvent("cellsMerged")},t.Editable.prototype.deleteCell=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]);n.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("cellDeleted")},t.Editable.prototype.insertHeader=function(){var t=this.currentTable();t&&t.find(" > thead").length>0&&this.triggerEvent("headerInserted")},t.Editable.prototype.deleteHeader=function(){},t.Editable.prototype.insertColumn=function(e){var i=this.currentCell();if(i)for(var n=t(i),o=this.tableMap(),s=this.cellOrigin(n.get(0),o),r=0;r<o.length;r++){var a=o[r][s.col],l=parseInt(t(a).attr("colspan"),10)||1,d=parseInt(t(a).attr("rowspan"),10)||1;if("before"==e){var h=o[r][s.col-1];h?h==a?t(h).attr("colspan",l+1):d>1?t(h).after("<"+h.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+h.tagName+">"):t(a).before("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):t(a).before("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}else if("after"==e){var p=o[r][s.col+1];p?p==a?t(p).attr("colspan",l+1):d>1?t(p).before("<"+p.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+p.tagName+">"):t(a).after("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):t(a).after("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}}this.hide(),"before"==e?this.triggerEvent("columnInsertedBefore"):"after"==e&&this.triggerEvent("columnInsertedAfter")},t.Editable.prototype.deleteColumn=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++)for(var n=t(e[i]),o=this.tableMap(),s=this.cellOrigin(n.get(0),o),r=0;r<o.length;r++){var a=o[r][s.col],l=parseInt(t(a).attr("colspan"),10)||1;1==l?t(a).remove():t(a).attr("colspan",l-1)}this.focusOnTable(),this.hide(),this.triggerEvent("columnDeleted")},t.Editable.prototype.insertRow=function(e){var i,n=this.currentCell();if(n){var o=t(n),s=this.tableMap(),r=this.cellOrigin(o.get(0),s),a=0,l=null;for(i=0;i<s[r.row].length;i++){var d=s[r.row][i],h=parseInt(t(d).attr("rowspan"),10)||1;if("above"==e)if(0===r.row)a++;else{var p=s[r.row-1][i];p==d&&l!=d?t(d).attr("rowspan",h+1):a++}else if("below"==e)if(r.row==s.length-1)a++;else{var c=s[r.row+1][i];c==d&&l!=d?t(d).attr("rowspan",h+1):a++}l=s[r.row][i]}var u="<tr>";for(i=0;a>i;i++)u+="<td>"+t.Editable.INVISIBLE_SPACE+"</td>";u+="</tr>","below"==e?o.closest("tr").after(u):"above"==e&&o.closest("tr").before(u)}this.hide(),"below"==e?this.triggerEvent("rowInsertedBelow"):"above"==e&&this.triggerEvent("rowInsertedAbove")},t.Editable.prototype.deleteRow=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),o=this.tableMap(),s=this.cellOrigin(n.get(0),o),r=n.parents("tr:first");if(s)for(var a=0;a<o[s.row].length;a++){var l=o[s.row][a],d=parseInt(t(l).attr("rowspan"),10)||1;if(1==d)t(l).remove();else{var h=this.cellOrigin(l,o);if(t(l).attr("rowspan",d-1),h.row==s.row){var p=o[s.row+1];p&&p[a-1]&&(t(p[a-1]).after(t(l).clone()),t(l).remove())}}}r.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("rowDeleted")},t.Editable.prototype.splitVertical=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),o=this.tableMap(),s=this.cellOrigin(n.get(0),o),r=parseInt(n.attr("colspan"),10)||1,a=parseInt(n.attr("rowspan"),10)||1;if(a>1){var l=Math.floor(a/2),d=s.row+(a-l),h=o[d][s.col-1];h||(h=o[d][s.col+r]),h?t(h).before(n.clone().attr("rowspan",l).html(t.Editable.INVISIBLE_SPACE)):n.parents("tr:first").after(t("<tr>").append(n.clone().attr("rowspan",l).html(t.Editable.INVISIBLE_SPACE))),n.attr("rowspan",a-l)}else{for(var p=t("<tr>").append(n.clone().html(t.Editable.INVISIBLE_SPACE)),c=null,u=0;u<o[s.row].length;u++){var f=o[s.row][u],m=parseInt(t(f).attr("rowspan"),10)||1;c!=f&&f!=n.get(0)&&t(f).attr("rowspan",m+1),c=f}n.parents("tr:first").after(p)}}this.hide(),this.triggerEvent("cellVerticalSplit")},t.Editable.prototype.splitHorizontal=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),o=this.tableMap(),s=this.cellOrigin(n.get(0),o),r=parseInt(n.attr("colspan"),10)||1;if(r>1){var a=Math.floor(r/2);n.after(n.clone().attr("colspan",a).html(t.Editable.INVISIBLE_SPACE)),n.attr("colspan",r-a)}else{for(var l=null,d=0;d<o.length;d++){var h=o[d][s.col],p=parseInt(t(h).attr("colspan"),10)||1;l!=h&&h!=n.get(0)&&t(h).attr("colspan",p+1),l=h}n.after(n.clone().html(t.Editable.INVISIBLE_SPACE))}}this.hide(),this.triggerEvent("cellHorizontalSplit")},t.Editable.prototype.insertTable=function(e,i){for(var n='<table data-last-table="true" width="100%">',o=0;e>o;o++){n+="<tr>";for(var s=0;i>s;s++)n+="<td>"+t.Editable.INVISIBLE_SPACE+"</td>";n+="</tr>"}n+="</table>",this.focus();var r=this.getSelectionElement();this.breakHTML(n,this.parents(t(r),"li").length<0);var a=this.$element.find('table[data-last-table="true"]');a.removeAttr("data-last-table"),this.setSelection(a.find("td:first").get(0)),this.hide(),this.triggerEvent("tableInserted")},t.Editable.prototype.deleteTable=function(){var t=this.currentTable();t&&(t.remove(),this.focus(),this.hide(),this.triggerEvent("tableDeleted"))},t.Editable.prototype.cleanupTables=function(){this.$element.find('td[colspan="1"], th[colspan="1"]').each(function(){t(this).removeAttr("colspan")}),this.$element.find('td[rowspan="1"], th[rowspan="1"]').each(function(){t(this).removeAttr("rowspan")})}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol",refresh:function(){},callback:function(t){this.formatList(t)},undo:!0},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul",refresh:function(){},callback:function(t){this.formatList(t)},undo:!0}}),t.Editable.prototype.refreshLists=function(){var e=t(this.getSelectionElement()),i=this.parents(e,"ul, ol");if(i.length>0){var n="insertUnorderedList";"OL"==i[0].tagName&&(n="insertOrderedList"),this.$editor.find('button[data-cmd="'+n+'"]').addClass("active")}},t.Editable.prototype.processBackspace=function(e){var i=e.prev();if(i.length){for(this.removeMarkers(),("UL"==i.get(0).tagName||"OL"==i.get(0).tagName)&&(i=i.find("li:last"));i.find("> ul, > ol").length;)i=i.find("> ul li:last, > ol li:last");var n=i.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote");if(0===i.text().length&&0===i.find("img, table, input, iframe, video").length)i.remove();else{if(this.emptyElement(i.get(0))||(this.keep_enter=!0,e.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote").each(function(e,i){t(i).replaceWith(t(i).html())}),this.keep_enter=!1),n.length)if(t(n[n.length-1]).append(this.markers_html),0===e.find("ul, ol").length)t(n[n.length-1]).append(e.html());else{for(var o=!1,s=e.contents(),r=0;r<s.length;r++){var a=s[r];["OL","UL"].indexOf(s[r].tagName)>=0&&(o=!0),o?t(n[n.length-1]).after(a):t(n[n.length-1]).append(a)}this.$element.find("breakli").remove();var l=n[n.length-1].nextSibling;l&&"BR"==l.tagName&&t(l).remove()}else this.emptyElement(i.get(0))?(this.$element.find("breakli").replaceWith(this.markers_html),i.html(e.html())):(i.append(this.markers_html),i.append(e.html()));e.remove(),this.cleanupLists(),this.restoreSelectionByMarkers()}this.$element.find("breakli").remove()}else this.$element.find("breakli").remove(),this.parents(e,"ul").length?this.formatList("insertUnorderedList",!1):this.formatList("insertOrderedList",!1);this.sync()},t.Editable.prototype.liBackspace=function(){if(""!==this.text())return!0;var e,i=this.getSelectionElement(),n=this.parents(t(i),"table, li");if(n.length>0&&"TABLE"===n[0].tagName)return!0;if(e="LI"==i.tagName?t(i):this.parents(t(i),"li:first"),this.removeMarkers(),this.emptyElement(e.get(0))?(e.prepend("<breakli></breakli>"),1==e.find("br").length&&e.find("br").remove()):this.insertHTML("<breakli></breakli>"),e.find("breakli").prev().length&&"TABLE"===e.find("breakli").prev().get(0).tagName&&e.find("breakli").next().length&&"BR"===e.find("breakli").next().get(0).tagName)return this.setSelection(e.find("breakli").prev().find("td:first").get(0)),e.find("breakli").next().remove(),this.$element.find("breakli").remove(),!1;for(var o,s=e.html(),r=[],a=0;a<s.length;a++){if(chr=s.charAt(a),"<"!=chr)return this.$element.find("breakli").remove(),!0;var l=s.indexOf(">",a+1);if(-1!==l){o=s.substring(a,l+1);var d=this.tagName(o);if(a=l,"breakli"==d){if(!this.isClosingTag(o)&&!this.isClosingTag(r[r.length-1]))return this.processBackspace(e),!1}else r.push(o)}}return this.$element.find("breakli").remove(),!0},t.Editable.prototype.textLiEnter=function(e){this.removeMarkers(),this.insertSimpleHTML("<breakli></breakli>",!1);var i,n,o=e.html(),s=[],r={},a=[],l=0,d=e.prop("attributes"),h="";for(n=0;n<d.length;n++)h+=" "+d[n].name+'="'+d[n].value+'"';var p=!1;for(n=0;n<o.length;n++)if(chr=o.charAt(n),"<"==chr){var c=o.indexOf(">",n+1);if(-1!==c){i=o.substring(n,c+1);var u=this.tagName(i);if(n=c,"breakli"==u){if(!this.isClosingTag(i)){for(var f=s.length-1;f>=0;f--){var m=this.tagName(s[f]);a.push("</"+m+">")}a.push("</li>"),a.push("<li"+h+">");for(var g=0;g<s.length;g++)a.push(s[g]);a.push('<span class="f-marker" data-type="false" data-collapsed="true" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-collapsed="true" data-id="0" data-fr-verified="true"></span>'),p=!1}}else if(a.push(i),p=!1,!this.isSelfClosingTag(i))if(this.isClosingTag(i)){var v=r[u].pop();s.splice(v,1)}else s.push(i),void 0===r[u]&&(r[u]=[]),r[u].push(s.length-1)}}else l++,32!=chr.charCodeAt(0)||p?(a.push(chr),p=!0):a.push("&nbsp;");var y=t(e.parents("ul, ol")[0]);e.replaceWith("<li"+h+">"+a.join("")+"</li>"),y.find("p:empty + table").prev().remove(),y.find("p + table").each(function(e,i){var n=t(i);n.prev().append(n.clone()),n.remove()}),y.find("table + p").each(function(e,i){var n=t(i);n.append(n.prev().clone()),n.prev().remove()}),this.keep_enter=!0,y.find(this.valid_nodes.join(",")).each(t.proxy(function(e,i){""===t(i).text().trim()&&0===t(i).find(this.valid_nodes.join(",")).length&&t(i).prepend(t.Editable.INVISIBLE_SPACE)},this)),this.keep_enter=!1},t.Editable.prototype.liEnter=function(){var e,i=this.getSelectionElement(),n=this.parents(t(i),"table, li");if(n.length>0&&"TABLE"==n[0].tagName)return!0;if(e="LI"==i.tagName?t(i):this.parents(t(i),"li:first"),this.getSelectionTextInfo(e.get(0)).atStart&&""===this.text())e.before("<li>"+t.Editable.INVISIBLE_SPACE+"</li>");else{if(0===this.trim(e.text()).length&&0===e.find("img, table, iframe, input, object").length)return this.outdent(!1),!1;this.textLiEnter(e),this.$element.find("breakli").remove(),this.restoreSelectionByMarkers()}return this.sync(),!1},t.Editable.prototype.listTab=function(){var e=t(this.getSelectionElement());return this.parents(e,"ul, ol").length>0&&0===this.parents(e,"table").length?(this.indent(),!1):void 0},t.Editable.prototype.listShiftTab=function(){var e=t(this.getSelectionElement());return this.parents(e,"ul, ol").length>0&&0===this.parents(e,"table").length?(this.outdent(),!1):void 0},t.Editable.prototype.indentList=function(t,e){return"LI"===t.get(0).tagName?(e?this.outdentLi(t):this.indentLi(t),this.cleanupLists(),!1):!0},t.Editable.prototype.initList=function(){this.addListener("tab",this.listTab),this.addListener("shift+tab",this.listShiftTab),this.addListener("refresh",this.refreshLists),this.addListener("indent",this.indentList),this.isImage||this.isLink||this.options.editInPopup||this.$element.on("keypress",t.proxy(function(e){if(["TEXTAREA","INPUT"].indexOf(e.target.tagName)<0&&!this.isHTML){var i=e.which,n=this.getSelectionElement();if("LI"==n.tagName||this.parents(t(n),"li").length>0){if(13==i&&!e.shiftKey&&this.options.multiLine)return this.liEnter();if(8==i)return this.liBackspace()}}},this))},t.Editable.initializers.push(t.Editable.prototype.initList),t.Editable.prototype.formatList=function(e,i){if(this.browser.msie&&t.Editable.getIEversion()<9)return document.execCommand(e,!1,!1),!1;void 0===i&&(i=!0);var n,o,s=!1,r=!0,a=!1,l=this.getSelectionElements(),d=this.parents(t(l[0]),"ul, ol");if(d.length&&("UL"===d[0].tagName?"insertUnorderedList"!=e&&(s=!0):"insertOrderedList"!=e&&(s=!0)),this.saveSelectionByMarkers(),s){n="ol","insertUnorderedList"===e&&(n="ul");var h=t(d[0]);h.replaceWith("<"+n+">"+h.html()+"</"+n+">")}else{for(var p=0;p<l.length;p++)if(o=t(l[p]),("TD"==o.get(0).tagName||"TH"==o.get(0).tagName)&&this.wrapTextInElement(o),this.parents(o,"li").length>0||"LI"==o.get(0).tagName){var c;c="LI"==o.get(0).tagName?o:t(o.parents("li")[0]);var u=this.parents(o,"ul, ol");if(u.length>0&&(n=u[0].tagName.toLowerCase(),c.before('<span class="close-'+n+'" data-fr-verified="true"></span>'),c.after('<span class="open-'+n+'" data-fr-verified="true"></span>')),0===this.parents(t(u[0]),"ol, ul").length||s)if(0===c.find(this.valid_nodes.join(",")).length){var f=c.html().replace(/\u200B/gi,"");this.options.paragraphy?(0===c.text().replace(/\u200B/gi,"").length&&(f+=c.find("br").length>0?"":this.br),f="<"+this.options.defaultTag+this.attrs(c.get(0))+">"+f,f=f+"</"+this.options.defaultTag+">"):f+=c.find("br").length>0?"":this.br,c.replaceWith(f)}else c.replaceWith(c.html().replace(/\u200B/gi,""));else this.parents(t(u[0]),"ol, ul").length>0&&(c.append('<span class="open-li" data-fr-verified="true"></span>'),c.before('<span class="close-li" data-fr-verified="true"></span>'));a=!0}else r=!1;a&&this.cleanupLists(),(r===!1||s===!0)&&(this.wrapText(),this.restoreSelectionByMarkers(),l=this.getSelectionElements(),this.saveSelectionByMarkers(),this.elementsToList(l,e),this.unwrapText(),this.cleanupLists())}this.options.paragraphy&&!s&&this.wrapText(!0),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),e="insertUnorderedList"==e?"unorderedListInserted":"orderedListInserted",this.triggerEvent(e)},t.Editable.prototype.elementsToList=function(e,i){var n="<ol>";"insertUnorderedList"==i&&(n="<ul>"),e[0]==this.$element.get(0)&&(e=this.$element.find("> "+this.valid_nodes.join(", >")));for(var o=0;o<e.length;o++){var s=t(n);$element=t(e[o]),$element.get(0)!=this.$element.get(0)&&("TD"===$element.get(0).tagName||"TH"===$element.get(0).tagName?(this.wrapTextInElement($element,!0),this.elementsToList($element.find("> "+this.valid_nodes.join(", >")),i)):(""===$element.attr("class")&&$element.removeAttr("class"),s.append(t("<li>").html($element.get(0).tagName==this.options.defaultTag&&0===$element.get(0).attributes.length?$element.clone().html():$element.clone())),$element.replaceWith(s)))}},t.Editable.prototype.indentLi=function(e){var i=e.parents("ul, ol"),n=i.get(0).tagName.toLowerCase();e.find("> ul, > ol").length>0&&e.prev("li").length>0?(this.wrapTextInElement(e),e.find("> "+this.valid_nodes.join(" , > ")).each(function(e,i){t(i).wrap("<"+n+"></"+n+">").wrap("<li></li>")}),e.prev("li").append(e.find("> ul, > ol")),e.remove()):0===e.find("> ul, > ol").length&&e.prev("li").length>0&&(e.prev().append(t("<"+n+">").append(e.clone())),e.remove(),t(i.find("li").get().reverse()).each(function(e,i){var n=t(i);n.find(" > ul, > ol").length>0&&n.prev()&&n.prev().find(" > ul, > ol").length>0&&1===n.contents().length&&(n.prev().append(n.html()),n.remove())}))},t.Editable.prototype.outdentLi=function(e){var i=t(e.parents("ul, ol")[0]),n=this.parents(i,"ul, ol"),o=i.get(0).tagName.toLowerCase();0===e.prev("li").length&&this.parents(e,"li").length>0?(e.before('<span class="close-'+o+'" data-fr-verified="true"></span>'),e.before('<span class="close-li" data-fr-verified="true"></span>'),e.before('<span class="open-li" data-fr-verified="true"></span>'),e.after('<span class="open-'+o+'" data-fr-verified="true"></span>'),e.replaceWith(e.html())):(e.before('<span class="close-'+o+'" data-fr-verified="true"></span>'),e.after('<span class="open-'+o+'" data-fr-verified="true"></span>'),this.parents(e,"li").length>0&&(e.before('<span class="close-li" data-fr-verified="true"></span>'),e.after('<span class="open-li" data-fr-verified="true"></span>'))),n.length||(0===e.find(this.valid_nodes.join(",")).length?e.replaceWith(e.html().replace(/\u200b/gi,"")+this.br):(e.find(this.valid_nodes.join(", ")).each(t.proxy(function(e,i){this.emptyElement(i)&&t(i).append(this.br)},this)),e.replaceWith(e.html().replace(/\u200b/gi,""))))},t.Editable.prototype.listTextEmpty=function(e){var i=t(e).text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return(""===i||e===this.$element.get(0))&&1===t(e).find("br").length}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{mediaManager:!0,imagesLoadURL:"http://i.froala.com/images",imagesLoadParams:{}}),t.Editable.prototype.showMediaManager=function(){this.$image_modal.show(),this.$overlay.show(),this.loadImages(),this.$document.find("body").css("overflow","hidden")},t.Editable.prototype.hideMediaManager=function(){this.$image_modal.hide(),this.$overlay.hide(),this.$document.find("body").css("overflow","")},t.Editable.prototype.mediaModalHTML=function(){var t='<div class="froala-modal"><div class="f-modal-wrapper"><h4><span data-text="true">Manage images</span><i title="Cancel" class="fa fa-times" id="f-modal-close-'+this._id+'"></i></h4>';return t+='<img class="f-preloader" id="f-preloader-'+this._id+'" alt="Loading..." src="'+this.options.preloaderSrc+'" style="display: none;">',t+=WYSIWYGModernizr.touch?'<div class="f-image-list f-touch" id="f-image-list-'+this._id+'"></div>':'<div class="f-image-list" id="f-image-list-'+this._id+'"></div>',t+="</div></div>"},t.Editable.prototype.buildMediaManager=function(){this.$image_modal=t(this.mediaModalHTML()).appendTo("body"),this.$preloader=this.$image_modal.find("#f-preloader-"+this._id),this.$media_images=this.$image_modal.find("#f-image-list-"+this._id),this.$overlay=t('<div class="froala-overlay">').appendTo("body"),this.$overlay.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$image_modal.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$image_modal.find("i#f-modal-close-"+this._id).click(t.proxy(function(){this.hideMediaManager()},this)),this.$media_images.on(this.mouseup,"img",t.proxy(function(e){e.stopPropagation();var i=e.currentTarget;this.writeImage(t(i).attr("src")),this.hideMediaManager()},this)),this.$media_images.on(this.mouseup,".f-delete-img",t.proxy(function(e){e.stopPropagation();var i=t(e.currentTarget).prev(),n="Are you sure? Image will be deleted.";t.Editable.LANGS[this.options.language]&&(n=t.Editable.LANGS[this.options.language].translation[n]),confirm(n)&&this.triggerEvent("beforeDeleteImage",[t(i)],!1)!==!1&&(t(i).parent().addClass("f-img-deleting"),this.deleteImage(t(i)))},this)),this.options.mediaManager&&(this.$image_wrapper.on("click","#f-browser-"+this._id,t.proxy(function(){this.showMediaManager()},this)).on("click","#f-browser-"+this._id+" i",t.proxy(function(){this.showMediaManager()},this)),this.$image_wrapper.find("#f-browser-"+this._id).show()),this.hideMediaManager()},t.Editable.prototype.destroyMediaManager=function(){this.hideMediaManager(),this.$overlay.html("").removeData().remove(),this.$image_modal.html("").removeData().remove()},t.Editable.prototype.initMediaManager=function(){return this.options.mediaManager?(this.buildMediaManager(),void this.addListener("destroy",this.destroyMediaManager)):!1},t.Editable.initializers.push(t.Editable.prototype.initMediaManager),t.Editable.prototype.processLoadedImages=function(t){try{if(t.error)this.throwImagesLoadErrorWithMessage(t.error);else{this.$media_images.empty();for(var e=0;e<t.length;e++)t[e].src?this.loadImage(t[e].src,t[e].info):this.loadImage(t[e])}}catch(i){this.throwLoadImagesError(4)}},t.Editable.prototype.throwImagesLoadErrorWithMessage=function(t){this.triggerEvent("imagesLoadError",[{message:t,code:0}],!1),this.hideImageLoader()},t.Editable.prototype.loadImages=function(){this.$preloader.show(),this.$media_images.empty(),this.options.imagesLoadURL?(t.support.cors=!0,t.getJSON(this.options.imagesLoadURL,this.options.imagesLoadParams,t.proxy(function(t){this.triggerEvent("imagesLoaded",[t],!1),this.processLoadedImages(t),this.$preloader.hide()},this)).fail(t.proxy(function(){this.throwLoadImagesError(2)},this))):this.throwLoadImagesError(3)},t.Editable.prototype.throwLoadImagesError=function(t){void 0===t&&(t=-1);var e="Unknown image upload error.";1==t?e="Bad link.":2==t?e="Error during request.":3==t?e="Missing imagesLoadURL option.":4==t&&(e="Parsing response failed."),this.triggerEvent("imagesLoadError",[{code:t,message:e}],!1),this.$preloader.hide()},t.Editable.prototype.loadImage=function(e,i){var n=new Image,o=t("<div>").addClass("f-empty");n.onload=t.proxy(function(){var n="Delete";t.Editable.LANGS[this.options.language]&&(n=t.Editable.LANGS[this.options.language].translation[n]);var s=t('<img src="'+e+'"/>');for(var r in i)s.attr("data-"+r,i[r]);o.append(s).append('<a class="f-delete-img"><span data-text="true">'+n+"</span></a>"),o.removeClass("f-empty"),this.$media_images.hide(),this.$media_images.show(),this.triggerEvent("imageLoaded",[e],!1)},this),n.onerror=t.proxy(function(){o.remove(),this.throwLoadImagesError(1)},this),n.src=e,this.$media_images.append(o)}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshFontSize=function(){var e=t(this.getSelectionElement()),i=parseInt(e.css("font-size").replace(/px/g,""),10)||16;this.$editor.find('.fr-dropdown > button[data-name="fontSize"] + ul li').removeClass("active"),this.$editor.find('.fr-dropdown > button[data-name="fontSize"] + ul li[data-val="'+i+'px"]').addClass("active")},t.Editable.commands=t.extend(t.Editable.commands,{fontSize:{title:"Font Size",icon:"fa fa-text-height",refreshOnShow:t.Editable.prototype.refreshFontSize,seed:[{min:11,max:52}],undo:!0,callback:function(t,e){this.inlineStyle("font-size",t,e)},callbackWithoutSelection:function(t,e){this._startInFontExec("font-size",t,e)}}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{fontSize:function(t){var e=this.buildDropdownFontsize(t),i=this.buildDropdownButton(t,e);return i}}),t.Editable.prototype.buildDropdownFontsize=function(t){for(var e='<ul class="fr-dropdown-menu f-font-sizes">',i=0;i<t.seed.length;i++)for(var n=t.seed[i],o=n.min;o<=n.max;o++)e+='<li data-cmd="'+t.cmd+'" data-val="'+o+'px"><a href="#"><span>'+o+"px</span></a></li>";return e+="</ul>"}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshInlineStyles=function(){var e=this.getSelectionElements()[0],i=e.tagName.toLowerCase();this.$bttn_wrapper.find(".fr-block-style").empty();var n=this.options.blockStyles[i];if(void 0===n&&(n=this.options.defaultBlockStyle),void 0!==n){this.$bttn_wrapper.find('.fr-dropdown > button[data-name="blockStyle"].fr-trigger').removeAttr("disabled");for(var o in n){var s=n[o],r="";t(e).hasClass(o)&&(r=' class="active"'),this.$bttn_wrapper.find(".fr-block-style").append(t("<li"+r+">").append(t('<a href="#" data-text="true">').text(s).addClass(o)).attr("data-cmd","blockStyle").attr("data-val",o))}}},t.Editable.commands=t.extend(t.Editable.commands,{inlineStyle:{title:"Inline Style",icon:"fa fa-paint-brush",refreshOnShow:t.Editable.prototype.refreshInlineStyles,callback:function(t,e){this.applyInlineStyles(e)},callbackWithoutSelection:function(t,e){this.applyInlineStyles(e)}}}),t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{inlineStyle:function(t){var e=this.buildDropdownInlineStyle(),i=this.buildDropdownButton(t,e);return i}}),t.Editable.prototype.buildDropdownInlineStyle=function(){var t='<ul class="fr-dropdown-menu fr-inline-style">';for(var e in this.options.inlineStyles)t+='<li data-cmd="inlineStyle" data-val="'+e+'"><a href="#" style="'+this.options.inlineStyles[e]+'">'+e+"</a></li>";return t+="</ul>"},t.Editable.prototype.applyInlineStyles=function(e){this.insertHTML(""!==this.text()?this.start_marker+'<span data-fr-verified="true" style="'+this.options.inlineStyles[e]+'">'+this.text()+"</span>"+this.end_marker:'<span data-fr-verified="true" style="'+this.options.inlineStyles[e]+'">'+this.markers_html+t.Editable.INVISIBLE_SPACE+"</span>"),this.restoreSelectionByMarkers(),this.triggerEvent("inlineStyle")},t.Editable.prototype.startInInlineStyles=function(t){for(var e in this.options.inlineStyles[t])this._startInFontExec(e.replace(/([A-Z])/g,"-$1").toLowerCase(),null,this.options.inlineStyles[t][e]);this.triggerEvent("inlineStyle")}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshBlockStyles=function(){var e=this.getSelectionElements()[0],i=e.tagName.toLowerCase();this.$bttn_wrapper.find(".fr-block-style").empty();var n=this.options.blockStyles[i];if(void 0===n&&(n=this.options.defaultBlockStyle),void 0!==n){this.$bttn_wrapper.find('.fr-dropdown > button[data-name="blockStyle"].fr-trigger').removeAttr("disabled");for(var o in n){var s=n[o],r="";t(e).hasClass(o)&&(r=' class="active"'),this.$bttn_wrapper.find(".fr-block-style").append(t("<li"+r+">").append(t('<a href="#" data-text="true">').text(s).addClass(o)).attr("data-cmd","blockStyle").attr("data-val",o))}}},t.Editable.commands=t.extend(t.Editable.commands,{blockStyle:{title:"Block Style",icon:"fa fa-magic",refreshOnShow:t.Editable.prototype.refreshBlockStyles,callback:function(t,e,i){this.blockStyle(e,i)},undo:!0}}),t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{defaultBlockStyle:{"f-italic":"Italic","f-typewriter":"Typewriter","f-spaced":"Spaced","f-uppercase":"Uppercase"},blockStylesToggle:!0,blockStyles:{}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{blockStyle:function(t){var e=this.buildDropdownBlockStyle(t),i=this.buildDropdownButton(t,e);return i}}),t.Editable.prototype.buildDropdownBlockStyle=function(){var t='<ul class="fr-dropdown-menu fr-block-style">';return t+="</ul>"},t.Editable.prototype.blockStyle=function(e){this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var i=this.getSelectionElements()[0].tagName;this.saveSelectionByMarkers();for(var n=this.getSelectionElements(),o=0;o<n.length;o++){var s=n[o];s!=this.$element.get(0)&&s.tagName==i&&(t(s).find(n).length>0||(t(s).hasClass(e)?(t(s).removeClass(e),""===t(s).attr("class")&&t(s).removeAttr("class")):(this.options.blockStylesToggle&&t(s).removeAttr("class"),t(s).addClass(e))))}this.cleanupLists(),this.restoreSelectionByMarkers(),this.triggerEvent("blockStyle")}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.URLRegEx=/(\s|^|>)((http|https|ftp|ftps)\:\/\/[a-zA-Z0-9\-\.]+(\.[a-zA-Z]{2,3})?(:\d*)?(\/[^\s<]*)?)(\s|$|<)/gi,t.Editable.prototype.convertURLs=function(e){var i=this;e.each(function(){if("IFRAME"!=this.tagName)if(3==this.nodeType){var e=this.textContent.replace(/&nbsp;/gi,"");t.Editable.URLRegEx.test(e)&&(t(this).before(e.replace(t.Editable.URLRegEx,'$1<a href="$2">$2</a>$7')),t(this).remove())}else 1==this.nodeType&&["A","BUTTON","TEXTAREA"].indexOf(this.tagName)<0&&i.convertURLs(t(this).contents())})},t.Editable.prototype.processURLs=function(){this.$original_element.on("editable.afterPasteCleanup",function(e,i,n){return t.Editable.URLRegEx.test(n)?n.replace(t.Editable.URLRegEx,'$1<a href="$2">$2</a>$7'):void 0}),this.$original_element.on("editable.keyup",function(t,e,i){var n=i.which;(32==n||13==n)&&e.convertURLs(e.$element.contents())}),this.$original_element.on("editable.keydown",function(e,i,n){var o=n.which;if(32==o){var s=i.getSelectionElement();if(("A"==s.tagName||t(s).parents("a").length)&&i.getSelectionTextInfo(s).atEnd)return e.stopImmediatePropagation(),"A"!==s.tagName&&(s=t(s).parents("a")[0]),t(s).after('&nbsp;<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),i.restoreSelectionByMarkers(),!1}})},t.Editable.initializers.push(t.Editable.prototype.processURLs)}(jQuery),/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var t,e,i,n,o,s,r,a,l=[].slice,d={}.hasOwnProperty,h=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};r=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,o,s;if(n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(o=0,s=i.length;s>o;o++)e=i[o],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,o,s,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[t],!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(o=s=0,r=n.length;r>s;o=++s)if(i=n[o],i===e){n.splice(o,1);break}return this},t}(),t=function(t){function i(t,e){var o,s,r;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,o=null!=(r=i.optionsForElement(this.element))?r:{},this.options=n({},this.defaultOptions,o,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}var n,o;return h(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return r},forceFallback:!1,fallback:function(){var t,e,n,o,s,r;for(this.element.className=""+this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),o=0,s=r.length;s>o;o++)t=r[o],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),n=e.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,o,s,r,a,l,d,h,p,c,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),p=t.previewElement.querySelectorAll("[data-dz-name]"),s=0,l=p.length;l>s;s++)e=p[s],e.textContent=t.name;for(c=t.previewElement.querySelectorAll("[data-dz-size]"),r=0,d=c.length;d>r;r++)e=c[r],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),u=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,h=u.length;h>a;a++)o=u[a],f.push(o.addEventListener("click",n));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,o,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),s=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,o=s.length;o>n;n++)i=s[n],i.alt=t.name,i.src=e;return setTimeout(function(){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,o,s,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),s=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(i.textContent=e);return r}},errormultiple:r,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:r,uploadprogress:function(t,e){var i,n,o,s,r;if(t.previewElement){for(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push("PROGRESS"===i.nodeName?i.value=e:i.style.width=""+e+"%");return r}},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:r,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:r,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,queuecomplete:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,o,s,r;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],s=0,r=i.length;r>s;s++){e=i[s];for(t in e)o=e[t],n[t]=o}return n},i.prototype.getAcceptedFiles=function(){var t,e,i,n,o;for(n=this.files,o=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted&&o.push(t);return o},i.prototype.getRejectedFiles=function(){var t,e,i,n,o;for(n=this.files,o=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted||o.push(t);return o},i.prototype.getFilesWithStatus=function(t){var e,i,n,o,s;for(o=this.files,s=[],i=0,n=o.length;n>i;i++)e=o[i],e.status===t&&s.push(e);return s},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){var t,e,n,o,s;for(o=this.files,s=[],e=0,n=o.length;n>e;e++)t=o[e],(t.status===i.UPLOADING||t.status===i.QUEUED)&&s.push(t);return s},i.prototype.init=function(){var t,e,n,o,s,r,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,o,s;if(i=t.hiddenFileInput.files,i.length)for(o=0,s=i.length;s>o;o++)e=i[o],t.addFile(e);return n()})}}(this))(),this.URL=null!=(r=window.URL)?r:window.webkitURL,a=this.events,o=0,s=a.length;s>o;o++)t=a[o],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(o){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return e!==t.element||n.target===t.element||i.elementInside(n.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,n,o,s,r,a;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),s=0,r=a.length;r>s;s++)e=a[s],n+=e.upload.bytesSent,i+=e.upload.total;o=100*n/i}else o=100;return this.emit("totaluploadprogress",o,i,n)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype.getFallbackForm=function(){var t,e,n,o;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(n),"FORM"!==this.element.tagName?(o=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:e)},i.prototype.getExistingFallback=function(){var t,e,i,n,o,s;for(e=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},s=["div","form"],n=0,o=s.length;o>n;n++)if(i=s[n],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,n,o,s,r;for(s=this.listeners,r=[],n=0,o=s.length;o>n;n++)t=s[n],r.push(function(){var n,o;n=t.events,o=[];for(e in n)i=n[e],o.push(t.element.addEventListener(e,i,!1));return o}());return r},i.prototype.removeEventListeners=function(){var t,e,i,n,o,s,r;for(s=this.listeners,r=[],n=0,o=s.length;o>n;n++)t=s[n],r.push(function(){var n,o;n=t.events,o=[];for(e in n)i=n[e],o.push(t.element.removeEventListener(e,i,!1));return o}());return r},i.prototype.disable=function(){var t,e,i,n,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(this.cancelUpload(t));return o},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,n,o,s,r,a,l;for(r=["TB","GB","MB","KB","b"],n=o=null,i=a=0,l=r.length;l>a;i=++a)if(s=r[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),o=s;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+o},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;n>i;i++)e=t[i],o.push(this.addFile(e));return o},i.prototype._addFilesFromItems=function(t){var e,i,n,o,s;for(s=[],n=0,o=t.length;o>n;n++)i=t[n],s.push(null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?this.addFile(i.getAsFile()):e.isDirectory?this._addFilesFromDirectory(e,e.name):void 0:null!=i.getAsFile?null==i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return s},i.prototype._addFilesFromDirectory=function(t,e){var i,n;return i=t.createReader(),n=function(t){return function(i){var n,o,s;for(o=0,s=i.length;s>o;o++)n=i[o],n.isFile?n.file(function(i){return t.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+e+"/"+i.name,t.addFile(i))}):n.isDirectory&&t._addFilesFromDirectory(n,""+e+"/"+n.name)}}(this),i.readEntries(n,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},i.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(t){return t.status===i.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(t){var e,n,o,s;for(null==t&&(t=!1),s=this.files.slice(),n=0,o=s.length;o>n;n++)e=s[n],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},i.prototype.createThumbnailFromUrl=function(t,e,i){var n;return n=document.createElement("img"),n.onload=function(e){return function(){var o,r,a,l,d,h,p,c;return t.width=n.width,t.height=n.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),o=document.createElement("canvas"),r=o.getContext("2d"),o.width=a.trgWidth,o.height=a.trgHeight,s(r,n,null!=(d=a.srcX)?d:0,null!=(h=a.srcY)?h:0,a.srcWidth,a.srcHeight,null!=(p=a.trgX)?p:0,null!=(c=a.trgY)?c:0,a.trgWidth,a.trgHeight),l=o.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=e},i.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;e>t;){if(!n.length)return;this.processFile(n.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,n,o;for(n=0,o=t.length;o>n;n++)e=t[n],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,n,o,s;for(o=this.files,s=[],i=0,n=o.length;n>i;i++)e=o[i],e.xhr===t&&s.push(e);return s}.call(this)},i.prototype.cancelUpload=function(t){var e,n,o,s,r,a,l;if(t.status===i.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),o=0,r=n.length;r>o;o++)e=n[o],e.status=i.CANCELED;for(t.xhr.abort(),s=0,a=n.length;a>s;s++)e=n[s],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=t.status)===i.ADDED||l===i.QUEUED)&&(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},o=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,s,r,a,l,d,h,p,c,u,f,m,g,v,y,b,w,x,k,E,C,$,T,S,_,I,L,N,D,A,M,j,P,R;for(k=new XMLHttpRequest,E=0,S=t.length;S>E;E++)e=t[E],e.xhr=k;m=o(this.options.method,t),w=o(this.options.url,t),k.open(m,w,!0),k.withCredentials=!!this.options.withCredentials,y=null,r=function(i){return function(){var n,o,s;for(s=[],n=0,o=t.length;o>n;n++)e=t[n],s.push(i._errorProcessing(t,y||i.options.dictResponseError.replace("{{statusCode}}",k.status),k));return s}}(this),b=function(i){return function(n){var o,s,r,a,l,d,h,p,c;if(null!=n)for(s=100*n.loaded/n.total,r=0,d=t.length;d>r;r++)e=t[r],e.upload={progress:s,total:n.total,bytesSent:n.loaded};else{for(o=!0,s=100,a=0,h=t.length;h>a;a++)e=t[a],(100!==e.upload.progress||e.upload.bytesSent!==e.upload.total)&&(o=!1),e.upload.progress=s,e.upload.bytesSent=e.upload.total;if(o)return}for(c=[],l=0,p=t.length;p>l;l++)e=t[l],c.push(i.emit("uploadprogress",e,s,e.upload.bytesSent));return c}}(this),k.onload=function(e){return function(n){var o;if(t[0].status!==i.CANCELED&&4===k.readyState){if(y=k.responseText,k.getResponseHeader("content-type")&&~k.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(s){n=s,y="Invalid JSON response from server."}return b(),200<=(o=k.status)&&300>o?e._finished(t,y,n):r()}}}(this),k.onerror=function(){return function(){return t[0].status!==i.CANCELED?r():void 0}}(this),v=null!=(D=k.upload)?D:k,v.onprogress=b,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(d,this.options.headers);for(a in d)l=d[a],k.setRequestHeader(a,l);if(s=new FormData,this.options.params){A=this.options.params;for(f in A)x=A[f],s.append(f,x)}for(C=0,_=t.length;_>C;C++)e=t[C],this.emit("sending",e,k,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,k,s),"FORM"===this.element.tagName)for(M=this.element.querySelectorAll("input, textarea, select, button"),$=0,I=M.length;I>$;$++)if(p=M[$],c=p.getAttribute("name"),u=p.getAttribute("type"),"SELECT"===p.tagName&&p.hasAttribute("multiple"))for(j=p.options,T=0,L=j.length;L>T;T++)g=j[T],g.selected&&s.append(c,g.value);else(!u||"checkbox"!==(P=u.toLowerCase())&&"radio"!==P||p.checked)&&s.append(c,p.value);for(h=N=0,R=t.length-1;R>=0?R>=N:N>=R;h=R>=0?++N:--N)s.append(this._getParamName(h),t[h],t[h].name);return k.send(s)},i.prototype._finished=function(t,e,n){var o,s,r;for(s=0,r=t.length;r>s;s++)o=t[s],o.status=i.SUCCESS,this.emit("success",o,e,n),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(t,e,n){var o,s,r;for(s=0,r=t.length;r>s;s++)o=t[s],o.status=i.ERROR,this.emit("error",o,e,n),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i}(e),t.version="4.0.1",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,o,s,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,o,s;for(s=[],i=0,o=t.length;o>i;i++)e=t[i],s.push(/(^| )dropzone($| )/.test(e.className)?n.push(e):void 0);return s},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],o=0,s=n.length;s>o;o++)i=n[o],r.push(t.optionsForElement(i)!==!1?new t(i):void 0);return r},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,o,s;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=t.blacklistedBrowsers,n=0,o=s.length;o>n;n++)i=s[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var i,n,o,s;for(s=[],n=0,o=t.length;o>n;n++)i=t[n],i!==e&&s.push(i);return s},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,o,s,r,a,l,d;if(t instanceof Array){o=[];try{for(s=0,a=t.length;a>s;s++)n=t[s],o.push(this.getElement(n,e))}catch(h){i=h,o=null}}else if("string"==typeof t)for(o=[],d=document.querySelectorAll(t),r=0,l=d.length;l>r;r++)n=d[r],o.push(n);else null!=t.nodeType&&(o=[t]);if(null==o||!o.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,o,s,r;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),s=0,r=e.length;r>s;s++)if(o=e[s],o=o.trim(),"."===o.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(t){var e,i,n,o,s,r,a,l,d,h;for(a=t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,n=i.getContext("2d"),n.drawImage(t,0,0),o=n.getImageData(0,0,1,r).data,h=0,s=r,l=r;l>h;)e=o[4*(l-1)+3],0===e?s=l:h=l,l=s+h>>1;return d=l/r,0===d?1:d},s=function(t,e,i,n,s,r,a,l,d,h){var p;return p=o(e),t.drawImage(e,i,n,s,r,a,l,d,h/p)},n=function(t,e){var i,n,o,s,r,a,l,d,h;if(o=!1,h=!0,n=t.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",s=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?t:n)[l](a+i.type,s,!1),!o&&(o=!0)?e.call(t,i.type||i):void 0):void 0},r=function(){var t;try{d.doScroll("left")}catch(e){return t=e,void setTimeout(r,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{h=!t.frameElement}catch(p){}h&&r()}return n[i](a+"DOMContentLoaded",s,!1),n[i](a+"readystatechange",s,!1),t[i](a+"load",s,!1)}}}.call(this),/*
 * jQuery MiniColors: A tiny color picker built on jQuery
 *
 * Copyright Cory LaViska for A Beautiful Site, LLC. (http://www.abeautifulsite.net/)
 *
 * Licensed under the MIT license: http://opensource.org/licenses/MIT
 *
 */
jQuery&&function(t){function e(e,i){var n=t('<div class="minicolors" />'),o=t.minicolors.defaults;e.data("minicolors-initialized")||(i=t.extend(!0,{},o,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity),void 0!==i.position&&t.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),i.inline||(e.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&e.parent().addClass("minicolors-inline"),a(e,!1),e.data("minicolors-initialized",!0))}function i(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function n(t){var e=t.parent(),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(o(),e.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(t.get(0))}))}function o(){t(".minicolors-focus").each(function(){var e=t(this),i=e.find(".minicolors-input"),n=e.find(".minicolors-panel"),o=i.data("minicolors-settings");n.fadeOut(o.hideSpeed,function(){o.hide&&o.hide.call(i.get(0)),e.removeClass("minicolors-focus")})})}function s(t,e,i){var n,o,s,a,l=t.parents(".minicolors").find(".minicolors-input"),d=l.data("minicolors-settings"),h=t.find("[class$=-picker]"),p=t.offset().left,c=t.offset().top,u=Math.round(e.pageX-p),f=Math.round(e.pageY-c),m=i?d.animationSpeed:0;e.originalEvent.changedTouches&&(u=e.originalEvent.changedTouches[0].pageX-p,f=e.originalEvent.changedTouches[0].pageY-c),0>u&&(u=0),0>f&&(f=0),u>t.width()&&(u=t.width()),f>t.height()&&(f=t.height()),t.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(n=75-u,o=75-f,s=Math.sqrt(n*n+o*o),a=Math.atan2(o,n),0>a&&(a+=2*Math.PI),s>75&&(s=75,u=75-75*Math.cos(a),f=75-75*Math.sin(a)),u=Math.round(u),f=Math.round(f)),t.is(".minicolors-grid")?h.stop(!0).animate({top:f+"px",left:u+"px"},m,d.animationEasing,function(){r(l,t)}):h.stop(!0).animate({top:f+"px"},m,d.animationEasing,function(){r(l,t)})}function r(t,e){function i(t,e){var i,n;return t.length&&e?(i=t.offset().left,n=t.offset().top,{x:i-e.offset().left+t.outerWidth()/2,y:n-e.offset().top+t.outerHeight()/2}):null}var n,o,s,r,a,d,h,c=t.val(),f=t.attr("data-opacity"),m=t.parent(),v=t.data("minicolors-settings"),y=m.find(".minicolors-swatch"),b=m.find(".minicolors-grid"),w=m.find(".minicolors-slider"),x=m.find(".minicolors-opacity-slider"),k=b.find("[class$=-picker]"),E=w.find("[class$=-picker]"),C=x.find("[class$=-picker]"),$=i(k,b),T=i(E,w),S=i(C,x);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":r=b.width()/2-$.x,a=b.height()/2-$.y,d=Math.sqrt(r*r+a*a),h=Math.atan2(a,r),0>h&&(h+=2*Math.PI),d>75&&(d=75,$.x=69-75*Math.cos(h),$.y=69-75*Math.sin(h)),o=u(d/.75,0,100),n=u(180*h/Math.PI,0,360),s=u(100-Math.floor(T.y*(100/w.height())),0,100),c=g({h:n,s:o,b:s}),w.css("backgroundColor",g({h:n,s:o,b:100}));break;case"saturation":n=u(parseInt($.x*(360/b.width()),10),0,360),o=u(100-Math.floor(T.y*(100/w.height())),0,100),s=u(100-Math.floor($.y*(100/b.height())),0,100),c=g({h:n,s:o,b:s}),w.css("backgroundColor",g({h:n,s:100,b:s})),m.find(".minicolors-grid-inner").css("opacity",o/100);break;case"brightness":n=u(parseInt($.x*(360/b.width()),10),0,360),o=u(100-Math.floor($.y*(100/b.height())),0,100),s=u(100-Math.floor(T.y*(100/w.height())),0,100),c=g({h:n,s:o,b:s}),w.css("backgroundColor",g({h:n,s:o,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:n=u(360-parseInt(T.y*(360/w.height()),10),0,360),o=u(Math.floor($.x*(100/b.width())),0,100),s=u(100-Math.floor($.y*(100/b.height())),0,100),c=g({h:n,s:o,b:s}),b.css("backgroundColor",g({h:n,s:100,b:100}))}t.val(p(c,v.letterCase))}e.is(".minicolors-opacity-slider")&&(f=v.opacity?parseFloat(1-S.y/x.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",f)),y.find("SPAN").css({backgroundColor:c,opacity:f}),l(t,c,f)}function a(t,e){var i,n,o,s,r,a,d,h=t.parent(),f=t.data("minicolors-settings"),m=h.find(".minicolors-swatch"),y=h.find(".minicolors-grid"),b=h.find(".minicolors-slider"),w=h.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),k=b.find("[class$=-picker]"),E=w.find("[class$=-picker]");switch(i=p(c(t.val(),!0),f.letterCase),i||(i=p(c(f.defaultValue,!0),f.letterCase)),n=v(i),e||t.val(i),f.opacity&&(o=""===t.attr("data-opacity")?1:u(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),t.attr("data-opacity",o),m.find("SPAN").css("opacity",o),r=u(w.height()-w.height()*o,0,w.height()),E.css("top",r+"px")),m.find("SPAN").css("backgroundColor",i),f.control){case"wheel":a=u(Math.ceil(.75*n.s),0,y.height()/2),d=n.h*Math.PI/180,s=u(75-Math.cos(d)*a,0,y.width()),r=u(75-Math.sin(d)*a,0,y.height()),x.css({top:r+"px",left:s+"px"}),r=150-n.b/(100/y.height()),""===i&&(r=0),k.css("top",r+"px"),b.css("backgroundColor",g({h:n.h,s:n.s,b:100}));break;case"saturation":s=u(5*n.h/12,0,150),r=u(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),x.css({top:r+"px",left:s+"px"}),r=u(b.height()-n.s*(b.height()/100),0,b.height()),k.css("top",r+"px"),b.css("backgroundColor",g({h:n.h,s:100,b:n.b})),h.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":s=u(5*n.h/12,0,150),r=u(y.height()-Math.ceil(n.s/(100/y.height())),0,y.height()),x.css({top:r+"px",left:s+"px"}),r=u(b.height()-n.b*(b.height()/100),0,b.height()),k.css("top",r+"px"),b.css("backgroundColor",g({h:n.h,s:n.s,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:s=u(Math.ceil(n.s/(100/y.width())),0,y.width()),r=u(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),x.css({top:r+"px",left:s+"px"}),r=u(b.height()-n.h/(360/b.height()),0,b.height()),k.css("top",r+"px"),y.css("backgroundColor",g({h:n.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,i,o)}function l(t,e,i){var n=t.data("minicolors-settings"),o=t.data("minicolors-lastChange");o&&o.hex===e&&o.opacity===i||(t.data("minicolors-lastChange",{hex:e,opacity:i}),n.change&&(n.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(t.get(0),e,i)},n.changeDelay))):n.change.call(t.get(0),e,i)),t.trigger("change").trigger("input"))}function d(e){var i=c(t(e).val(),!0),n=b(i),o=t(e).attr("data-opacity");return n?(void 0!==o&&t.extend(n,{a:parseFloat(o)}),n):null}function h(e,i){var n=c(t(e).val(),!0),o=b(n),s=t(e).attr("data-opacity");return o?(void 0===s&&(s=1),i?"rgba("+o.r+", "+o.g+", "+o.b+", "+parseFloat(s)+")":"rgb("+o.r+", "+o.g+", "+o.b+")"):null}function p(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function c(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function u(t,e,i){return e>t&&(t=e),t>i&&(t=i),t}function f(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=o;else{var s=o,r=(255-n)*o/255,a=(s-r)*(i%60)/60;360===i&&(i=0),60>i?(e.r=s,e.b=r,e.g=r+a):120>i?(e.g=s,e.b=r,e.r=s-a):180>i?(e.g=s,e.r=r,e.b=r+a):240>i?(e.b=s,e.r=r,e.g=s-a):300>i?(e.b=s,e.g=r,e.r=r+a):360>i?(e.r=s,e.g=r,e.b=s-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function m(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),"#"+i.join("")}function g(t){return m(f(t))}function v(t){var e=y(b(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),o=n-i;return e.b=n,e.s=0!==n?255*o/n:0,e.h=0!==e.s?t.r===n?(t.g-t.b)/o:t.g===n?2+(t.b-t.r)/o:4+(t.r-t.g)/o:-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function b(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(s,r){switch(s){case"destroy":return t(this).each(function(){i(t(this))}),t(this);case"hide":return o(),t(this);case"opacity":return void 0===r?t(this).attr("data-opacity"):(t(this).each(function(){a(t(this).attr("data-opacity",r))}),t(this));case"rgbObject":return d(t(this),"rgbaObject"===s);case"rgbString":case"rgbaString":return h(t(this),"rgbaString"===s);case"settings":return void 0===r?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};i(t(this)),t(this).minicolors(t.extend(!0,e,r))}),t(this));case"show":return n(t(this).eq(0)),t(this);case"value":return void 0===r?t(this).val():(t(this).each(function(){a(t(this).val(r))}),t(this));default:return"create"!==s&&(r=s),t(this).each(function(){e(t(this),r)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var i=t(this);e.preventDefault(),t(document).data("minicolors-target",i),s(i,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var i=t(document).data("minicolors-target");i&&s(i,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var i=t(this).parent().find(".minicolors-input");e.preventDefault(),n(i)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&n(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),i=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(c(e.val(),!0)),""===e.val()&&e.val(c(i.defaultValue,!0)),e.val(p(e.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var i=t(this);if(i.data("minicolors-initialized"))switch(e.keyCode){case 9:o();break;case 13:case 27:o(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&a(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){a(e,!0)},1)})}(jQuery),/**
 * alertify
 * An unobtrusive customizable JavaScript notification system
 *
 * @author Fabien Doiron <fabien.doiron@gmail.com>
 * @copyright Fabien Doiron 2013
 * @license MIT <http://opensource.org/licenses/mit-license.php>
 * @link http://fabien-d.github.com/alertify.js/
 * @module alertify
 * @version 0.3.7
 */
function(t,e){"use strict";var i,n=t.document;i=function(){var i,o,s,r,a,l,d,h,p,c,u,f,m={},g={},v=!1,y={ENTER:13,ESC:27,SPACE:32},b=[];return g={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<a href="#" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</a>',cancel:'<a href="#" class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</a>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},f=function(){var t,i=n.createElement("fakeelement"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(t in o)if(i.style[t]!==e)return o[t]},i=function(t){return n.getElementById(t)},m={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:e,addListeners:function(t){var e,i,a,l,d,h="undefined"!=typeof s,p="undefined"!=typeof o,f="undefined"!=typeof u,m="",g=this;e=function(e){return"undefined"!=typeof e.preventDefault&&e.preventDefault(),a(e),"undefined"!=typeof u&&(m=u.value),"function"==typeof t&&("undefined"!=typeof u?t(!0,m):t(!0)),!1},i=function(e){return"undefined"!=typeof e.preventDefault&&e.preventDefault(),a(e),"function"==typeof t&&t(!1),!1},a=function(){g.hide(),g.unbind(n.body,"keyup",l),g.unbind(r,"focus",d),f&&g.unbind(c,"submit",e),h&&g.unbind(s,"click",e),p&&g.unbind(o,"click",i)},l=function(t){var n=t.keyCode;n===y.SPACE&&!f&&e(t),n===y.ESC&&p&&i(t)},d=function(){f?u.focus():p?o.focus():s.focus()},this.bind(r,"focus",d),h&&this.bind(s,"click",e),p&&this.bind(o,"click",i),this.bind(n.body,"keyup",l),f&&this.bind(c,"submit",e),"undefined"==typeof this.transition&&this.setFocus()},bind:function(t,e,i){"function"==typeof t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},handleErrors:function(){if("undefined"!=typeof t.onerror){var e=this;return t.onerror=function(t,i,n){e.error("["+t+" on line "+n+" of "+i+"]",0)},!0}return!1},appendButtons:function(t,e){return this.buttonReverse?e+t:t+e},build:function(t){var e="",i=t.type,n=t.message,o=t.cssClass||"";switch(e+='<div class="alertify-dialog">',"none"===m.buttonFocus&&(e+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===i&&(e+='<form id="alertify-form">'),e+='<article class="alertify-inner">',e+=g.message.replace("{{message}}",n),"prompt"===i&&(e+=g.input),e+=g.buttons.holder,e+="</article>","prompt"===i&&(e+="</form>"),e+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',e+="</div>",i){case"confirm":e=e.replace("{{buttons}}",this.appendButtons(g.buttons.cancel,g.buttons.ok)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":e=e.replace("{{buttons}}",this.appendButtons(g.buttons.cancel,g.buttons.submit)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":e=e.replace("{{buttons}}",g.buttons.ok),e=e.replace("{{ok}}",this.labels.ok)}return h.className="alertify alertify-show alertify-"+i+" "+o,d.className="alertify-cover",e},close:function(t,e){var i,n,o=e&&!isNaN(e)?+e:this.delay,s=this;this.bind(t,"click",function(){i(t)}),n=function(t){t.stopPropagation(),s.unbind(this,s.transition,n),p.removeChild(this),p.hasChildNodes()||(p.className+=" alertify-logs-hidden")},i=function(t){"undefined"!=typeof t&&t.parentNode===p&&("undefined"!=typeof s.transition?(s.bind(t,s.transition,n),t.className+=" alertify-log-hide"):(p.removeChild(t),p.hasChildNodes()||(p.className+=" alertify-logs-hidden")))},0!==e&&setTimeout(function(){i(t)},o)},dialog:function(t,e,i,o,s){l=n.activeElement;var r=function(){h&&null!==h.scrollTop||r()};if("string"!=typeof t)throw new Error("message must be a string");if("string"!=typeof e)throw new Error("type must be a string");if("undefined"!=typeof i&&"function"!=typeof i)throw new Error("fn must be a function");return"function"==typeof this.init&&(this.init(),r()),b.push({type:e,message:t,callback:i,placeholder:o,cssClass:s}),v||this.setup(),this},extend:function(t){if("string"!=typeof t)throw new Error("extend method must have exactly one paramter");return function(e,i){return this.log(e,t,i),this}},hide:function(){var t,e=this;b.splice(0,1),b.length>0?this.setup():(v=!1,t=function(i){i.stopPropagation(),h.className+=" alertify-isHidden",e.unbind(h,e.transition,t)},"undefined"!=typeof this.transition?(this.bind(h,this.transition,t),h.className="alertify alertify-hide alertify-hidden"):h.className="alertify alertify-hide alertify-hidden alertify-isHidden",d.className="alertify-cover alertify-cover-hidden",l.focus())},init:function(){n.createElement("nav"),n.createElement("article"),n.createElement("section"),d=n.createElement("div"),d.setAttribute("id","alertify-cover"),d.className="alertify-cover alertify-cover-hidden",n.body.appendChild(d),h=n.createElement("section"),h.setAttribute("id","alertify"),h.className="alertify alertify-hidden",n.body.appendChild(h),p=n.createElement("section"),p.setAttribute("id","alertify-logs"),p.className="alertify-logs alertify-logs-hidden",n.body.appendChild(p),n.body.setAttribute("tabindex","0"),this.transition=f(),delete this.init},log:function(t,e,i){var n=function(){p&&null!==p.scrollTop||n()};return"function"==typeof this.init&&(this.init(),n()),p.className="alertify-logs",this.notify(t,e,i),this},notify:function(t,e,i){var o=n.createElement("article");o.className="alertify-log"+("string"==typeof e&&""!==e?" alertify-log-"+e:""),o.innerHTML=t,p.insertBefore(o,p.firstChild),setTimeout(function(){o.className=o.className+" alertify-log-show"},50),this.close(o,i)},set:function(t){var e;if("object"!=typeof t&&t instanceof Array)throw new Error("args must be an object");for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},setFocus:function(){u?(u.focus(),u.select()):a.focus()},setup:function(){var t,n=b[0],l=this;v=!0,t=function(e){e.stopPropagation(),l.setFocus(),l.unbind(h,l.transition,t)},"undefined"!=typeof this.transition&&this.bind(h,this.transition,t),h.innerHTML=this.build(n),r=i("alertify-resetFocus"),s=i("alertify-ok")||e,o=i("alertify-cancel")||e,a="cancel"===m.buttonFocus?o:"none"===m.buttonFocus?i("alertify-noneFocus"):s,u=i("alertify-text")||e,c=i("alertify-form")||e,"string"==typeof n.placeholder&&""!==n.placeholder&&(u.value=n.placeholder),this.addListeners(n.callback)},unbind:function(t,e,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)}},{alert:function(t,e,i){return m.dialog(t,"alert",e,"",i),this},confirm:function(t,e,i){return m.dialog(t,"confirm",e,"",i),this},extend:m.extend,init:m.init,log:function(t,e,i){return m.log(t,e,i),this},prompt:function(t,e,i,n){return m.dialog(t,"prompt",e,i,n),this},success:function(t,e){return m.log(t,"success",e),this},error:function(t,e){return m.log(t,"error",e),this},set:function(t){m.set(t)},labels:m.labels,debug:m.handleErrors}},"function"==typeof define?define([],function(){return new i}):"undefined"==typeof t.alertify&&(t.alertify=new i)}(this),function(t){var e=0,i=function(){return(new Date).getTime()+e++},n=function(t){return"["+t+"]$1"},o=function(t){return"_"+t+"_$1"};t(document).on("click",".add_fields",function(e){e.preventDefault();var s=t(this),r=s.data("association"),a=s.data("associations"),l=s.data("association-insertion-template"),d=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",h=s.data("association-insertion-node"),p=s.data("association-insertion-traversal"),c=parseInt(s.data("count"),10),u=new RegExp("\\[new_"+r+"\\](.*?\\s)","g"),f=new RegExp("_new_"+r+"_(\\w*)","g"),m=i(),g=l.replace(u,n(m)),v=[];for(g==l&&(u=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),f=new RegExp("_new_"+a+"_(\\w*)","g"),g=l.replace(u,n(m))),g=g.replace(f,o(m)),v=[g],c=isNaN(c)?1:Math.max(c,1),c-=1;c;)m=i(),g=l.replace(u,n(m)),g=g.replace(f,o(m)),v.push(g),c-=1;h=h?p?s[p](h):"this"==h?s:t(h):s.parent(),t.each(v,function(e,i){var n=t(i);h.trigger("cocoon:before-insert",[n]);h[d](n);h.trigger("cocoon:after-insert",[n])})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var i=t(this),n=i.data("wrapper-class")||"nested-fields",o=i.closest("."+n),s=o.parent();e.preventDefault(),s.trigger("cocoon:before-remove",[o]);var r=s.data("remove-timeout")||0;alertify.confirm("Are you sure you want to delete this section?",function(t){t&&setTimeout(function(){i.hasClass("dynamic")?o.remove():(i.prev("input[type=hidden]").val("true"),o.hide()),alertify.log("Don't forget to save."),s.trigger("cocoon:after-remove",[o])},r)})}),t(".remove_fields.existing.destroyed").each(function(){var e=t(this),i=e.data("wrapper-class")||"nested-fields";e.closest("."+i).hide()})}(jQuery),/**
 * Intro.js v0.8.0
 * https://github.com/usablica/intro.js
 * MIT licensed
 *
 * Copyright (C) 2013 usabli.ca - A weekend project by Afshin Mehrabani (@afshinmeh)
 */
function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)}(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0}}function i(t){var e=[],i=this;if(this._options.steps)for(var o=[],l=0,h=this._options.steps.length;h>l;l++){var p=n(this._options.steps[l]);if(p.step=e.length+1,"string"==typeof p.element&&(p.element=document.querySelector(p.element)),"undefined"==typeof p.element||null==p.element){var c=document.querySelector(".introjsFloatingElement");null==c&&(c=document.createElement("div"),c.className="introjsFloatingElement",document.body.appendChild(c)),p.element=c,p.position="floating"}null!=p.element&&e.push(p)}else{var o=t.querySelectorAll("*[data-intro]");if(o.length<1)return!1;for(var l=0,u=o.length;u>l;l++){var m=o[l],g=parseInt(m.getAttribute("data-step"),10);g>0&&(e[g-1]={element:m,intro:m.getAttribute("data-intro"),step:parseInt(m.getAttribute("data-step"),10),tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition})}for(var v=0,l=0,u=o.length;u>l;l++){var m=o[l];if(null==m.getAttribute("data-step")){for(;;){if("undefined"==typeof e[v])break;v++}e[v]={element:m,intro:m.getAttribute("data-intro"),step:v+1,tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var y=[],b=0;b<e.length;b++)e[b]&&y.push(e[b]);if(e=y,e.sort(function(t,e){return t.step-e.step}),i._introItems=e,f.call(i,t)){s.call(i);{t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton")}i._onKeyDown=function(e){27===e.keyCode&&1==i._options.exitOnEsc?(a.call(i,t),void 0!=i._introExitCallback&&i._introExitCallback.call(i)):37===e.keyCode?r.call(i):(39===e.keyCode||13===e.keyCode)&&(s.call(i),e.preventDefault?e.preventDefault():e.returnValue=!1)},i._onResize=function(){d.call(i,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",i._onKeyDown,!0),window.addEventListener("resize",i._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",i._onKeyDown),document.attachEvent("onresize",i._onResize))}return!1}function n(t){if(null==t||"object"!=typeof t||"undefined"!=typeof t.nodeType)return t;var e={};for(var i in t)e[i]=n(t[i]);return e}function o(t){this._currentStep=t-2,"undefined"!=typeof this._introItems&&s.call(this)}function s(){if(this._direction="forward","undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void a.call(this,this._targetElement);var t=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),h.call(this,t)}function r(){if(this._direction="backward",0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),h.call(this,t)}function a(t){var e=t.querySelector(".introjs-overlay");if(null!=e){e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500);var i=t.querySelector(".introjs-helperLayer");i&&i.parentNode.removeChild(i);var n=document.querySelector(".introjsFloatingElement");n&&n.parentNode.removeChild(n);var o=document.querySelector(".introjs-showElement");o&&(o.className=o.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var s=document.querySelectorAll(".introjs-fixParent");if(s&&s.length>0)for(var r=s.length-1;r>=0;r--)s[r].className=s[r].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function l(t,e,i,n){if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,i.style.display="inherit","undefined"!=typeof n&&null!=n&&(n.style.top=null,n.style.left=null),this._introItems[this._currentStep]){var o="",s=this._introItems[this._currentStep];o="string"==typeof s.tooltipClass?s.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+o).replace(/^\s+|\s+$/g,"");var o=this._options.tooltipClass,r=this._introItems[this._currentStep].position;switch(r){case"top":e.style.left="15px",e.style.top="-"+(m(e).height+10)+"px",i.className="introjs-arrow bottom";break;case"right":e.style.left=m(t).width+20+"px",i.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(e.style.top="15px"),e.style.right=m(t).width+20+"px",i.className="introjs-arrow right";break;case"floating":i.style.display="none";var a=m(e);e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+a.width/2+"px",e.style.marginTop="-"+a.height/2+"px","undefined"!=typeof n&&null!=n&&(n.style.left="-"+(a.width/2+18)+"px",n.style.top="-"+(a.height/2+18)+"px");break;case"bottom":default:e.style.bottom="-"+(m(e).height+10)+"px",i.className="introjs-arrow top"}}}function d(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],i=m(e.element),n=10;"floating"==e.position&&(n=0),t.setAttribute("style","width: "+(i.width+n)+"px; height:"+(i.height+n)+"px; top:"+(i.top-5)+"px;left: "+(i.left-5)+"px;")}}function h(t){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);{var e=this,i=document.querySelector(".introjs-helperLayer");m(t.element)}if(null!=i){var n=i.querySelector(".introjs-helperNumberLayer"),o=i.querySelector(".introjs-tooltiptext"),h=i.querySelector(".introjs-arrow"),f=i.querySelector(".introjs-tooltip"),g=i.querySelector(".introjs-skipbutton"),v=i.querySelector(".introjs-prevbutton"),y=i.querySelector(".introjs-nextbutton");if(f.style.opacity=0,null!=n){var b=this._introItems[t.step-2>=0?t.step-2:0];(null!=b&&"forward"==this._direction&&"floating"==b.position||"backward"==this._direction&&"floating"==t.position)&&(n.style.opacity=0)}d.call(e,i);var w=document.querySelectorAll(".introjs-fixParent");if(w&&w.length>0)for(var x=w.length-1;x>=0;x--)w[x].className=w[x].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var k=document.querySelector(".introjs-showElement");k.className=k.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),e._lastShowElementTimer&&clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=setTimeout(function(){null!=n&&(n.innerHTML=t.step),o.innerHTML=t.intro,l.call(e,t.element,f,h,n),i.querySelector(".introjs-bullets li > a.active").className="",i.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active",f.style.opacity=1,n.style.opacity=1},350)}else{var E=document.createElement("div"),C=document.createElement("div"),$=document.createElement("div"),T=document.createElement("div"),S=document.createElement("div"),_=document.createElement("div");E.className="introjs-helperLayer",d.call(e,E),this._targetElement.appendChild(E),C.className="introjs-arrow",T.className="introjs-tooltiptext",T.innerHTML=t.intro,S.className="introjs-bullets",this._options.showBullets===!1&&(S.style.display="none");for(var I=document.createElement("ul"),x=0,L=this._introItems.length;L>x;x++){var N=document.createElement("li"),D=document.createElement("a");D.onclick=function(){e.goToStep(this.getAttribute("data-stepnumber"))},0===x&&(D.className="active"),D.href="javascript:void(0);",D.innerHTML="&nbsp;",D.setAttribute("data-stepnumber",this._introItems[x].step),N.appendChild(D),I.appendChild(N)}if(S.appendChild(I),_.className="introjs-tooltipbuttons",this._options.showButtons===!1&&(_.style.display="none"),$.className="introjs-tooltip",$.appendChild(T),$.appendChild(S),1==this._options.showStepNumbers){var A=document.createElement("span");A.className="introjs-helperNumberLayer",A.innerHTML=t.step,E.appendChild(A)}$.appendChild(C),E.appendChild($);var y=document.createElement("a");y.onclick=function(){e._introItems.length-1!=e._currentStep&&s.call(e)},y.href="javascript:void(0);",y.innerHTML=this._options.nextLabel;var v=document.createElement("a");v.onclick=function(){0!=e._currentStep&&r.call(e)},v.href="javascript:void(0);",v.innerHTML=this._options.prevLabel;var g=document.createElement("a");g.className="introjs-button introjs-skipbutton",g.href="javascript:void(0);",g.innerHTML=this._options.skipLabel,g.onclick=function(){e._introItems.length-1==e._currentStep&&"function"==typeof e._introCompleteCallback&&e._introCompleteCallback.call(e),e._introItems.length-1!=e._currentStep&&"function"==typeof e._introExitCallback&&e._introExitCallback.call(e),a.call(e,e._targetElement)},_.appendChild(g),this._introItems.length>1&&(_.appendChild(v),_.appendChild(y)),$.appendChild(_),l.call(e,t.element,$,C,A)}0==this._currentStep&&this._introItems.length>1?(v.className="introjs-button introjs-prevbutton introjs-disabled",y.className="introjs-button introjs-nextbutton",g.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(g.innerHTML=this._options.doneLabel,v.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton introjs-disabled"):(v.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton",g.innerHTML=this._options.skipLabel),y.focus(),t.element.className+=" introjs-showElement";var M=p(t.element,"position");"absolute"!==M&&"relative"!==M&&(t.element.className+=" introjs-relativePosition");for(var j=t.element.parentNode;null!=j&&"body"!==j.tagName.toLowerCase();){var P=p(j,"z-index"),R=parseFloat(p(j,"opacity"));(/[0-9]+/.test(P)||1>R)&&(j.className+=" introjs-fixParent"),j=j.parentNode}if(!u(t.element)&&this._options.scrollToElement===!0){var B=t.element.getBoundingClientRect(),F=c().height,O=B.bottom-(B.bottom-B.top),H=B.bottom-F;0>O||t.element.clientHeight>F?window.scrollBy(0,O-30):window.scrollBy(0,H+100)}"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function p(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i&&i.toLowerCase?i.toLowerCase():i}function c(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function u(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}function f(t){var e=document.createElement("div"),i="",n=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",i);else{var o=m(t);o&&(i+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.setAttribute("style",i))}return t.appendChild(e),e.onclick=function(){1==n._options.exitOnOverlayClick&&(a.call(n,t),void 0!=n._introExitCallback&&n._introExitCallback.call(n))},setTimeout(function(){i+="opacity: .8;",e.setAttribute("style",i)},10),!0}function m(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var i=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e.top=n,e.left=i,e}function g(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}var v="0.8.0",y=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){var i=document.querySelector(t);if(i)return new e(i);throw new Error("There is no element with given selector.")}return new e(document.body)};return y.version=v,y.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=g(this._options,t),this},start:function(){return i.call(this,this._targetElement),this},goToStep:function(t){return o.call(this,t),this},nextStep:function(){return s.call(this),this},previousStep:function(){return r.call(this),this},exit:function(){a.call(this,this._targetElement)},refresh:function(){return d.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=y,y}),window.console&&console.log||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}});var RTE=function(){var t={sync:function(t){try{$(t).find(".js-ckeditor").editable("sync")}catch(e){window.Raven&&Raven.captureException(e)}},init:function(t){$(t).find(".js-ckeditor").editable({inlineMode:!1,spellcheck:!0,key:"Evf1urefdc1B8nab==",buttons:["undo","redo","sep","align","sep","bold","italic","underline","strikeThrough","subscript","superscript","fontSize","sep","removeFormat","formatBlock","insertOrderedList","insertUnorderedList","indent","outdent","sep","table","createLink","sep","pageBreak","sep"],customButtons:{pageBreak:{title:"Insert Page Break",icon:{type:"txt",value:"Page Break"},callback:function(){this.insertHTML('<p class="froala-pagebreak" style="page-break-after: always;">&nbsp;</p>'),this.sync()}}},shortcutsAvailable:["bold","italic","underline","indent","outdent","undo","redo","createLink"]})}};return t}(),Utils=function(){function t(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function e(t,e){$.ajax({type:"post",url:e,data:{stage:t},success:function(){console.log("completed")},error:function(){console.log("error",arguments)}})}function i(e){return t(e.replace(/^v\d_/,"").replace(/_/g," "))}function n(t,e){"show"==t?($(".js-modal-form-post .js-submit-button").show(),$(".js-upgrade-to-premium-btn").hide(),$(".upgrade-cta-in-template-preview").hide(),$(".js-preview-modal-download-links").show(),$(".js-template-hidden-field").val(e)):($(".js-modal-form-post .js-submit-button").hide(),$(".js-upgrade-to-premium-btn").show(),$(".upgrade-cta-in-template-preview").show(),$(".js-preview-modal-download-links").hide())}ROUTES={saveResume:"/users/:userID/resumes/:resumeID.json",reorder:"/users/:userID/resumes/:resumeID/reorder.json",updateStage:"/users/:userID/resumes/:resumeID/update_stage.json",uploadPhoto:"/users/:userID/resumes/:resumeID/photos.json",removePhoto:"/users/:userID/resumes/:resumeID/photos/remove.json",getPhoto:"/users/:userID/resumes/:resumeID/photos.json",updateMessages:"/users/:userID/update_messages.json",additionalSectionsList:"/users/:userID/resumes/:resumeID/additional_sections_list.json",addSection:"/users/:userID/resumes/:resumeID/add_section.json",templatePreview:"/users/:userID/resumes/:resumeID/template_preview.json",changeResumeURL:"/users/:userID/update_short_url.json",getDownloadLinks:"/users/:userID/resumes/:resumeID/get_download_links.json"};var o={formStateChanged:!1,getRouteFor:function(t,e,i){var n=ROUTES[t];return e&&(n=n.replace(":userID",e)),i&&(n=n.replace(":resumeID",i)),n},saveContent:function(t,e){var i="<div class='validation-error panel panel-danger'><div class='panel-heading'>Error</div><div class='panel-content'><ul></ul></div></div>",n="<span>Submitting...</span>",s="<div class='form-disabled'></div>",r=$(i),a=$(e.validationContainer||"#validation-container"),l=$(e.guestUserNoticeContainer||"#guest-user-notice-container"),d=$(e.submitButton),h=$(t),p=h.parents(".js-tab"),c=e.saveType,u=this,f=e.cbk,m=e.successMessage||"Saved your resume",g=e.userID,v=e.resumeID,y=h.serialize();$.ajax({type:h.attr("method"),url:h.attr("action")+".json",data:y,beforeSend:function(){a.empty(),d&&d.length&&(d.data("orig",d.html()),d.html(n).prop("disabled","disabled")),p.append(s)},success:function(t){if(t&&"success"==t.status){var e=t.next_step;p.html(t.section_partial);{p.find("form")}if(u.toggleMoveBtn(),p.find("#js-upload-photo").length&&o.initDropzone({userID:g,resumeID:v}),t.guest){var i="<div class='alert alert-warning bg-light guest-user-create-account-warning wiggle'><p><strong>Heads up: </strong>You are currently using Resumonk as a guest user. To retrieve this resume at a later date, please <a href='/users/convert-from-guest'>create an account</a>.</p></div>";l.html(i)}"background"!=c&&(alertify.success(m),t.converted_from_guest&&(alertify.success("Your free account was created successfully. You can access your resume any time by logging in to this account."),$(".js-logout-btn .js-logout-text").text("Logout"),$(".js-show-for-guest-user").remove(),$(".js-guest-user-form-true").removeClass("js-guest-user-form-true"))),"saveAndContinue"==c&&("show_links"==e?$("#download-resume-modal").modal("show"):($(".nav-tabs a[href='#"+e+"']").trigger("click"),$("html, body").animate({scrollTop:0},"fast")))}t.completeness_index&&u.updateProgressBar(t.completeness_index),t.guest&&t.guest===!1&&mixpanel&&(mixpanel.identify(t.user_id),mixpanel.people.set({$email:t.user_email})),f&&t.stage&&f(stage)},error:function(t){if("background"!=c){var e,i="";try{e=$.parseJSON(t.responseText).error;for(error in e)i+="<li>"+e[error]+"</li> ";l.empty(),r.find("ul").append(i),a.html(r)}catch(n){}$("html, body").animate({scrollTop:0},"fast")}},complete:function(){o.formStateChanged=!1,RTE.init(p),d&&d.length&&d.html(d.data("orig")).prop("disabled",""),p.find(".form-disabled").remove()}})},initDropzone:function(t){var e=t.userID,i=t.resumeID,n=o.getRouteFor("uploadPhoto",e,i),s=o.getRouteFor("removePhoto",e,i);$.ajax({type:"GET",url:o.getRouteFor("getPhoto",t.userID,t.resumeID),success:function(t){t&&o.setupDropzoneElement("false"==t.status?{existingPhoto:!1,uploadUrl:n,removeUrl:s}:{existingPhoto:{file_name:t.file_name,url:t.url},uploadUrl:n,removeUrl:s})},error:function(){alertify.error("There was an error while initializing the photo uploader. Please reload and try again.")}})},setupDropzoneElement:function(t){var e=t.existingPhoto,i=t.uploadUrl,n=t.removeUrl;if(window.dropzoneInstance=new Dropzone("#js-upload-photo",{url:i,acceptedFiles:"image/*",maxFilesize:.5,maxFiles:1,method:"post",paramName:"file",thumbnailWidth:180,thumbnailHeight:180,clickable:".upload-trigger",dictDefaultMessage:"Click on the button below to upload your photo or drag & drop it here",init:function(){this.on("addedfile",function(t){var e=this,i=Dropzone.createElement("<a class='dz-remove'>Remove photo</a>");i.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),e.removeFile(t),o.dropzoneRemoveFile({removeUrl:n,cbk:function(){dropzoneInstance.off("maxfilesreached"),dropzoneInstance.options.maxFiles=1}}),$(".dz-default.dz-message").show()}),t.previewElement.appendChild(i)}).on("uploadprogress",function(){$(".upload-trigger.dz-clickable").text("Uploading...")}).on("success",function(){$(".upload-trigger.dz-clickable").addClass("js-change-photo").text("Change Photo"),dropzoneInstance.options.maxFiles=2,dropzoneInstance._updateMaxFilesReachedClass(),dropzoneInstance.off("maxfilesreached").on("maxfilesreached",function(t){$(".dz-default.dz-message").hide(),this.removeAllFiles(),this.addFile(t[1])})}).on("error",function(t,e){var i=this.files.length>=1?"Change ":"Upload ";$(".upload-trigger.dz-clickable").text(i+"Photo"),this.removeFile(t),alertify.error(e)})}}),e){var s={name:e.file_name,size:12345,type:"image/jpeg",status:Dropzone.ADDED,url:e.url,accepted:!0};dropzoneInstance.emit("addedfile",s),dropzoneInstance.emit("thumbnail",s,e.url),dropzoneInstance.emit("complete",s),dropzoneInstance.files.push(s),dropzoneInstance.options.maxFiles=2,dropzoneInstance._updateMaxFilesReachedClass(),dropzoneInstance.on("maxfilesreached",function(t){$(".dz-default.dz-message").hide(),this.removeAllFiles(),this.addFile(t[1])})}},dropzoneRemoveFile:function(t){var e="";$.ajax({type:"DELETE",url:t.removeUrl,beforeSend:function(){e=$(".dz-default.dz-message").text(),$(".dz-default.dz-message").text("Removing photo...")},success:function(){alertify.success("Removed your photo."),console.log("removed"),$(".dz-default.dz-message").text(e),$(".upload-trigger.dz-clickable").removeClass("js-change-photo").text("Upload Photo"),t.cbk&&t.cbk()},error:function(){console.log("error")}})},saveDesignSettings:function(t,e){var i=$(e.submitButton),n=$(t),o=n.attr("action")+".json";$.ajax({type:"PUT",url:o,data:n.serialize(),beforeSend:function(){i.data("orig",i.val()),i.val("Submitting...").prop("disabled","disabled")},success:function(t){t&&"success"==t.status&&alertify.success("Saved your resume design")},error:function(){alertify.error("There was a problem while saving your resume's design settings. Please try again.")},complete:function(){i.val(i.data("orig")).prop("disabled","")}})},saveLayoutOrder:function(t){var e=[];$(".custom-tab > li.draggable").each(function(){e.push($(this).data("section"))}),$.ajax({type:"post",url:t,data:{layout_order:e},success:function(t){t&&t.status&&"success"==t.status&&alertify.success("Updated layout order")},error:function(){alertify.error("Could not save your layout order. Please reload this page and try again")}})},updateLocationHash:function(t){var e="#"==t.substr(0,1)?t.substr(1):t;location.replace("#!"+e)},toggleToTabWithoutEvent:function(t){$(".nav-tabs.custom-tab .active").removeClass("active"),$(".nav-tabs.custom-tab a[href='#"+t+"']").parent().addClass("active"),$(".tab-content.paper-content .tab-pane.active").removeClass("active"),$("#"+t).addClass("active"),this.updateLocationHash(t)},triggerAddFieldClick:function(t){var e=$(t);e.find(".nested-fields").length||e.find(".links .add_fields").trigger("click")},trackAndUpdate:function(t,n){var o=t;for(var t in o){var s=i(t);mixpanel&&(mixpanel.track(s,{},e(t,n)),mixpanel.people.set({stage:s}))}},updateProgressBar:function(t){var e=Math.round(t/10*100);e=e>=100?100:e,$(".js-completeness-progress-bar").each(function(){var t=""+e+"%";$(this).find(".progress-bar").css("width",t),$(this).find(".js-percentage-text").text(t)})},toggleMoveBtn:function(){$(".js-tab.active .nested-fields .js-move-down, .js-tab.active .nested-fields .js-move-up").show(),$(".js-tab.active .nested-fields:visible:last .js-move-down").hide(),$(".js-tab.active .nested-fields:visible:first .js-move-up").hide()},initializeCarousel:function(t,e){e||(e=function(){}),$(t).owlCarousel({items:5,navigation:!0,navigationText:["<i class='fa fa-chevron-left'></i>","<i class='fa fa-chevron-right'></i>"],afterInit:e})},startIntro:function(t){$(".nav-tabs.custom-tab a[href='#basic']").trigger("click"),introJs().setOption("skipLabel","Close").onbeforechange(function(t){var e=$(t),i=$(e).parents(".js-tab");if(console.log(i.attr("id")),i&&!i.hasClass("active")){var n=i.attr("id"),o=$(".custom-tab a[href='#"+n+"']");o.trigger("click")}}).oncomplete(function(){t&&$(t).trigger("click")}).start()},getTemplatePreview:function(t,e){var i=$(".resume_container");t+=e?"?template="+e:"",$.ajax({type:"GET",url:t,success:function(t){var s=t;s.cover_letter&&s.cover_letter.length?($("#resume-embed #resume-tab").html(s.resume),$("#resume-embed #coverletter-tab").html(s.cover_letter)):$("#resume-embed").html(s.resume),i.attr("class","resume_container "+t.template),s.has_access?(n("show",t.template),e&&o.showPreviewSaveMessage()):n("hide");var r=$(".template-list-in-modal").find("[data-template='"+t.template+"']").parent();if($(".template-list-in-modal .active").removeClass("active"),r.addClass("active"),$(".js-color-hidden-field").val()&&o.setTemplateColor($(".js-color-hidden-field").val()),$(".js-font-hidden-field").val()&&o.setTemplateFont($(".js-font-hidden-field").val()),!e){var a=r.index(),l=$(".template-list-in-modal").data("owlCarousel");l.jumpTo(a)}},error:function(){alertify.error("Could not load this template. Please reload this page and try again")},complete:function(){console.log("complete"),$(".template-list-in-modal .loading").remove()}})},showPreviewSaveMessage:function(){o.hasUnsavedDesignChanges=!0,$(".js-unsaved-changes-helper").html("<span class='unsaved-design-changes bg-warning'>You have unsaved design changes. Please save before downloading your resume.</span>").addClass("active"),setTimeout(function(){$(".js-unsaved-changes-helper").removeClass("active")},500)},hidePreviewSaveMessage:function(){o.hasUnsavedDesignChanges=!1,$(".js-unsaved-changes-helper").empty().removeClass("active")},setTemplateColor:function(t){var e,i=$("#resume-embed");t?e="#fff":(t="",e=""),console.log(t,e),$(".js-color-hidden-field").val(t),i.find(".section_header span, .label-container span").css("color","inherit"),i.find("h1, h2, h3, h4, h5, h6, p, li, p, ul, ul li, strong, blockquote, input, .label, .section_header, div, .label-container").css("color",t),i.find(".personal_details, .about, .resume, .objective_wrapper, .name, .section, .item, .section_header, .one-fourth, .photo img").css("border-color",t);var n=i.parents(".resume_container").attr("class").split(" ")[1];switch(n){case"concrete":i.find(".section_header").css({background:t,color:e});break;case"prestige":i.find(".section_header").css({background:t,color:e}),i.find(".contact .label-container span").css({background:t,color:e});break;case"stylismo":i.find(".section_header").css({background:t,color:e}),i.find(".section_header span").css({color:e});break;case"modernism":i.find(".contact .label-container span").css({color:t});break;case"collegium":case"clear":i.find(".section_header, .name h1").css({background:t,color:t}),i.find(".contact span").css({color:t});break;case"charisma":i.find(".section_header, .name h1").css({color:t}),i.find(".contact span").css({color:t}),i.find(".section_header .border").css({"border-color":t});break;case"slate":i.find(".section_header span").css({"border-color":t})}},setTemplateFont:function(t){var e=$("#resume-embed");$(".font-dropdown-btn strong.btn-text").text(t);var i=t?t+"regular":"",n=t?t+"bold":"",o=t?"normal":"bold";e.find("body, p, ul, li, span, label, .label, .date, blockquote, em, h1 em.light, a, div").css({"font-family":i,"font-weight":"normal"}),e.find("h1, h2, h3, h4, h5, h6, h1 span, h2 span, strong").css({"font-weight":o,"font-family":n}),$(".js-font-hidden-field").val(t||"")},setTemplateMargin:function(t,e){var i=$(".resume_container"),n="padding-"+t;i.css(n,2*parseInt(e))}};return o}();jQuery(document).ready(function(t){var e=t("#user-show");if(e.length){var i=e.data("user-id");e.on("click",".js-toggle-privacy",function(e){e.preventDefault();var i=t(this),n=i.data("url");t(".popover").popover("hide"),t.ajax({type:"post",url:n,beforeSend:function(){i.data("orig",i.text()),i.text("Saving...")},success:function(e){if(console.log(e),e&&"success"==e.status){{var i="#"+e.resume_id;t(i).find(".js-privacy-container").html(e.partial)}t('[data-toggle="tooltip"]').tooltip(),t('[data-toggle="popover"]').popover()}},error:function(){console.log("ERROR",arguments)},complete:function(){t(".popover").popover("hide")}})}),e.on("submit",".js-dashboard-resume-rename-form",function(e){e.preventDefault();var i=t(this),n=i.data("resume-row"),o=t(n),s=o.find(".js-resume-name-text"),r=(t("<div class='validation-error panel panel-danger'><div class='panel-heading'>Some errors prevented this your data from being saved.</div><div class='panel-content'><ul></ul></div></div>"),i.parent(),t(this).find(".js-resume-title-field").val()),a=i.find("[name='commit']");t.ajax({type:"PUT",url:t(this).attr("action")+".json",data:i.serialize(),beforeSend:function(){a.data("orig",a.val()),a.val("Submitting...").prop("disabled","disabled")},success:function(t){t&&"success"==t.status&&s.text(r)},error:function(){a.val(a.data("orig")).prop("disabled","")},complete:function(){a.val(a.data("orig")).prop("disabled",""),t(".rename-resume-popover-btn").popover("hide")}})}),e.on("click",".js-change-resume-url",function(e){e.preventDefault();var i=t(this).data("resume-id"),n=t(this).data("resume-url");t("#change-resume-url-form #resume-id-field").val(i),t("#change-resume-url-form #resume-url-field").val(n).focus(),t("#change-resume-url-modal").modal("show")}),t("#change-resume-url-modal").on("shown.bs.modal",function(){var e=t(this).find(".validation-error");e.length&&e.remove()}),t("#change-resume-url-form").on("submit",function(e){e.preventDefault();var n=t(this),o=t("<div class='validation-error panel panel-danger'><div class='panel-heading'>Some errors prevented this your data from being saved.</div><div class='panel-content'><ul></ul></div></div>"),s=(n.parent(),n.find("[name='commit']"));t.ajax({type:"put",data:{resume_id:t("#resume-id-field").val(),resume_short_link:t("#resume-url-field").val()},url:Utils.getRouteFor("changeResumeURL",i),beforeSend:function(){s.data("orig",s.text()),s.text("Submitting...").prop("disabled","disabled")},success:function(t){t&&"success"==t.status?(alertify.success("Updated your resume's URL"),setTimeout(function(){window.location.href=window.location.href},200)):alertify.error("Could not update your resume'e URL. Reload this page and try again.")},error:function(e){var i,s="";console.log(e);try{i=t.parseJSON(e.responseText).error}catch(r){i={message:"Please reload the page and try again"}}for(error in i)s+="<li>"+i[error]+"</li> ";o.find("ul").append(s),n.find(".validation-error").length&&t(".validation-error").remove(),n.prepend(o)},complete:function(){s.text(s.data("orig")).prop("disabled","")}})})}}),jQuery(document).ready(function(t){t.Editable.DEFAULTS.buttons.push("inlineStyle"),t.Editable.DEFAULTS.imagesLoadURL="https://i.froala.com/images",t.Editable.DEFAULTS.imageUploadURL="https://i.froala.com/upload",Dropzone.autoDiscover=!1;var e=t("#resume-editor"),i=e.data("user-id"),n=e.data("resume-id"),o=e.find("form.js-form-post").hasClass(".js-guest-user-form-true");e.length&&RTE.init(t(".tab-content.paper-content")),t("#help-button").on("click",function(e){e.preventDefault();var i=t(".nav-tabs.custom-tab li.active > a");Utils.startIntro(i)}),t(document).on("change",".js-create-account-checkbox",function(){var e=t(".js-password-fields");t(this).is(":checked")?e.slideDown():e.slideUp()}),t("#resumonk-v4-update-modal").on("hidden.bs.modal",function(){t.ajax({type:"post",url:Utils.getRouteFor("updateMessages",i),data:{field:"seen_v4_upgrade"},complete:function(t){t&&t.status&&"failure"==t.status&&alertify.error("Could not update your notification preferences. Please try again!")}})}),t(document).on("keyup",".section-title .editable",function(){var e=t(this).val(),i=t(this).parents(".js-tab.active"),n="#"+i.attr("id");t("a[href='"+n+"'] .js-section-name").text(e)}),t(".js-resume-title-field").on("keyup",function(){var e=t(this).val();t(".js-resume-title-span").text(e)}),t(document).on("click",".js-rename-section",function(e){e.preventDefault(),t(this).parents(".section-meta").find(".editable").focus()}),t(document).on("change",".section-meta .editable",function(){alertify.log("Don't forget to save.")}),t(document).on("change",".editable-label .editable",function(e){var i=t(e.target);t.trim(i.val())?alertify.log("Don't forget to save."):i.val(i.data("original-value"))});var s=t("<span title='Update section name' class='js-rename-save-btn'>\u2713</span>");if(t(".tab-content.paper-content").on("focus",".section-meta .editable",function(e){t(e.target).parent().append(s)}),t(".tab-content.paper-content").on("blur",".section-meta .editable",function(e){t(e.target).parent().find(".js-rename-save-btn").remove()}),t(".tab-content.paper-content").on("click",".js-toggle-edit-label",function(e){e.preventDefault();var i=t(e.target);i.prev().focus(),i.parents(".editable-label").addClass("editing")}),t(".tab-content.paper-content").on("blur",".editable-label input",function(e){var i=t(e.target);
i.parents(".editable-label").removeClass("editing")}),t("#js-add-section-dropdown").on("show.bs.dropdown",function(){var e=t("#js-add-section-dropdown .dropdown-menu");t.ajax({method:"get",url:Utils.getRouteFor("additionalSectionsList",i,n),success:function(i){var n=i,o="";n.length||(o+="<li class='empty-list-item'>You are using all the available sections. Nothing left to add.</li>"),t.each(n,function(t,e){o+="<li><a href='#' data-section='"+e.actual_name+"' class='js-add-section-btn' data-section-header='"+e.user_specified_name+"'>"+e.user_specified_name+"</a></li>"}),e.empty().append(o)}})}),t("#resume-editor").on("cocoon:after-insert",function(e,i){RTE.init(i),Utils.toggleMoveBtn(),t('[data-toggle="popover"]').popover(),$insertedItem=t(i),$insertedItem.index()&&$insertedItem.find(".js-position-field").val($insertedItem.index())}),t("#resume-editor").on("cocoon:after-remove",function(){Utils.toggleMoveBtn()}),"#!"==location.hash.substr(0,2)){var r=location.hash.substr(2);t(".nav-tabs.custom-tab a[href='#"+r+"']").tab("show")}Utils.triggerAddFieldClick(t(".js-tab.active"));var a=t('.nav-tabs.custom-tab [data-toggle="tab"]');a.on("show.bs.tab",function(e){var o=t(e.relatedTarget);if(o&&o.length){var s=t(o.attr("href")),r=Utils.getRouteFor("updateStage",i,n),a=s.find("form.js-form-post");Utils.saveContent(a,{saveType:"background",stageURL:r,userID:i,resumeID:n})}var l=t(e.target),d=t(l.attr("href"));Utils.triggerAddFieldClick(d),Utils.toggleMoveBtn(),Utils.updateLocationHash(l.attr("href"))}),t(document).on("click",".js-save-now",function(e){e.preventDefault();var o=t(this),s=t(this).parents("form"),r=Utils.getRouteFor("updateStage",i,n);Utils.saveContent(s,{saveType:"inplace",submitButton:o,stageURL:r,userID:i,resumeID:n})}),e.length&&t(document).on("keydown",function(t){if((t.ctrlKey||t.metaKey)&&83==t.which){t.preventDefault();var i=e.find(".js-tab.active .js-save-now");return i&&i.first()&&i.first().trigger("click"),!1}}),t(document).on("click",".js-save-and-continue-button",function(e){e.preventDefault();var o=t(this),s=t(this).parents("form");Utils.saveContent(s,{saveType:"saveAndContinue",submitButton:o,userID:i,resumeID:n})}),t(document).on("click",".js-add-section-btn",function(e){e.preventDefault();var o=t(this).data("section"),s=t(this).data("section-header");t.ajax({type:"post",url:Utils.getRouteFor("addSection",i,n),data:{section:o},success:function(e){if(!t("#"+o).length&&e){var i=t(".custom-tab"),n=t(".paper-content");n.append('<div class="tab-pane js-tab active" id="'+o+'">'+e+"</div>"),i.append('<li class="draggable" data-section='+o+'><a href="#'+o+'" data-toggle="tab"><i class="fa fa-arrows reorder-handle"></i> '+s+"</a></li>"),Utils.toggleToTabWithoutEvent(o);var r=n.find(".tab-pane.active");RTE.init(r),Utils.triggerAddFieldClick(r)}}})}),t(document).on("click",".js-delete-section-button",function(e){e.preventDefault();var i=t(this).data("section"),n=t(this).data("url");t.ajax({type:"delete",url:n,data:{section:i},success:function(){var e=t(".tab-pane .active"),i=e.attr("id"),n=t(".nav-tabs.custom-tab a[href='#"+i+"']"),o=o=t(".nav-tabs > li.not-draggable:first > a");n.parent().remove(),e.remove();var s=o.attr("href").replace("#","");Utils.toggleToTabWithoutEvent(s),alertify.success("Deleted section")},error:function(){alertify.error("Could not delete this section. Please reload this page and try again")}})}),Utils.toggleMoveBtn(),t(document).on("click",".js-move-up",function(e){e.preventDefault();var i=t(this).parents(".nested-fields"),n=i.prevAll(".nested-fields:first");0!==n.length&&i.insertBefore(n).addClass("moved"),setTimeout(function(){i.removeClass("moved")},800),Utils.toggleMoveBtn(),i.find("fieldset input.first-field").focus(),t(".js-tab.active .nested-fields").each(function(){var e=t(this).find(".js-position-field");e.val(t(this).index())}),alertify.log("Don't forget to save")}),t(document).on("click",".js-move-down",function(e){e.preventDefault();var i=t(this).parents(".nested-fields"),n=i.nextAll(".nested-fields:first");0!==n.length&&i.insertAfter(n).addClass("moved"),setTimeout(function(){i.removeClass("moved")},800),i.find("fieldset input.first-field").focus(),t(".js-tab.active .nested-fields").each(function(){var e=t(this).find(".js-position-field");e.val(t(this).index())}),Utils.toggleMoveBtn(),alertify.log("Don't forget to save")}),t("ul.nav-tabs.custom-tab").sortable({group:"nav",nested:!1,vertical:!0,handle:"i.reorder-handle",itemSelector:"li.draggable",sensitivity:10,onDrop:function(t,e,o){Utils.saveLayoutOrder(Utils.getRouteFor("reorder",i,n)),o(t,e)},onDragStart:function(t,e,i){var n=t.offset(),o=e.rootGroup.pointer;adjustment={left:o.left-n.left,top:o.top-n.top},i(t,e)},onDrag:function(t,e){t.css({left:e.left-adjustment.left,top:e.top-adjustment.top})}}),t(".js-dismiss-message-bar").on("click",function(e){var i=t(this).data("message"),n=t(this).data("url")||"";e.preventDefault(),t.ajax({type:"post",url:n+".json",data:{field:i},complete:function(e){e&&e.status&&"failure"==e.status?alertify.error("Could not update your notification preferences. Please try again!"):t(".js-message-bar").remove()}})}),t(".js-tab.active .js-form-post").find(":input").off("change input").on("change input",function(){Utils.formStateChanged=!0}),t(".js-tab.active .js-form-post").find(".js-ckeditor").off("editable.contentChanged").on("editable.contentChanged",function(){Utils.formStateChanged=!0}),t(window).on("beforeunload",function(){return RTE.sync(t(".js-tab.active .js-form-post")),1==Utils.formStateChanged?o?"You are currently using Resumonk as a guest, if you leave now, you will not be able to save your resume and retreive it at a later date. Are you sure you want to leave?":"You have unsaved changes. Are you sure you want to leave?":void 0});var l=t("#js-upload-photo");l.length&&Utils.initDropzone({userID:i,resumeID:n});var d=t(".js-import-btn-tooltip-container");d.length&&(d.popover({placement:"left",trigger:"manual",html:!0,content:"Don't feel like typing? Import your profile from LinkedIn."}),d.popover("show"),d.one("mouseover",function(){d.popover("hide")}))}),jQuery(document).ready(function(t){t("#template-preview-select").on("change",function(){location.href=t(this).val()});var e=t(".resume-cl-switcher");if(e.length&&"#"==location.hash.substr(0,1)){var i=location.hash.substr(1);t(".resume-cl-switcher a[href='#"+i+"']").tab("show")}}),jQuery(document).ready(function(t){t(".js-cover-letter-form").length&&(RTE.init(t(".js-cover-letter-form")),t(document).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&83==e.which){e.preventDefault();var i=t(".js-cover-letter-form");return i&&i.trigger("submit"),!1}})),t(document).on("submit",".js-cover-letter-form",function(e){e.preventDefault();var i=t(this),n=i.find("input[type='submit']");Utils.saveContent(i,{saveType:"inplace",submitButton:n,successMessage:"Saved your cover letter"})})}),jQuery(document).ready(function(t){var e=t("#resume-preview"),i=e.data("user-id"),n=e.data("resume-id"),o=Utils.getRouteFor("templatePreview",i,n);if(e.length&&(Utils.initializeCarousel(".template-list-in-modal"),Utils.getTemplatePreview(o)),t(".js-toggle-page-settings").on("click",function(e){e.preventDefault(),t(".js-page-settings").slideToggle("fast",function(){var e=t(this);e.is(":visible")?t(".js-toggle-page-settings i").removeClass("fa-chevron-down").addClass("fa-chevron-up"):t(".js-toggle-page-settings i").removeClass("fa-chevron-up").addClass("fa-chevron-down")})}),t(".template-list-in-modal").on("click",".js-template-list-item",function(e){e.preventDefault();var i=this,n=t(this).data("template");t(i).append("<span class='loading'>Loading...</span>"),Utils.getTemplatePreview(o,n)}),t(".js-spacing-list a").on("click",function(e){e.preventDefault(),t(".js-spacing-list li.active").removeClass("active"),t(this).parent().addClass("active");var i=t(this).attr("class"),n=t("#resume-embed"),o=t(".js-spacing-hidden-field");"small"==i?n.css("font-size","12px"):"medium"==i?n.css("font-size","13px"):n.css("font-size","15px"),o.val(i),Utils.showPreviewSaveMessage()}),t(".js-font-list a").on("click",function(e){e.preventDefault(),t("#js-resume-font").length&&t("#js-resume-font").remove();var i=t(this).data("font-label");Utils.setTemplateFont(i),Utils.showPreviewSaveMessage()}),t(".js-reset-font").on("click",function(e){e.preventDefault(),t("#js-resume-font").length&&t("#js-resume-font").remove(),Utils.setTemplateFont(),Utils.showPreviewSaveMessage()}),t(".js-color-picker").minicolors({changeDelay:200,change:function(e){t("#resume-embed");t(".js-color-hidden-field").val(e).trigger("change"),t(".js-unsaved-changes-helper").text("Please save your design settings"),Utils.setTemplateColor(e),Utils.showPreviewSaveMessage()}}),t(".js-reset-color").on("click",function(e){e.preventDefault(),t("#js-resume-custom-color").length&&t("#js-resume-custom-color").remove(),t(".js-color-hidden-field").val(""),t(".js-color-picker").val(""),Utils.showPreviewSaveMessage(),Utils.setTemplateColor(null)}),t(".js-margin-select").on("change",function(){var e=t(this);Utils.setTemplateMargin(e.data("direction"),e.val()),Utils.showPreviewSaveMessage()}),t(".js-margin-select").each(function(){var e=t(this);Utils.setTemplateMargin(e.data("direction"),e.val())}),t(".js-page-size-select").on("change",function(){Utils.showPreviewSaveMessage()}),t(".js-modal-form-post").on("submit",function(e){e.preventDefault();var i=t(this),n=i.find("input[type='submit']");Utils.hidePreviewSaveMessage(),Utils.saveDesignSettings(i,{submitButton:n})}),t(".js-carousel-photo-cv-template-selector").on("click",function(){var e=t(".template-list-in-modal").data("owlCarousel"),i=t(".template-list-in-modal .js-template-list-item").length;e.goTo(i-1)}),t(".js-carousel-toggle-photo-templates").on("change",function(){var e=t(this),i=t(".template-list-in-modal").data("owlCarousel");e.is(":checked")?t(".js-template-list-item:not('.js-photo-template')").each(function(){var e=t(this).parent(),n=e.index();e.clone().appendTo(t("#js-hidden-carousel-elements")),i.removeItem(n)}):(t(".js-template-list-item.js-photo-template").each(function(){var e=t(this).parent(),n=e.index();e.clone().appendTo(t("#js-hidden-carousel-elements")),i.removeItem(n)}),t("#js-hidden-carousel-elements .js-template-list-item").each(function(){var e=t(this).parent();i.addItem(e.html()),e.remove()}))}),t(".js-preview-modal-download-links").length){var s=t(".js-preview-modal-download-links .dropdown"),r=s.find(".dropdown-menu .js-dropdown-container");r.empty().append("<span>Loading...</span>"),s.on("show.bs.dropdown",function(){t.ajax({method:"get",url:Utils.getRouteFor("getDownloadLinks",i,n),success:function(e){console.log(e),Utils.hasUnsavedDesignChanges===!0&&t(".js-preview-modal-download-links .dropdown"),r.empty().append(e)},error:function(){alertify.error("Sorry, there was an error while processing this request. Please reload this page and try again.")}})})}var a=t(".js-modal-form-post .js-submit-button");t(".js-unsaved-changes-helper").on("mouseover",function(){a.addClass("emphasis")}).on("mouseout",function(){a.removeClass("emphasis")});var l=t(".js-back-to-editor-import-btn.js-imported-from-linkedin");l.length&&(l.popover({placement:"right",trigger:"manual",html:!0,content:"Switch to the resume editor to change your resume's content."}),l.popover("show"),l.one("mouseover",function(){l.popover("hide")}))}),jQuery(document).ready(function(t){var e=t(".js-purchase-card");if(e.length){var i=e.find(".js-purchase-btn"),n=e.find(".js-purchase-form");t(".js-plan-change-radio").on("change",function(){var e=t(this).val(),o="regular"==e?"Premium Plan":"Lifetime Plan",s=t(this).parent().data("price"),r=n.attr("action").split("?")[0];n.attr("action",r+"?plan="+e),i.val("Buy "+o+" Now ($ "+s+")")})}}),jQuery(document).ready(function(t){t("#discount_code_form").on("submit",function(e){e.preventDefault();var i=t(".js-discount-container"),n=t(".discount-form");t.ajax({type:"post",url:t(this).attr("action"),data:t(this).serialize(),success:function(e){console.log(e,e.type),n.slideUp("fast",function(){t(".discount_code").append(e.discount_status)}),i.length&&i.html(e.discount_container)},error:function(){alert("Sorry, this discount code could not be applied. The code has expired or is not valid.")}})}),t("#owl-demo").length&&t("#owl-demo").owlCarousel({autoPlay:!1,navigation:!1,paginationSpeed:1e3,goToFirstSpeed:2e3,singleItem:!0,autoHeight:!0,transitionStyle:"fade"})}),jQuery(document).ready(function(t){function e(t,e,i){if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="; expires="+n.toGMTString()}else var o="";document.cookie=t+"="+e+o+"; path=/"}var i=t(".affiliate-bar"),n=t(".discount-bar");if(i.length){var o=i.find(".js-close");o.on("click",function(t){t.preventDefault(),e("closeAffiliateBar","true",30),i.remove(),ga("send",{hitType:"event",eventCategory:"jobscan",eventAction:"click",eventLabel:"jobscan-close"})})}if(n.length){var o=n.find(".js-dismiss-discount-bar");o.on("click",function(t){t.preventDefault(),e("closeDiscountBar","true",30),n.remove()})}}),jQuery(document).ready(function(t){var e=t("#sample-resume-admin");e.length&&RTE.init(e)}),jQuery(document).ready(function(t){t(document).on("change",".btn-file :file",function(){var e=t(this),i=e.get(0).files,n=i?i.length:1,o=e.val().replace(/\\/g,"/").replace(/.*\//,""),s=e.parents("form");if("undefined"!=typeof FileReader){if(i&&i[0]){var r=i[0].size,a=r/1024;if(console.log(a),a>1e3)return alertify.error("Please upload a file that is less than 1MB in size."),s.trigger("reset"),void s.find(".js-file-label").text("");var l=i[0].type;if("application/pdf"!=l)return alertify.error("Please upload a valid PDF file."),s.trigger("reset"),void s.find(".js-file-label").text("")}}else if(i&&i[0]){var d=/\.pdf/;if(!d.exec(e.val()))return alertify.error("Please upload a valid PDF file."),s.trigger("reset"),void s.find(".js-file-label").text("")}e.trigger("fileselect",[n,o])}),t(".btn-file :file").on("fileselect",function(e,i,n){var o=t(this).parent().find(".js-file-label"),s=i>1?i+" files selected":n;o.length?o.text(s):s&&console.log(s)})}),jQuery(document).ready(function(t){t(document).on("click",".js-trigger-docx-generation",function(e){e.preventDefault(),t.ajax({type:"POST",url:t(this).data("url")}),t("#generateDocxModal").modal("show")})}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,i){return e>t?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,i,n){var o;return o="translate3d"===d.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},o.transition="all "+i+"ms "+n,o}function n(t,e){var i="string"==typeof t?t:r(t);return i.indexOf(" "+e+" ")>=0}function o(t,e){var i=r(t),o=i+e;n(i,e)||(t.className=o.substring(1))}function s(t,e){var i,o=r(t);n(t,e)&&(i=o.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function r(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.1.6";var d=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,i;for(e in t)i=t[e],void 0!==i&&t.hasOwnProperty(e)&&(d[e]=i);return this},l.status=null,l.set=function(e){var n=l.isStarted();e=t(e,d.minimum,1),l.status=1===e?null:e;var o=l.render(!n),s=o.querySelector(d.barSelector),r=d.speed,a=d.easing;return o.offsetWidth,h(function(t){""===d.positionUsing&&(d.positionUsing=l.getPositioningCSS()),p(s,i(e,r,a)),1===e?(p(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout(function(){p(o,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},r)},r)):setTimeout(t,r)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},d.trickleSpeed)};return d.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var i=l.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*d.trickleRate)},function(){var t=0,e=0;l.promise=function(i){return i&&"resolved"!=i.state()?(0==e&&l.start(),t++,e++,i.always(function(){e--,0==e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");o(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=d.template;var n,s=i.querySelector(d.barSelector),r=t?"-100":e(l.status||0),h=document.querySelector(d.parent);return p(s,{transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),d.showSpinner||(n=i.querySelector(d.spinnerSelector),n&&a(n)),h!=document.body&&o(h,"nprogress-custom-parent"),h.appendChild(i),i},l.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(d.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var h=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),p=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var i,n=o.length,s=t.charAt(0).toUpperCase()+t.slice(1);n--;)if(i=o[n]+s,i in e)return i;return t}function i(i){return i=t(i),s[i]||(s[i]=e(i))}function n(t,e,n){e=i(e),t.style[e]=n}var o=["Webkit","O","Moz","ms"],s={};return function(t,e){var i,o,s=arguments;if(2==s.length)for(i in e)o=e[i],void 0!==o&&e.hasOwnProperty(i)&&n(t,i,o);else n(t,s[1],s[2])}}();return l}),jQuery(function(){jQuery(document).on("page:fetch",function(){NProgress.start()}),jQuery(document).on("page:receive",function(){NProgress.set(.7)}),jQuery(document).on("page:change",function(){NProgress.done()}),jQuery(document).on("page:restore",function(){NProgress.remove()})}),function(){var t,e,i,n,o,s,r,a,l,d,h,p,c,u,f,m,g,v,y,b,w,x,k,E,C,$,T,S,_,I,L,N,D,A,M,j,P,R,B,F,O,H,z,U,W,q,X,V,G,Q,Y,K,J,Z,te,ee,ie=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},ne=function(t,e){function i(){this.constructor=t}for(var n in e)oe.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},oe={}.hasOwnProperty,se=[].slice,re=function(t,e){return function(){return t.apply(e,arguments)}};A={},c=10,K=!1,B=null,y=null,N=null,H=null,ee=null,n={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},E=function(t){var e;return t=new i(t),X(),p(),null!=B&&B.start(),K&&(e=J(t.absolute))?(C(e),$(t,null,!1)):$(t,Q)},J=function(t){var e;return e=A[t],e&&!e.transitionCacheDisabled?e:void 0},w=function(t){return null==t&&(t=!0),K=t},b=function(t){return null==t&&(t=!0),d?t?null!=B?B:B=new s("html"):(null!=B&&B.uninstall(),B=null):void 0},$=function(t,e,i){return null==i&&(i=!0),Z(n.FETCH,{url:t.absolute}),null!=ee&&ee.abort(),ee=new XMLHttpRequest,ee.open("GET",t.withoutHashForIE10compatibility(),!0),ee.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),ee.setRequestHeader("X-XHR-Referer",H),ee.onload=function(){var i;return Z(n.RECEIVE,{url:t.absolute}),(i=R())?(z(t),U(),u.apply(null,k(i)),D(),"function"==typeof e&&e(),Z(n.LOAD)):document.location.href=v()||t.absolute},B&&i&&(ee.onprogress=function(){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:B.value+(100-B.value)/10,B.advanceTo(e)}}(this)),ee.onloadend=function(){return ee=null},ee.onerror=function(){return document.location.href=t.absolute},ee.send()},C=function(t){return null!=ee&&ee.abort(),u(t.title,t.body),F(t),Z(n.RESTORE)},p=function(){var t;return t=new i(y.url),A[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(c)},j=function(t){return null==t&&(t=c),/^[\d]+$/.test(t)?c=parseInt(t):void 0},m=function(t){var e,i,o,s,r,a;for(r=Object.keys(A),e=r.map(function(t){return A[t].cachedAt}).sort(function(t,e){return e-t}),a=[],i=0,s=r.length;s>i;i++)o=r[i],A[o].cachedAt<=e[t]&&(Z(n.EXPIRE,A[o]),a.push(delete A[o]));return a},u=function(e,i,o,s){return Z(n.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(i,document.body),null!=o&&t.update(o),Y(),s&&x(),y=window.history.state,null!=B&&B.done(),Z(n.CHANGE),Z(n.UPDATE)},x=function(){var t,e,i,n,o,s,r,a,l,d,h,p;for(p=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,o=p.length;o>i;i++)if(h=p[i],""===(l=h.type)||"text/javascript"===l){for(e=document.createElement("script"),d=h.attributes,n=0,s=d.length;s>n;n++)t=d[n],e.setAttribute(t.name,t.value);h.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(h.innerHTML)),a=h.parentNode,r=h.nextSibling,a.removeChild(h),a.insertBefore(e,r)}},V=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},Y=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},z=function(t){return(t=new i(t)).absolute!==H?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},U=function(){var t,e;return(t=ee.getResponseHeader("X-XHR-Redirected-To"))?(t=new i(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},v=function(){var t;return null!=(t=ee.getResponseHeader("Location"))&&new i(t).crossOrigin()?t:void 0},X=function(){return H=document.location.href},q=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},W=function(){return y=window.history.state},D=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new i).hasNoHash()?(window.history.replaceState(y,"",t.withoutHash()),document.location.hash=t.hash):void 0},F=function(t){return window.scrollTo(t.positionX,t.positionY)},Q=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},f=function(t){var e,i,n;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(i in t)n=t[i],e[i]=f(n);return e},P=function(t){var e,i;return i=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",i},Z=function(t,e){var i;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),i=document.createEvent("Events"),e&&(i.data=e),i.initEvent(t,!0,!0),document.dispatchEvent(i)},M=function(t){return!Z(n.BEFORE_CHANGE,{url:t})},R=function(){var t,e,i,n,o,s;return e=function(){var t;return 400<=(t=ee.status)&&600>t},s=function(){var t;return null!=(t=ee.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(t){var e,i,n,o,s;for(o=t.querySelector("head").childNodes,s=[],e=0,i=o.length;i>e;e++)n=o[e],null!=("function"==typeof n.getAttribute?n.getAttribute("data-turbolinks-track"):void 0)&&s.push(n.getAttribute("src")||n.getAttribute("href"));return s},t=function(t){var e;return N||(N=n(document)),e=n(t),e.length!==N.length||o(e,N).length!==N.length},o=function(t,e){var i,n,o,s,r;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),s=[],i=0,n=t.length;n>i;i++)r=t[i],ie.call(e,r)>=0&&s.push(r);return s},!e()&&s()&&(i=g(ee.responseText),i&&!t(i))?i:void 0},k=function(e){var i;return i=e.querySelector("title"),[null!=i?i.textContent:void 0,V(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},g=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},i=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),o=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return ne(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,i,n,o;for(i=1<=arguments.length?se.call(arguments,0):[],n=0,o=i.length;o>n;n++)t=i[n],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new i).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(i),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(M(this.link.absolute)||te(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new o(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),s=function(){function t(t){this.elementSelector=t,this._trickle=re(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var i,n;return i=this.speed,this.speed=t,n=e(),this.speed=i,n},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),h=function(t){return setTimeout(t,500)},_=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(n.CHANGE),Z(n.UPDATE)},!0)},L=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?Z(n.UPDATE):void 0}):void 0},I=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=A[new i(t.state.url).absolute])?(p(),C(e)):te(t.target.location.href):void 0},S=function(){return q(),W(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(){return q(),W()},!1),h(function(){return window.addEventListener("popstate",I,!1)})},T=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&T,r=!navigator.userAgent.match(/CriOS\//),G="GET"===(O=P("request_method"))||""===O,d=l&&r&&G,a=document.addEventListener&&document.createEvent,a&&(_(),L()),d?(te=E,S()):te=function(t){return document.location.href=t},this.Turbolinks={visit:te,pagesCached:j,enableTransitionCache:w,enableProgressBar:b,allowLinkExtensions:o.allowExtensions,supported:d,EVENTS:f(n)}}.call(this),jQuery(document).ready(function(t){t('[data-toggle="tooltip"]').tooltip(),t('[data-toggle="popover"]').popover(),t(".js-close-popover").on("click",function(e){t(".popover").popover("hide"),e.preventDefault()}),t("body").on("click",function(e){t('[data-toggle="popover"]').each(function(){t(this).is(e.target)||0!==t(this).has(e.target).length||0!==t(".popover").has(e.target).length||t(this).popover("hide")})})});